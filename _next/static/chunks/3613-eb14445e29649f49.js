"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3613],{21759:function(e,t,n){n.d(t,{Q:function(){return w},Z:function(){return b}});var a=n(93805),r=n(33414),s=n(34892),o=n(76861),c=n(68929),i=n(5200),u=n(18713),d=n(3975),l=n(4083),h=n(48627),m=n(3858),y=n(18715),p=n(4052),f=n(7606);const w=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function b(e,t){const{account:n=e.account,blobs:b,chain:g,gas:P,kzg:C,nonce:v,nonceManager:x,parameters:k=w,type:q}=t,F=n?(0,a.T)(n):n,T={...t,...F?{from:F?.address}:{}};let G,I;async function R(){return G||(G=await(0,m.s)(e,o.Q,"getBlock")({blockTag:"latest"}),G)}async function z(){if(I)return I;if(g)return g.id;if(void 0!==t.chainId)return t.chainId;const n=await(0,m.s)(e,f.L,"getChainId")({});return I=n,I}if((k.includes("blobVersionedHashes")||k.includes("sidecars"))&&b&&C){const e=(0,u.P)({blobs:b,kzg:C});if(k.includes("blobVersionedHashes")){const t=(0,l.C)({commitments:e,to:"hex"});T.blobVersionedHashes=t}if(k.includes("sidecars")){const t=(0,d.y)({blobs:b,commitments:e,kzg:C}),n=(0,h.j)({blobs:b,commitments:e,proofs:t,to:"hex"});T.sidecars=n}}if(k.includes("chainId")&&(T.chainId=await z()),k.includes("nonce")&&void 0===v&&F)if(x){const t=await z();T.nonce=await x.consume({address:F.address,chainId:t,client:e})}else T.nonce=await(0,m.s)(e,c.K,"getTransactionCount")({address:F.address,blockTag:"pending"});if((k.includes("fees")||k.includes("type"))&&void 0===q)try{T.type=(0,p.l)(T)}catch{const e=await R();T.type="bigint"==typeof e?.baseFeePerGas?"eip1559":"legacy"}if(k.includes("fees"))if("legacy"!==T.type&&"eip2930"!==T.type){if(void 0===T.maxFeePerGas||void 0===T.maxPriorityFeePerGas){const n=await R(),{maxFeePerGas:a,maxPriorityFeePerGas:s}=await(0,r.C)(e,{block:n,chain:g,request:T});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<s)throw new i.ld({maxPriorityFeePerGas:s});T.maxPriorityFeePerGas=s,T.maxFeePerGas=a}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new i.e5;const n=await R(),{gasPrice:a}=await(0,r.C)(e,{block:n,chain:g,request:T,type:"legacy"});T.gasPrice=a}return k.includes("gas")&&void 0===P&&(T.gas=await(0,m.s)(e,s.Q,"estimateGas")({...T,account:F?{address:F.address,type:"json-rpc"}:F})),(0,y.F)(T),delete T.parameters,T}},28850:function(e,t,n){async function a(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}n.d(t,{p:function(){return a}})},8909:function(e,t,n){n.d(t,{T:function(){return b}});var a=n(93805),r=n(62631),s=n(73926),o=n(64253),c=n(2691),i=n(77832),u=n(35566),d=n(12277),l=n(3858),h=n(62275),m=n(18715),y=n(7606),p=n(21759),f=n(28850);const w=new h.k(128);async function b(e,t){const{account:n=e.account,chain:h=e.chain,accessList:b,authorizationList:g,blobs:P,data:C,gas:v,gasPrice:x,maxFeePerBlobGas:k,maxFeePerGas:q,maxPriorityFeePerGas:F,nonce:T,value:G,...I}=t;if(void 0===n)throw new r.o({docsPath:"/docs/actions/wallet/sendTransaction"});const R=n?(0,a.T)(n):null;try{(0,m.F)(t);const n=await(async()=>t.to?t.to:g&&g.length>0?await(0,o.z)({authorization:g[0]}).catch((()=>{throw new s.G("`to` is required. Could not infer from `authorizationList`.")})):void 0)();if("json-rpc"===R?.type||null===R){let t;null!==h&&(t=await(0,l.s)(e,y.L,"getChainId")({}),(0,c.q)({currentChainId:t,chain:h}));const a=e.chain?.formatters?.transactionRequest?.format,r=(a||d.tG)({...(0,u.K)(I,{format:a}),accessList:b,authorizationList:g,blobs:P,chainId:t,data:C,from:R?.address,gas:v,gasPrice:x,maxFeePerBlobGas:k,maxFeePerGas:q,maxPriorityFeePerGas:F,nonce:T,to:n,value:G}),s=w.get(e.uid)?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:s,params:[r]},{retryCount:0})}catch(t){const n=t;if("InvalidInputRpcError"===n.name||"InvalidParamsRpcError"===n.name||"MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name)return await e.request({method:"wallet_sendTransaction",params:[r]},{retryCount:0}).then((t=>(w.set(e.uid,!0),t)));throw n}}if("local"===R?.type){const t=await(0,l.s)(e,p.Z,"prepareTransactionRequest")({account:R,accessList:b,authorizationList:g,blobs:P,chain:h,data:C,gas:v,gasPrice:x,maxFeePerBlobGas:k,maxFeePerGas:q,maxPriorityFeePerGas:F,nonce:T,nonceManager:R.nonceManager,parameters:[...p.Q,"sidecars"],value:G,...I,to:n}),a=h?.serializers?.transaction,r=await R.signTransaction(t,{serializer:a});return await(0,l.s)(e,f.p,"sendRawTransaction")({serializedTransaction:r})}if("smart"===R?.type)throw new r.Y({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new r.Y({docsPath:"/docs/actions/wallet/sendTransaction",type:R?.type})}catch(e){if(e instanceof r.Y)throw e;throw(0,i.$)(e,{...t,account:R,chain:t.chain||void 0})}}},49546:function(e,t,n){n.d(t,{l:function(){return o}});var a=n(93805),r=n(62631),s=n(59540);async function o(e,{account:t=e.account,message:n}){if(!t)throw new r.o({docsPath:"/docs/actions/wallet/signMessage"});const o=(0,a.T)(t);if(o.signMessage)return o.signMessage({message:n});const c="string"==typeof n?(0,s.$G)(n):n.raw instanceof Uint8Array?(0,s.NC)(n.raw):n.raw;return e.request({method:"personal_sign",params:[c,o.address]},{retryCount:0})}},48575:function(e,t,n){n.d(t,{n:function(){return u}});var a=n(93805),r=n(62631),s=n(42333),o=n(7649),c=n(3858),i=n(8909);async function u(e,t){const{abi:n,account:u=e.account,address:d,args:l,dataSuffix:h,functionName:m,...y}=t;if(void 0===u)throw new r.o({docsPath:"/docs/contract/writeContract"});const p=u?(0,a.T)(u):null,f=(0,s.R)({abi:n,args:l,functionName:m});try{return await(0,c.s)(e,i.T,"sendTransaction")({data:`${f}${h?h.replace("0x",""):""}`,to:d,account:p,...y})}catch(e){throw(0,o.S)(e,{abi:n,address:d,args:l,docsPath:"/docs/contract/writeContract",functionName:m,sender:p?.address})}}},36319:function(e,t,n){n.d(t,{e:function(){return a}});const a=(0,n(35174).a)({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}})},71362:function(e,t,n){n.d(t,{e:function(){return s}});var a=n(93805),r=n(786);function s(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:s,key:o="base",name:c="Base Client",pollingInterval:i=4e3,type:u="base"}=e,d=e.chain,l=e.account?(0,a.T)(e.account):void 0,{config:h,request:m,value:y}=e.transport({chain:d,pollingInterval:i}),p={account:l,batch:t,cacheTime:n,ccipRead:s,chain:d,key:o,name:c,pollingInterval:i,request:m,transport:{...h,...y},type:u,uid:(0,r.h)()};return Object.assign(p,{extend:function e(t){return n=>{const a=n(t);for(const e in p)delete a[e];const r={...t,...a};return Object.assign(r,{extend:e(r)})}}(p)})}},98464:function(e,t,n){n.d(t,{q:function(){return s}});var a=n(27997),r=n(786);function s({key:e,name:t,request:n,retryCount:s=3,retryDelay:o=150,timeout:c,type:i},u){const d=(0,r.h)();return{config:{key:e,name:t,request:n,retryCount:s,retryDelay:o,timeout:c,type:i},request:(0,a.n)(n,{retryCount:s,retryDelay:o,uid:d}),value:u}}},79617:function(e,t,n){n.d(t,{P:function(){return r}});var a=n(98464);function r(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:o})=>(0,a.q)({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:s,type:"custom"})}},77475:function(e,t,n){n.d(t,{t:function(){return o}});var a=n(19371),r=n(5925),s=n(98464);function o(e,t={}){const{key:n="fallback",name:o="Fallback",rank:c=!1,retryCount:i,retryDelay:u}=t;return({chain:t,pollingInterval:d=4e3,timeout:l,...h})=>{let m=e,y=()=>{};const p=(0,s.q)({key:n,name:o,async request({method:e,params:n}){const r=async(s=0)=>{const o=m[s]({...h,chain:t,retryCount:0,timeout:l});try{const t=await o.request({method:e,params:n});return y({method:e,params:n,response:t,transport:o,status:"success"}),t}catch(t){if(y({error:t,method:e,params:n,transport:o,status:"error"}),function(e){if("code"in e&&"number"==typeof e.code&&(e.code===a.KB.code||e.code===a.ab.code||5e3===e.code))return!0;return!1}(t))throw t;if(s===m.length-1)throw t;return r(s+1)}};return r()},retryCount:i,retryDelay:u,type:"fallback"},{onResponse:e=>y=e,transports:m.map((e=>e({chain:t,retryCount:0})))});if(c){const e="object"==typeof c?c:{};!function({chain:e,interval:t=4e3,onTransports:n,sampleCount:a=10,timeout:s=1e3,transports:o,weights:c={}}){const{stability:i=.7,latency:u=.3}=c,d=[],l=async()=>{const c=await Promise.all(o.map((async t=>{const n=t({chain:e,retryCount:0,timeout:s}),a=Date.now();let r,o;try{await n.request({method:"net_listening"}),o=1}catch{o=0}finally{r=Date.now()}return{latency:r-a,success:o}})));d.push(c),d.length>a&&d.shift();const h=Math.max(...d.map((e=>Math.max(...e.map((({latency:e})=>e)))))),m=o.map(((e,t)=>{const n=d.map((e=>e[t].latency)),a=1-n.reduce(((e,t)=>e+t),0)/n.length/h,r=d.map((e=>e[t].success)),s=r.reduce(((e,t)=>e+t),0)/r.length;return 0===s?[0,t]:[u*a+i*s,t]})).sort(((e,t)=>t[0]-e[0]));n(m.map((([,e])=>o[e]))),await(0,r.D)(t),l()};l()}({chain:t,interval:e.interval??d,onTransports:e=>m=e,sampleCount:e.sampleCount,timeout:e.timeout,transports:m,weights:e.weights})}return p}}},38513:function(e,t,n){n.d(t,{d:function(){return i}});var a=n(58673),r=n(92177),s=n(81628),o=n(86927),c=n(98464);function i(e,t={}){const{batch:n,fetchOptions:i,key:u="http",name:d="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:h,retryDelay:m}=t;return({chain:y,retryCount:p,timeout:f})=>{const{batchSize:w=1e3,wait:b=0}="object"==typeof n?n:{},g=t.retryCount??p,P=f??t.timeout??1e4,C=e||y?.rpcUrls.default.http[0];if(!C)throw new r.I;const v=(0,o.x)(C,{fetchOptions:i,onRequest:l,onResponse:h,timeout:P});return(0,c.q)({key:u,name:d,async request({method:e,params:t}){const r={method:e,params:t},{schedule:o}=(0,s.S)({id:C,wait:b,shouldSplitBatch(e){return e.length>w},fn:e=>v.request({body:e}),sort:(e,t)=>e.id-t.id}),[{error:c,result:i}]=await(async e=>n?o(e):[await v.request({body:e})])(r);if(c)throw new a.bs({body:r,error:c,url:C});return i},retryCount:g,retryDelay:m,timeout:P,type:"http"},{fetchOptions:i,url:C})}}}}]);
//# sourceMappingURL=3613-eb14445e29649f49.js.map