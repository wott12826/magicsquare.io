(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3878],{73878:function(e,s,t){Promise.resolve().then(t.bind(t,19330)),Promise.resolve().then(t.bind(t,36691)),Promise.resolve().then(t.bind(t,34415)),Promise.resolve().then(t.bind(t,78394)),Promise.resolve().then(t.bind(t,60544)),Promise.resolve().then(t.bind(t,85151)),Promise.resolve().then(t.bind(t,78352)),Promise.resolve().then(t.bind(t,30121)),Promise.resolve().then(t.bind(t,47968)),Promise.resolve().then(t.bind(t,53288)),Promise.resolve().then(t.bind(t,10308)),Promise.resolve().then(t.bind(t,8538)),Promise.resolve().then(t.bind(t,79785)),Promise.resolve().then(t.bind(t,49405)),Promise.resolve().then(t.bind(t,6843)),Promise.resolve().then(t.bind(t,18982)),Promise.resolve().then(t.bind(t,4373)),Promise.resolve().then(t.bind(t,69507)),Promise.resolve().then(t.bind(t,27852)),Promise.resolve().then(t.bind(t,81659)),Promise.resolve().then(t.bind(t,11933)),Promise.resolve().then(t.bind(t,31563)),Promise.resolve().then(t.bind(t,91753)),Promise.resolve().then(t.bind(t,37803)),Promise.resolve().then(t.bind(t,55601)),Promise.resolve().then(t.bind(t,86887)),Promise.resolve().then(t.bind(t,43605)),Promise.resolve().then(t.bind(t,74097)),Promise.resolve().then(t.bind(t,48848)),Promise.resolve().then(t.bind(t,9716)),Promise.resolve().then(t.bind(t,99510)),Promise.resolve().then(t.bind(t,31001)),Promise.resolve().then(t.bind(t,46039)),Promise.resolve().then(t.bind(t,30661)),Promise.resolve().then(t.bind(t,31394)),Promise.resolve().then(t.bind(t,9606)),Promise.resolve().then(t.bind(t,21772)),Promise.resolve().then(t.bind(t,31990)),Promise.resolve().then(t.bind(t,82682)),Promise.resolve().then(t.bind(t,38439)),Promise.resolve().then(t.bind(t,62279)),Promise.resolve().then(t.bind(t,19083)),Promise.resolve().then(t.bind(t,12136)),Promise.resolve().then(t.bind(t,64926)),Promise.resolve().then(t.bind(t,65787)),Promise.resolve().then(t.bind(t,5551)),Promise.resolve().then(t.bind(t,87395)),Promise.resolve().then(t.bind(t,56860)),Promise.resolve().then(t.bind(t,78836)),Promise.resolve().then(t.bind(t,1903)),Promise.resolve().then(t.bind(t,226)),Promise.resolve().then(t.bind(t,41498)),Promise.resolve().then(t.bind(t,49391)),Promise.resolve().then(t.bind(t,63169)),Promise.resolve().then(t.bind(t,43485)),Promise.resolve().then(t.bind(t,44707)),Promise.resolve().then(t.bind(t,94367)),Promise.resolve().then(t.bind(t,70598)),Promise.resolve().then(t.bind(t,64793)),Promise.resolve().then(t.bind(t,40683)),Promise.resolve().then(t.bind(t,22875)),Promise.resolve().then(t.bind(t,58286)),Promise.resolve().then(t.bind(t,1908)),Promise.resolve().then(t.bind(t,14980)),Promise.resolve().then(t.bind(t,11625)),Promise.resolve().then(t.bind(t,53297)),Promise.resolve().then(t.bind(t,36040)),Promise.resolve().then(t.bind(t,61486)),Promise.resolve().then(t.bind(t,59070)),Promise.resolve().then(t.bind(t,38e3)),Promise.resolve().then(t.bind(t,88332)),Promise.resolve().then(t.bind(t,33535)),Promise.resolve().then(t.bind(t,2052)),Promise.resolve().then(t.bind(t,84043)),Promise.resolve().then(t.bind(t,66017)),Promise.resolve().then(t.bind(t,43519)),Promise.resolve().then(t.bind(t,49631)),Promise.resolve().then(t.bind(t,57521)),Promise.resolve().then(t.bind(t,21707)),Promise.resolve().then(t.bind(t,84105)),Promise.resolve().then(t.bind(t,64961)),Promise.resolve().then(t.bind(t,83165)),Promise.resolve().then(t.bind(t,59685)),Promise.resolve().then(t.bind(t,75141)),Promise.resolve().then(t.bind(t,2672)),Promise.resolve().then(t.bind(t,95108)),Promise.resolve().then(t.bind(t,79761)),Promise.resolve().then(t.bind(t,16033)),Promise.resolve().then(t.bind(t,11363)),Promise.resolve().then(t.bind(t,84393)),Promise.resolve().then(t.bind(t,8468)),Promise.resolve().then(t.bind(t,78091)),Promise.resolve().then(t.bind(t,45800))},6320:function(e,s,t){"use strict";t.d(s,{$h:function(){return g},_s:function(){return v},eM:function(){return p}});var r=t(39804),n=t(98692),i=t(93889),o=t(280),l=t(76711),d=t(53321),a=t(43519),c=t(8025),m=t(61238);const b=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",...e,viewBox:"0 0 16 16",fill:"none",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.00005 10.7C9.49122 10.7 10.7 9.49117 10.7 8C10.7 6.50883 9.49122 5.3 8.00005 5.3C6.50888 5.3 5.30005 6.50883 5.30005 8C5.30005 9.49117 6.50888 10.7 8.00005 10.7ZM7.10005 8C7.10005 7.50295 7.50299 7.1 8.00005 7.1C8.4971 7.1 8.90005 7.50295 8.90005 8C8.90005 8.49706 8.4971 8.9 8.00005 8.9C7.50299 8.9 7.10005 8.49706 7.10005 8Z",fill:"currentColor"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.8194 7.30653C16.0579 7.74301 16.0579 8.25699 15.8194 8.69347C14.9244 10.3317 12.3036 14.3047 7.93751 14.3047C3.54419 14.3047 1.01021 10.2819 0.168336 8.66305C-0.0499274 8.24334 -0.0499272 7.75666 0.168337 7.33695C1.01021 5.71808 3.54419 1.69531 7.93751 1.69531C12.3036 1.69531 14.9244 5.66829 15.8194 7.30653ZM11.9668 5.21619C12.9936 6.15322 13.7267 7.263 14.1453 8C13.7267 8.73699 12.9936 9.84678 11.9668 10.7838C10.8678 11.7867 9.53426 12.5047 7.93751 12.5047C6.33518 12.5047 5.02218 11.7814 3.95257 10.7781C2.95086 9.8385 2.24841 8.72786 1.85419 8C2.24841 7.27214 2.95086 6.1615 3.95257 5.22189C5.02218 4.21859 6.33518 3.49531 7.93751 3.49531C9.53426 3.49531 10.8678 4.21333 11.9668 5.21619Z",fill:"currentColor"})]}),h=e=>(0,r.jsx)("svg",{viewBox:"0 0 16 14",...e,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.292 1.57649C15.7679 3.05756 15.898 5.39354 14.6464 7.02507C14.5931 7.09447 14.537 7.16307 14.4787 7.2298L14.4875 7.23746L9.10927 13.1456C8.51423 13.7993 7.48584 13.7993 6.8908 13.1456L1.51231 7.23722L1.52095 7.22935C1.4627 7.16261 1.40696 7.09448 1.35371 7.02508C0.102065 5.39354 0.232178 3.05754 1.70807 1.57647C3.20494 0.074339 5.59198 -0.0467442 7.23216 1.29626L8.00004 1.925L8.76788 1.29628C10.4081 -0.0467175 12.7951 0.0743656 14.292 1.57649ZM6.09181 2.68894L8.00004 4.25142L9.90823 2.68897C10.8314 1.93307 12.1735 2.00065 13.0169 2.84705C13.8868 3.71994 13.9301 5.12127 13.1228 6.04597L12.7659 6.45479L8.00003 11.6902L3.23542 6.45616L2.87728 6.04596C2.06993 5.12126 2.11324 3.71992 2.98309 2.84702C3.82653 2.00062 5.16864 1.93304 6.09181 2.68894Z",fill:"currentColor"})}),u=e=>(0,r.jsx)("svg",{viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M1.70807 1.57647C3.20494 0.074339 5.59198 -0.0467441 7.23216 1.29626L8.00004 1.925L8.76788 1.29628C10.4081 -0.0467175 12.7951 0.0743656 14.292 1.57649C15.8308 3.12071 15.9066 5.5943 14.4787 7.2298L14.4877 7.23719L9.10927 13.1456C8.51423 13.7993 7.48584 13.7993 6.8908 13.1456L1.51231 7.23722L1.52135 7.22981C0.0934163 5.5943 0.169249 3.12069 1.70807 1.57647Z",fill:"currentColor"})});var x=t(49312);const v=e=>{let{article:s,updatingKey:t,className:n}=e;const[o,l]=(0,i.useState)(!1),[v,g]=(0,i.useState)(!1),{isAuth:p,user:P}=(0,a.useAuth)(),{mutateAsync:f}=(0,d.oNl)(),{mutateAsync:y}=(0,d.B5r)(),j=(0,c.fI)(),C=(0,i.useMemo)((()=>o?!s.isHasUserLike:s.isHasUserLike),[s,o]),N=(0,i.useMemo)((()=>o&&s.isHasUserLike?s.countLikes-1:o&&!s.isHasUserLike?s.countLikes+1:s.countLikes),[s,o]);return(0,r.jsxs)("div",{className:(0,x.cn)("flex gap-4",n),children:[(0,r.jsxs)("button",{className:(0,x.cn)("button button-text-primary py-1.5 px-3 bg-button-secondary-default-bg hover:bg-button-secondary-hover-bg transition-all rounded-lg",{"bg-base-bg-secondary-pink hover:bg-base-bg-secondary-pink":C,disabled:o}),onClick:async e=>{if(e.preventDefault(),!p)return j.open();try{l(!0);const e={userId:P.attributes.uuid,blogId:s.id,updatingKey:t};if(s.isHasUserLike){return await y(e)}return await f(e)}catch(e){(0,m.Z)({error:e})}finally{l(!1)}},onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[C||v?(0,r.jsx)(u,{className:(0,x.cn)("mr-1.5 size-4 text-base-text-pink")}):(0,r.jsx)(h,{className:(0,x.cn)("mr-1.5 size-4 text-base-text-primary")}),(0,r.jsx)("span",{className:"text-button-secondary-default-text text-caption-sm-strong-a",children:N})]}),(0,r.jsxs)("div",{className:"flex justify-start items-center gap-[6px] font-semibold text-base-text-tertiary text-caption-sm-strong-a",children:[(0,r.jsx)(b,{className:"size-4 text-base-text-tertiary"})," ",(0,x.Du)(s.countViews||0)]})]})},g=e=>{let{article:s,updatingKey:t}=e;var i;return(0,r.jsxs)(n.default,{href:"/blog/".concat(s.slug),className:"flex flex-col rounded-3xl border border-base-border-medium",children:[(0,r.jsx)(l.Z,{width:332,height:186,quality:100,src:null==s||null===(i=s.image)||void 0===i?void 0:i.url,className:"w-auto h-full rounded-t-3xl select-none aspect-[16/9]",alt:s.slug}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("span",{className:"mb-2 text-caption-xs-d text-base-text-tertiary",children:(0,o.Z)(new Date(s.createdAt),"dd MMM yyyy")}),(0,r.jsx)("h3",{className:"mb-4 text-caption-md-strong-a text-base-text-primary  h-[48px] line-clamp-2",children:s.title}),(null==s?void 0:s.category)&&(0,r.jsx)("div",{className:"inline-block w-auto mb-5 px-2 py-1 rounded-full bg-base-bg-secondary text-base-text-tertiary text-caption-xs-d",children:s.category.name}),(0,r.jsx)(v,{article:s,updatingKey:t})]})]})},p=(0,i.forwardRef)(((e,s)=>{let{limit:t=8,...n}=e;const i=[...Array(t).keys()];return(0,r.jsx)("div",{ref:s,className:" grid gap-2 md:gap-4 pt-2 md:pt-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 ",...n,children:i.map((e=>(0,r.jsx)("div",{className:"rounded-3xl border border-base-border-medium skeleton-block h-[460px]"},e)))})}))},66017:function(e,s,t){"use strict";t.d(s,{default:function(){return P}});var r=t(39804),n=t(98692),i=t(83737),o=t(93889),l=t(60116),d=t(47177),a=t.n(d),c=t(35931),m=t.n(c),b=t(5738),h=t(53321),u=t(43519),x=t(85172);const v=e=>(0,r.jsx)("svg",{viewBox:"0 0 14 12",...e,children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.1493 11.1V3.07361L11.6948 4.6191C12.0462 4.97058 12.6161 4.97057 12.9675 4.6191C13.319 4.26763 13.319 3.69778 12.9675 3.34631L9.88709 0.265862C9.53562 -0.0856097 8.96577 -0.0856095 8.6143 0.265862C8.57291 0.307249 8.5364 0.351664 8.50476 0.398394C8.40662 0.542554 8.34925 0.716701 8.34925 0.904247V11.1C8.34925 11.597 8.7522 12 9.24925 12C9.74631 12 10.1493 11.597 10.1493 11.1ZM4.74926 0.00422357C4.25221 0.00422357 3.84926 0.407167 3.84926 0.904223V8.93011L2.30519 7.38604C1.95372 7.03457 1.38387 7.03457 1.0324 7.38604C0.680931 7.73751 0.680931 8.30736 1.0324 8.65883L4.11285 11.7393C4.46432 12.0908 5.03417 12.0908 5.38564 11.7393C5.56033 11.5646 5.64819 11.336 5.64924 11.107C5.64926 11.1047 5.64926 11.1023 5.64926 11.1V0.904223C5.64926 0.407167 5.24632 0.00422357 4.74926 0.00422357Z",fill:"currentColor"})});var g=t(6320);const p=()=>(0,r.jsxs)("section",{className:" v2-container grid gap-2 md:gap-4  grid-cols-1  sm:grid-cols-2  md:grid-cols-2 lg:grid-cols-3  xl:grid-cols-4 ",children:[(0,r.jsx)("div",{className:"h-[224px] bg-gradient-to-b from-[#F3F3F7] to-white block rounded-xl"}),(0,r.jsx)("div",{className:"h-[224px] bg-gradient-to-b from-[#F3F3F7] to-white hidden sm:block rounded-xl"}),(0,r.jsx)("div",{className:"h-[224px] bg-gradient-to-b from-[#F3F3F7] to-white hidden lg:block rounded-xl"}),(0,r.jsx)("div",{className:"h-[224px] bg-gradient-to-b from-[#F3F3F7] to-white hidden xl:block rounded-xl"}),(0,r.jsx)("h1",{className:"relative -top-14 col-span-full mb-4 text-h3-a text-base-text-primary text-center",children:"Nothing Found"}),(0,r.jsx)("h3",{className:"relative -top-14 col-span-full text-caption-md-a text-base-text-tertiary text-center",children:"We couldn't find any posts on the chosen topic"})]});var P=e=>{let{type:s,value:t,isAuthServer:d}=e;var c,P;const{user:f}=(0,u.useAuth)(),[y,j]=(0,o.useState)("createdAt:desc"),{data:C,fetchNextPage:N,hasNextPage:w,isError:L,isPending:k,isFetchingNextPage:M,refetch:A}=(0,h.e_5)({type:s,value:t,sort:y},!!(null==f||null===(c=f.attributes)||void 0===c?void 0:c.uuid)||d,null==f||null===(P=f.attributes)||void 0===P?void 0:P.uuid),{data:F}=(0,h.hMG)(),Z=(0,i.usePathname)(),R=(0,i.useRouter)(),{ref:B}=(0,l.YD)({onChange:e=>e&&!L&&!k&&!M&&w&&N()});(0,o.useEffect)((()=>{(null==f?void 0:f.attributes.uuid)&&A()}),[f,A]);const S=(0,o.useMemo)((()=>{var e;return(null==C||null===(e=C.pages)||void 0===e?void 0:e.flatMap((e=>null==e?void 0:e.data)))||[]}),[C]),_=(0,o.useMemo)((()=>{var e;const s=(null==F||null===(e=F.data)||void 0===e?void 0:e.map((e=>({value:"/blog/category/".concat(e.slug),label:e.name}))))||[];return s.unshift({value:"/blog",label:"All Topics"}),s}),[null==F?void 0:F.data]),z=()=>j((e=>"createdAt:desc"===e?"createdAt:asc":"createdAt:desc"));return(0,r.jsxs)("div",{className:"v2-container",children:["tags"!==s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-h1-a mt-10 md:mt-14 pb-3 md:pb-4 text-base-text-primary text-center",children:"Magic Square Blog"}),(0,r.jsx)("h4",{className:"text-base-text-tertiary text-caption-md-d text-center",children:"Your Guide to the Magical World of Web 3.0"}),(0,r.jsx)("div",{className:"hidden md:flex flex-wrap justify-center gap-3 pt-10 md:pt-14 px-[66px]",children:_.map((e=>(0,r.jsx)(n.default,{className:a()("rounded-xl bg-button-secondary-default-bg hover:bg-button-secondary-hover-bg transition-all text-button-secondary-default-text text-caption-sm-a py-2.5 px-4 whitespace-nowrap",{"text-button-primary-default-text text-sm font-medium !bg-button-primary-default-bg":Z===e.value}),href:e.value,children:e.label},e.value)))}),(0,r.jsxs)("div",{className:"flex gap-3 flex-wrap justify-between md:justify-center items-start pt-[32px]",children:[(0,r.jsx)(b.Ph,{className:"flex md:hidden w-full sm:max-w-[364px] text-base-text-primary text-caption-md-strong-m !border-base-border-medium rounded-xl",classNameControll:"rounded-lg border-primary-200",value:null==_?void 0:_.find((e=>e.value===Z)),onChange:e=>{return s=e,void R.push(s.value);var s},options:_,isSearchable:!1}),(0,r.jsxs)("button",{className:"inline-flex items-center justify-center w-full sm:w-auto mb-10 md:mb-14 rounded-xl bg-button-secondary-default-bg hover:bg-button-secondary-hover-bg transition-all text-button-secondary-default-text text-caption-sm-d py-2.5 px-4",onClick:z,children:[(0,r.jsx)(v,{className:"mr-2 size-3.5"}),"createdAt:desc"===y?"Newest":"Oldest"]})]})]}):(0,r.jsxs)("div",{className:"pb-14 pt-10",children:[(0,r.jsxs)("ul",{className:"flex justify-start gap-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)(n.default,{href:"/blog",className:"text-caption-xs-a text-base-text-tertiary",children:"Magic Blog"})}),(0,r.jsx)("li",{children:(0,r.jsx)(x.o,{className:"icon-2xs text-caption-xs-a text-base-text-tertiary"})}),(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"text-caption-xs-a text-base-text-tertiary",children:m()(t)})})]}),(0,r.jsxs)("h2",{className:"text-h1-a pb-8",children:["Posts tagged ",(0,r.jsx)("span",{className:"text-base-text-pink",children:m()(t)})]}),(0,r.jsxs)("button",{className:"inline-flex items-center justify-center w-full sm:w-auto mb-10 md:mb-14 rounded-xl bg-button-secondary-default-bg text-button-secondary-default-text text-caption-sm-d py-2.5 px-4",onClick:z,children:[(0,r.jsx)(v,{className:"mr-2 size-3.5"}),"createdAt:desc"===y?"Oldest":"Newest"]})]}),!S.length&&k&&(0,r.jsx)(g.eM,{}),!S.length&&!k&&(0,r.jsx)(p,{}),!!S.length&&!k&&(0,r.jsx)("section",{className:" grid gap-2 md:gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 ",children:S&&S.map((e=>(0,r.jsx)(g.$h,{article:e,updatingKey:"blogList"},e.documentId)))}),w&&S.length&&(0,r.jsx)(g.eM,{ref:B},null==C?void 0:C.pages.length)]})}}}]);
//# sourceMappingURL=3878-c67b53cc7232f902.js.map