"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4933],{34933:function(e,t,n){var r;n.d(t,{NI:function(){return Ce},PC:function(){return A},YF:function(){return Re},bQ:function(){return we},eS:function(){return ge},ll:function(){return ne},qq:function(){return a},qs:function(){return Oe},wD:function(){return fe},y0:function(){return pe}});var o=n(93889),u=n(43698),c=n(66277),l=n(43844),i=n(48209),s=n(33122);function a(e){return o.useMemo((()=>e.every((e=>null==e))?null:t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}),e)}const f={...r||(r=n.t(o,2))},d=f.useInsertionEffect||(e=>e());function v(e){const t=o.useRef((()=>{0}));return d((()=>{t.current=e})),o.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const p="ArrowUp",m="ArrowDown",b="ArrowLeft",g="ArrowRight";let h=0;function y(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(h);const u=()=>null==e?void 0:e.focus({preventScroll:n});o?u():h=requestAnimationFrame(u)}var E="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;const w=[b,g],R=[p,m];function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}let x=!1,M=0;const C=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+M++;const A=f.useId||function(){const[e,t]=o.useState((()=>x?C():void 0));return E((()=>{null==e&&t(C())}),[]),o.useEffect((()=>{x=!0}),[]),e};function O(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const L=o.createContext(null),P=o.createContext(null),S=()=>{var e;return(null==(e=o.useContext(L))?void 0:e.id)||null},K=()=>o.useContext(P);function I(e){return"data-floating-ui-"+e}function W(e){const t=(0,o.useRef)(e);return E((()=>{t.current=e})),t}function F(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}let T=new WeakMap,D=new WeakSet,N={},q=0;const _=()=>"undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,j=e=>e&&(e.host||j(e.parentNode)),U=(e,t)=>t.map((t=>{if(e.contains(t))return t;const n=j(t);return e.contains(n)?n:null})).filter((e=>null!=e));function B(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=(0,u.Me)(e[0]).body;return function(e,t,n,r){const o="data-floating-ui-inert",u=r?"inert":n?"aria-hidden":null,l=U(t,e),i=new Set,s=new Set(l),a=[];N[o]||(N[o]=new WeakMap);const f=N[o];return l.forEach((function e(t){t&&!i.has(t)&&(i.add(t),t.parentNode&&e(t.parentNode))})),function e(t){t&&!s.has(t)&&[].forEach.call(t.children,(t=>{if("script"!==(0,c.wk)(t))if(i.has(t))e(t);else{const e=u?t.getAttribute(u):null,n=null!==e&&"false"!==e,r=(T.get(t)||0)+1,c=(f.get(t)||0)+1;T.set(t,r),f.set(t,c),a.push(t),1===r&&n&&D.add(t),1===c&&t.setAttribute(o,""),!n&&u&&t.setAttribute(u,"true")}}))}(t),i.clear(),q++,()=>{a.forEach((e=>{const t=(T.get(e)||0)-1,n=(f.get(e)||0)-1;T.set(e,t),f.set(e,n),t||(!D.has(e)&&u&&e.removeAttribute(u),D.delete(e)),n||e.removeAttribute(o)})),q--,q||(T=new WeakMap,T=new WeakMap,D=new WeakSet,N={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const H=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function V(e,t){const n=(0,l.ht)(e,H());"prev"===t&&n.reverse();const r=n.indexOf((0,u.AW)((0,u.Me)(e)));return n.slice(r+1)[0]}function X(){return V(document.body,"next")}function Y(){return V(document.body,"prev")}function z(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!(0,u.r3)(n,r)}function G(e){(0,l.ht)(e,H()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function Q(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const Z={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function J(e){"Tab"===e.key&&(e.target,clearTimeout(undefined))}const $=o.forwardRef((function(e,t){const[n,r]=o.useState();E((()=>((0,u.G6)()&&r("button"),document.addEventListener("keydown",J),()=>{document.removeEventListener("keydown",J)})),[]);const c={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[I("focus-guard")]:"",style:Z};return o.createElement("span",k({},e,c))})),ee=o.createContext(null),te=I("portal");function ne(e){const{children:t,id:n,root:r=null,preserveTabOrder:u=!0}=e,l=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=A(),u=re(),[l,i]=o.useState(null),s=o.useRef(null);return E((()=>()=>{null==l||l.remove(),queueMicrotask((()=>{s.current=null}))}),[l]),E((()=>{if(!r)return;if(s.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(te,""),e.appendChild(n),s.current=n,i(n)}),[t,r]),E((()=>{if(!r)return;if(s.current)return;let e=n||(null==u?void 0:u.portalNode);e&&!(0,c.kK)(e)&&(e=e.current),e=e||document.body;let o=null;t&&(o=document.createElement("div"),o.id=t,e.appendChild(o));const l=document.createElement("div");l.id=r,l.setAttribute(te,""),e=o||e,e.appendChild(l),s.current=l,i(l)}),[t,n,r,u]),l}({id:n,root:r}),[s,a]=o.useState(null),f=o.useRef(null),d=o.useRef(null),v=o.useRef(null),p=o.useRef(null),m=null==s?void 0:s.modal,b=null==s?void 0:s.open,g=!!s&&!s.modal&&s.open&&u&&!(!r&&!l);return o.useEffect((()=>{if(l&&u&&!m)return l.addEventListener("focusin",e,!0),l.addEventListener("focusout",e,!0),()=>{l.removeEventListener("focusin",e,!0),l.removeEventListener("focusout",e,!0)};function e(e){if(l&&z(e)){("focusin"===e.type?Q:G)(l)}}}),[l,u,m]),o.useEffect((()=>{l&&(b||Q(l))}),[b,l]),o.createElement(ee.Provider,{value:o.useMemo((()=>({preserveTabOrder:u,beforeOutsideRef:f,afterOutsideRef:d,beforeInsideRef:v,afterInsideRef:p,portalNode:l,setFocusManagerState:a})),[u,l])},g&&l&&o.createElement($,{"data-type":"outside",ref:f,onFocus:e=>{if(z(e,l)){var t;null==(t=v.current)||t.focus()}else{const e=Y()||(null==s?void 0:s.refs.domReference.current);null==e||e.focus()}}}),g&&l&&o.createElement("span",{"aria-owns":l.id,style:Z}),l&&i.createPortal(t,l),g&&l&&o.createElement($,{"data-type":"outside",ref:d,onFocus:e=>{if(z(e,l)){var t;null==(t=p.current)||t.focus()}else{const t=X()||(null==s?void 0:s.refs.domReference.current);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent,"focus-out"))}}}))}const re=()=>o.useContext(ee),oe="data-floating-ui-focusable";function ue(e){return e?e.hasAttribute(oe)?e:e.querySelector("["+oe+"]")||e:null}const ce=20;let le=[];function ie(e){le=le.filter((e=>e.isConnected));let t=e;if(t&&"body"!==(0,c.wk)(t)){if(!(0,l.Wq)(t,H())){const e=(0,l.ht)(t,H())[0];e&&(t=e)}le.push(t),le.length>ce&&(le=le.slice(-ce))}}function se(){return le.slice().reverse().find((e=>e.isConnected))}const ae=o.forwardRef((function(e,t){return o.createElement("button",k({},e,{type:"button",ref:t,tabIndex:-1,style:Z}))}));function fe(e){const{context:t,children:n,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:a=0,returnFocus:f=!0,restoreFocus:d=!1,modal:p=!0,visuallyHiddenDismiss:m=!1,closeOnFocusOut:b=!0}=e,{open:g,refs:h,nodeId:w,onOpenChange:R,events:k,dataRef:x,floatingId:M,elements:{domReference:C,floating:A}}=t,O="number"==typeof a&&a<0,L=(0,u.Ie)(C)&&O,P=!_()||s,S=W(i),T=W(a),D=W(f),N=K(),q=re(),j=o.useRef(null),U=o.useRef(null),V=o.useRef(!1),G=o.useRef(!1),Q=o.useRef(-1),J=null!=q,ee=ue(A),te=v((function(e){return void 0===e&&(e=ee),e?(0,l.ht)(e,H()):[]})),ne=v((e=>{const t=te(e);return S.current.map((e=>C&&"reference"===e?C:ee&&"floating"===e?ee:t)).filter(Boolean).flat()}));function oe(e){return!r&&m&&p?o.createElement(ae,{ref:"start"===e?j:U,onClick:e=>R(!1,e.nativeEvent)},"string"==typeof m?m:"Dismiss"):null}o.useEffect((()=>{V.current=!1}),[r]),o.useEffect((()=>{if(r)return;if(!p)return;function e(e){if("Tab"===e.key){(0,u.r3)(ee,(0,u.AW)((0,u.Me)(ee)))&&0===te().length&&!L&&(0,u.p7)(e);const t=ne(),n=(0,u.U9)(e);"reference"===S.current[0]&&n===C&&((0,u.p7)(e),e.shiftKey?y(t[t.length-1]):y(t[1])),"floating"===S.current[1]&&n===ee&&e.shiftKey&&((0,u.p7)(e),y(t[0]))}}const t=(0,u.Me)(ee);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[r,C,ee,p,S,L,te,ne]),o.useEffect((()=>{if(!r&&A)return A.addEventListener("focusin",e),()=>{A.removeEventListener("focusin",e)};function e(e){const t=(0,u.U9)(e),n=te().indexOf(t);-1!==n&&(Q.current=n)}}),[r,A,te]),o.useEffect((()=>{if(!r&&b)return A&&(0,c.Re)(C)?(C.addEventListener("focusout",t),C.addEventListener("pointerdown",e),A.addEventListener("focusout",t),()=>{C.removeEventListener("focusout",t),C.removeEventListener("pointerdown",e),A.removeEventListener("focusout",t)}):void 0;function e(){G.current=!0,setTimeout((()=>{G.current=!1}))}function t(e){const t=e.relatedTarget;queueMicrotask((()=>{const n=!((0,u.r3)(C,t)||(0,u.r3)(A,t)||(0,u.r3)(t,A)||(0,u.r3)(null==q?void 0:q.portalNode,t)||null!=t&&t.hasAttribute(I("focus-guard"))||N&&(F(N.nodesRef.current,w).find((e=>{var n,r;return(0,u.r3)(null==(n=e.context)?void 0:n.elements.floating,t)||(0,u.r3)(null==(r=e.context)?void 0:r.elements.domReference,t)}))||function(e,t){var n;let r=[],o=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;o;){const t=e.find((e=>e.id===o));o=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(N.nodesRef.current,w).find((e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t}))));if(d&&n&&(0,u.AW)((0,u.Me)(ee))===(0,u.Me)(ee).body){(0,c.Re)(ee)&&ee.focus();const e=Q.current,t=te(),n=t[e]||t[t.length-1]||ee;(0,c.Re)(n)&&n.focus()}!L&&p||!t||!n||G.current||t===se()||(V.current=!0,R(!1,e,"focus-out"))}))}}),[r,C,A,ee,p,w,N,q,R,b,d,te,L]),o.useEffect((()=>{var e;if(r)return;const t=Array.from((null==q||null==(e=q.portalNode)?void 0:e.querySelectorAll("["+I("portal")+"]"))||[]);if(A){const e=[A,...t,j.current,U.current,S.current.includes("reference")||L?C:null].filter((e=>null!=e)),n=p||L?B(e,P,!P):B(e);return()=>{n()}}}),[r,C,A,p,S,q,L,P]),E((()=>{if(r||!(0,c.Re)(ee))return;const e=(0,u.Me)(ee),t=(0,u.AW)(e);queueMicrotask((()=>{const e=ne(ee),n=T.current,r=("number"==typeof n?e[n]:n.current)||ee,o=(0,u.r3)(ee,t);O||o||!g||y(r,{preventScroll:r===ee})}))}),[r,g,ee,O,ne,T]),E((()=>{if(r||!ee)return;let e=!1;const t=(0,u.Me)(ee),n=(0,u.AW)(t);let o=x.current.openEvent;function l(t){let{open:n,reason:r,event:c,nested:l}=t;n&&(o=c),"escape-key"===r&&h.domReference.current&&ie(h.domReference.current),"hover"===r&&"mouseleave"===c.type&&(V.current=!0),"outside-press"===r&&(l?(V.current=!1,e=!0):V.current=!((0,u.Zj)(c)||(0,u.cr)(c)))}ie(n),k.on("openchange",l);const i=t.createElement("span");return i.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),Object.assign(i.style,Z),J&&C&&C.insertAdjacentElement("afterend",i),()=>{k.off("openchange",l);const n=(0,u.AW)(t),r=(0,u.r3)(A,n)||N&&F(N.nodesRef.current,w).some((e=>{var t;return(0,u.r3)(null==(t=e.context)?void 0:t.elements.floating,n)}));(r||o&&["click","mousedown"].includes(o.type))&&h.domReference.current&&ie(h.domReference.current);const s=se()||i;queueMicrotask((()=>{D.current&&!V.current&&(0,c.Re)(s)&&(s===n||n===t.body||r)&&s.focus({preventScroll:e}),i.remove()}))}}),[r,A,ee,D,x,h,k,N,w,J,C]),E((()=>{if(!r&&q)return q.setFocusManagerState({modal:p,closeOnFocusOut:b,open:g,onOpenChange:R,refs:h}),()=>{q.setFocusManagerState(null)}}),[r,q,p,g,R,h,b]),E((()=>{if(r)return;if(!ee)return;if("function"!=typeof MutationObserver)return;if(O)return;const e=()=>{const e=ee.getAttribute("tabindex"),t=te(),n=(0,u.AW)((0,u.Me)(A)),r=t.indexOf(n);-1!==r&&(Q.current=r),S.current.includes("floating")||n!==h.domReference.current&&0===t.length?"0"!==e&&ee.setAttribute("tabindex","0"):"-1"!==e&&ee.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(ee,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}}),[r,A,ee,h,S,te,O]);const ce=!r&&P&&(!p||!L)&&(J||p);return o.createElement(o.Fragment,null,ce&&o.createElement($,{"data-type":"inside",ref:null==q?void 0:q.beforeInsideRef,onFocus:e=>{if(p){const e=ne();y("reference"===i[0]?e[0]:e[e.length-1])}else if(null!=q&&q.preserveTabOrder&&q.portalNode)if(V.current=!1,z(e,q.portalNode)){const e=X()||C;null==e||e.focus()}else{var t;null==(t=q.beforeOutsideRef.current)||t.focus()}}}),!L&&oe("start"),n,oe("end"),ce&&o.createElement($,{"data-type":"inside",ref:null==q?void 0:q.afterInsideRef,onFocus:e=>{if(p)y(ne()[0]);else if(null!=q&&q.preserveTabOrder&&q.portalNode)if(b&&(V.current=!0),z(e,q.portalNode)){const e=Y()||C;null==e||e.focus()}else{var t;null==(t=q.afterOutsideRef.current)||t.focus()}}}))}let de=0;let ve=()=>{};const pe=o.forwardRef((function(e,t){const{lockScroll:n=!1,...r}=e;return E((()=>{if(n)return de++,1===de&&(ve=function(){const e=/iP(hone|ad|od)|iOS/.test((0,u.Xf)()),t=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",r=window.innerWidth-document.documentElement.clientWidth,o=t.left?parseFloat(t.left):window.scrollX,c=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",r&&(t[n]=r+"px"),e){var l,i;const e=(null==(l=window.visualViewport)?void 0:l.offsetLeft)||0,n=(null==(i=window.visualViewport)?void 0:i.offsetTop)||0;Object.assign(t,{position:"fixed",top:-(c-Math.floor(n))+"px",left:-(o-Math.floor(e))+"px",right:"0"})}return()=>{Object.assign(t,{overflow:"",[n]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(o,c))}}()),()=>{de--,0===de&&ve()}}),[n]),o.createElement("div",k({ref:t},r,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}}))}));function me(e){return(0,c.Re)(e.target)&&"BUTTON"===e.target.tagName}function be(e){return(0,u.j7)(e)}function ge(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:c,elements:{domReference:l}}=e,{enabled:i=!0,event:s="click",toggle:a=!0,ignoreMouse:f=!1,keyboardHandlers:d=!0}=t,v=o.useRef(),p=o.useRef(!1),m=o.useMemo((()=>({onPointerDown(e){v.current=e.pointerType},onMouseDown(e){const t=v.current;0===e.button&&"click"!==s&&((0,u.r)(t,!0)&&f||(!n||!a||c.current.openEvent&&"mousedown"!==c.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,"click")):r(!1,e.nativeEvent,"click")))},onClick(e){const t=v.current;"mousedown"===s&&v.current?v.current=void 0:(0,u.r)(t,!0)&&f||(!n||!a||c.current.openEvent&&"click"!==c.current.openEvent.type?r(!0,e.nativeEvent,"click"):r(!1,e.nativeEvent,"click"))},onKeyDown(e){v.current=void 0,e.defaultPrevented||!d||me(e)||(" "!==e.key||be(l)||(e.preventDefault(),p.current=!0),"Enter"===e.key&&r(!n||!a,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!d||me(e)||be(l)||" "===e.key&&p.current&&(p.current=!1,r(!n||!a,e.nativeEvent,"click"))}})),[c,l,s,f,d,r,n,a]);return o.useMemo((()=>i?{reference:m}:{}),[i,m])}const he={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},ye={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Ee=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function we(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:l,dataRef:i}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:f=!0,outsidePressEvent:d="pointerdown",referencePress:p=!1,referencePressEvent:m="pointerdown",ancestorScroll:b=!1,bubbles:g,capture:h}=t,y=K(),E=v("function"==typeof f?f:()=>!1),w="function"==typeof f?E:f,R=o.useRef(!1),k=o.useRef(!1),{escapeKey:x,outsidePress:M}=Ee(g),{escapeKey:C,outsidePress:A}=Ee(h),O=v((e=>{var t;if(!n||!s||!a||"Escape"!==e.key)return;const o=null==(t=i.current.floatingContext)?void 0:t.nodeId,c=y?F(y.nodesRef.current,o):[];if(!x&&(e.stopPropagation(),c.length>0)){let e=!0;if(c.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}r(!1,(0,u.MM)(e)?e.nativeEvent:e,"escape-key")})),L=v((e=>{var t;const n=()=>{var t;O(e),null==(t=(0,u.U9)(e))||t.removeEventListener("keydown",n)};null==(t=(0,u.U9)(e))||t.addEventListener("keydown",n)})),P=v((e=>{var t;const n=R.current;R.current=!1;const o=k.current;if(k.current=!1,"click"===d&&o)return;if(n)return;if("function"==typeof w&&!w(e))return;const s=(0,u.U9)(e),a="["+I("inert")+"]",f=(0,u.Me)(l.floating).querySelectorAll(a);let v=(0,c.kK)(s)?s:null;for(;v&&!(0,c.Py)(v);){const e=(0,c.Ow)(v);if((0,c.Py)(e)||!(0,c.kK)(e))break;v=e}if(f.length&&(0,c.kK)(s)&&!(0,u.ex)(s)&&!(0,u.r3)(s,l.floating)&&Array.from(f).every((e=>!(0,u.r3)(v,e))))return;if((0,c.Re)(s)&&T){const t=s.clientWidth>0&&s.scrollWidth>s.clientWidth,n=s.clientHeight>0&&s.scrollHeight>s.clientHeight;let r=n&&e.offsetX>s.clientWidth;if(n){"rtl"===(0,c.Dx)(s).direction&&(r=e.offsetX<=s.offsetWidth-s.clientWidth)}if(r||t&&e.offsetY>s.clientHeight)return}const p=null==(t=i.current.floatingContext)?void 0:t.nodeId,m=y&&F(y.nodesRef.current,p).some((t=>{var n;return(0,u.Pe)(e,null==(n=t.context)?void 0:n.elements.floating)}));if((0,u.Pe)(e,l.floating)||(0,u.Pe)(e,l.domReference)||m)return;const b=y?F(y.nodesRef.current,p):[];if(b.length>0){let e=!0;if(b.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}r(!1,e,"outside-press")})),S=v((e=>{var t;const n=()=>{var t;P(e),null==(t=(0,u.U9)(e))||t.removeEventListener(d,n)};null==(t=(0,u.U9)(e))||t.addEventListener(d,n)}));o.useEffect((()=>{if(!n||!s)return;function e(e){r(!1,e,"ancestor-scroll")}i.current.__escapeKeyBubbles=x,i.current.__outsidePressBubbles=M;const t=(0,u.Me)(l.floating);a&&t.addEventListener("keydown",C?L:O,C),w&&t.addEventListener(d,A?S:P,A);let o=[];return b&&((0,c.kK)(l.domReference)&&(o=(0,c.Kx)(l.domReference)),(0,c.kK)(l.floating)&&(o=o.concat((0,c.Kx)(l.floating))),!(0,c.kK)(l.reference)&&l.reference&&l.reference.contextElement&&(o=o.concat((0,c.Kx)(l.reference.contextElement)))),o=o.filter((e=>{var n;return e!==(null==(n=t.defaultView)?void 0:n.visualViewport)})),o.forEach((t=>{t.addEventListener("scroll",e,{passive:!0})})),()=>{a&&t.removeEventListener("keydown",C?L:O,C),w&&t.removeEventListener(d,A?S:P,A),o.forEach((t=>{t.removeEventListener("scroll",e)}))}}),[i,l,a,w,d,n,r,b,s,x,M,O,C,L,P,A,S]),o.useEffect((()=>{R.current=!1}),[w,d]);const W=o.useMemo((()=>({onKeyDown:O,[he[m]]:e=>{p&&r(!1,e.nativeEvent,"reference-press")}})),[O,r,p,m]),T=o.useMemo((()=>({onKeyDown:O,onMouseDown(){k.current=!0},onMouseUp(){k.current=!0},[ye[d]]:()=>{R.current=!0}})),[O,d]);return o.useMemo((()=>s?{reference:W,floating:T}:{}),[s,W,T])}function Re(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,u=A(),c=o.useRef({}),[l]=o.useState((()=>O())),i=null!=S(),[s,a]=o.useState(r.reference),f=v(((e,t,r)=>{c.current.openEvent=e?t:void 0,l.emit("openchange",{open:e,event:t,reason:r,nested:i}),null==n||n(e,t,r)})),d=o.useMemo((()=>({setPositionReference:a})),[]),p=o.useMemo((()=>({reference:s||r.reference||null,floating:r.floating||null,domReference:r.reference})),[s,r.reference,r.floating]);return o.useMemo((()=>({dataRef:c,open:t,onOpenChange:f,elements:p,events:l,floatingId:u,refs:d})),[t,f,p,l,u,d])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,u=r.elements,[l,i]=o.useState(null),[a,f]=o.useState(null),d=(null==u?void 0:u.reference)||l,p=o.useRef(null),m=K();E((()=>{d&&(p.current=d)}),[d]);const b=(0,s.YF)({...e,elements:{...u,...a&&{reference:a}}}),g=o.useCallback((e=>{const t=(0,c.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;f(t),b.refs.setReference(t)}),[b.refs]),h=o.useCallback((e=>{((0,c.kK)(e)||null===e)&&(p.current=e,i(e)),((0,c.kK)(b.refs.reference.current)||null===b.refs.reference.current||null!==e&&!(0,c.kK)(e))&&b.refs.setReference(e)}),[b.refs]),y=o.useMemo((()=>({...b.refs,setReference:h,setPositionReference:g,domReference:p})),[b.refs,h,g]),w=o.useMemo((()=>({...b.elements,domReference:d})),[b.elements,d]),R=o.useMemo((()=>({...b,...r,refs:y,elements:w,nodeId:t})),[b,y,w,t,r]);return E((()=>{r.dataRef.current.floatingContext=R;const e=null==m?void 0:m.nodesRef.current.find((e=>e.id===t));e&&(e.context=R)})),o.useMemo((()=>({...b,context:R,refs:y,elements:w})),[b,y,w,R])}const ke="active",xe="selected";function Me(e,t,n){const r=new Map,o="item"===n;let u=e;if(o&&e){const{[ke]:t,[xe]:n,...r}=e;u=r}return{..."floating"===n&&{tabIndex:-1,[oe]:""},...u,...t.map((t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,u]=t;var c;o&&[ke,xe].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof u&&(null==(c=r.get(n))||c.push(u),e[n]=function(){for(var e,t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];return null==(e=r.get(n))?void 0:e.map((e=>e(...o))).find((e=>void 0!==e))})):e[n]=u)})),e):e),{})}}function Ce(e){void 0===e&&(e=[]);const t=e.map((e=>null==e?void 0:e.reference)),n=e.map((e=>null==e?void 0:e.floating)),r=e.map((e=>null==e?void 0:e.item)),u=o.useCallback((t=>Me(t,e,"reference")),t),c=o.useCallback((t=>Me(t,e,"floating")),n),l=o.useCallback((t=>Me(t,e,"item")),r);return o.useMemo((()=>({getReferenceProps:u,getFloatingProps:c,getItemProps:l})),[u,c,l])}const Ae=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Oe(e,t){var n;void 0===t&&(t={});const{open:r,floatingId:u}=e,{enabled:c=!0,role:l="dialog"}=t,i=null!=(n=Ae.get(l))?n:l,s=A(),a=null!=S(),f=o.useMemo((()=>"tooltip"===i||"label"===l?{["aria-"+("label"===l?"labelledby":"describedby")]:r?u:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===i?"dialog":i,"aria-controls":r?u:void 0,..."listbox"===i&&{role:"combobox"},..."menu"===i&&{id:s},..."menu"===i&&a&&{role:"menuitem"},..."select"===l&&{"aria-autocomplete":"none"},..."combobox"===l&&{"aria-autocomplete":"list"}}),[i,u,a,r,s,l]),d=o.useMemo((()=>{const e={id:u,...i&&{role:i}};return"tooltip"===i||"label"===l?e:{...e,..."menu"===i&&{"aria-labelledby":s}}}),[i,u,s,l]),v=o.useCallback((e=>{let{active:t,selected:n}=e;const r={role:"option",...t&&{id:u+"-option"}};switch(l){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}}),[u,l]);return o.useMemo((()=>c?{reference:f,floating:d,item:v}:{}),[c,f,d,v])}}}]);
//# sourceMappingURL=4933-bb3542acd4bdb934.js.map