"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8213],{31754:function(e,t,r){r.d(t,{i:function(){return n}});const n="abi/5.7.0"},68213:function(e,t,r){r.d(t,{R:function(){return S},$:function(){return I}});var n=r(79527),s=r(27083),a=r(36919),o=r(31754),i=r(19173),c=r(50232);class u extends i.XI{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=(0,c.getAddress)(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return(0,c.getAddress)((0,n.hexZeroPad)(e.readValue().toHexString(),20))}}class l extends i.XI{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const h=new a.Logger(o.i);function d(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map((t=>{const n=t.localName;return n||h.throwError("cannot encode object for signature with missing names",a.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&h.throwError("cannot encode object for signature with duplicate names",a.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]}))}else h.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&h.throwArgumentError("types/value length mismatch","tuple",r);let s=new i.QV(e.wordSize),o=new i.QV(e.wordSize),c=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=o.length;e.encode(o,r);let n=s.writeUpdatableValue();c.push((e=>{n(e+t)}))}else e.encode(s,r)})),c.forEach((e=>{e(s.length)}));let u=e.appendWriter(s);return u+=e.appendWriter(o),u}function g(e,t){let r=[],n=e.subReader(0);t.forEach((t=>{let s=null;if(t.dynamic){let r=e.readValue(),o=n.subReader(r.toNumber());try{s=t.decode(o)}catch(e){if(e.code===a.Logger.errors.BUFFER_OVERRUN)throw e;s=e,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(e){if(e.code===a.Logger.errors.BUFFER_OVERRUN)throw e;s=e,s.baseType=t.name,s.name=t.localName,s.type=t.type}null!=s&&r.push(s)}));const s=t.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach(((e,t)=>{let n=e.localName;if(!n||1!==s[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const a=r[t];a instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw a}}):r[n]=a}));for(let e=0;e<r.length;e++){const t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class f extends i.XI{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),h.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return d(e,n,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&h.throwError("insufficient data length",a.Logger.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let r=[];for(let e=0;e<t;e++)r.push(new l(this.coder));return e.coerce(this.name,g(e,r))}}class w extends i.XI{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class p extends i.XI{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=(0,n.arrayify)(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class m extends p{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,n.hexlify)(super.decode(e)))}}class _ extends i.XI{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=(0,n.arrayify)(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,(0,n.hexlify)(e.readBytes(this.size)))}}class y extends i.XI{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}var E=r(81815),V=r(6343);class b extends i.XI{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=E.O$.from(t),n=V.Bz.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(V.fh).mul(V.tL)))&&this._throwError("value out-of-bounds",t)}else(r.lt(V._Y)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}var R=r(71747);class z extends p{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,R.Y0)(t))}decode(e){return(0,R.ZN)(super.decode(e))}}class N extends i.XI{constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)}));super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let s=r.localName;s&&1===t[s]&&("length"===s&&(s="_length"),null==e[s]&&(e[s]=e[n]))})),Object.freeze(e)}encode(e,t){return d(e,this.coders,t)}decode(e){return e.coerce(this.name,g(e,this.coders))}}var v=r(31880);const x=new a.Logger(o.i),L=new RegExp(/^bytes([0-9]*)$/),A=new RegExp(/^(u?int)([0-9]*)$/);class S{constructor(e){(0,s.defineReadOnly)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new u(e.name);case"bool":return new w(e.name);case"string":return new z(e.name);case"bytes":return new m(e.name);case"array":return new f(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new N((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new y(e.name)}let t=e.type.match(A);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&x.throwArgumentError("invalid "+t[1]+" bit length","param",e),new b(r/8,"int"===t[1],e.name)}if(t=e.type.match(L),t){let r=parseInt(t[1]);return(0===r||r>32)&&x.throwArgumentError("invalid bytes length","param",e),new _(r,e.name)}return x.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new i.Ej(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new i.QV(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(v._R.from(e))));return new N(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&x.throwError("types/values length mismatch",a.Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map((e=>this._getCoder(v._R.from(e)))),n=new N(r,"_"),s=this._getWriter();return n.encode(s,t),s.data}decode(e,t,r){const s=e.map((e=>this._getCoder(v._R.from(e))));return new N(s,"_").decode(this._getReader((0,n.arrayify)(t),r))}}const I=new S},19173:function(e,t,r){r.d(t,{BR:function(){return u},Ej:function(){return d},QV:function(){return h},XI:function(){return l}});var n=r(79527),s=r(81815),a=r(27083),o=r(36919),i=r(31754);const c=new o.Logger(i.i);function u(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let s in n){const a=e.slice();a.push(s);try{r(a,n[s])}catch(e){t.push({path:a,error:e})}}};return r([],e),t}class l{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){c.throwArgumentError(e,this.localName,t)}}class h{constructor(e){(0,a.defineReadOnly)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return(0,n.hexConcat)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData((0,n.concat)(e._data))}writeBytes(e){let t=(0,n.arrayify)(e);const r=t.length%this.wordSize;return r&&(t=(0,n.concat)([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=(0,n.arrayify)(s.O$.from(e));return t.length>this.wordSize&&c.throwError("value out-of-bounds",o.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=(0,n.concat)([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class d{constructor(e,t,r,s){(0,a.defineReadOnly)(this,"_data",(0,n.arrayify)(e)),(0,a.defineReadOnly)(this,"wordSize",t||32),(0,a.defineReadOnly)(this,"_coerceFunc",r),(0,a.defineReadOnly)(this,"allowLoose",s),this._offset=0}get data(){return(0,n.hexlify)(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):d.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:c.throwError("data out-of-bounds",o.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new d(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return s.O$.from(this.readBytes(this.wordSize))}}}}]);
//# sourceMappingURL=8213-5d34bf378e0838cf.js.map