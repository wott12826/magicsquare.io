"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{56440:function(t,e,n){function i(t){return t}n.d(e,{K:function(){return i}})},15096:function(t,e,n){n.d(e,{L:function(){return l}});var i=n(39321),o=n(19371),r=n(45900),c=n(63657),s=n(59540),a=n(71621),d=n(43585),u=n(56440);const h=/(rabby|trustwallet)/;function l(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function w(){const e=t.target;if("function"==typeof e){const t=e();if(t)return t}return"object"==typeof e?e:"string"==typeof e?{...f[e]??{id:e,name:`${e[0].toUpperCase()}${e.slice(1)}`,provider:`is${e[0].toUpperCase()}${e.slice(1)}`}}:{id:"injected",name:"Injected",provider(t){return t?.ethereum}}}let g,p,v,b;return(0,u.K)((u=>({get icon(){return w().icon},get id(){return w().id},get name(){return w().name},get supportsSimulation(){return h.test(this.id.toLowerCase())},type:l.type,async setup(){const e=await this.getProvider();e?.on&&t.target&&(v||(v=this.onConnect.bind(this),e.on("connect",v)),g||(g=this.onAccountsChanged.bind(this),e.on("accountsChanged",g)))},async connect({chainId:n,isReconnecting:r}={}){const c=await this.getProvider();if(!c)throw new d.M;let s=[];if(r)s=await this.getAccounts().catch((()=>[]));else if(e)try{const t=await c.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});if(s=t[0]?.caveats?.[0]?.value?.map((t=>(0,i.K)(t))),s.length>0){s=await this.getAccounts()}}catch(t){const e=t;if(e.code===o.ab.code)throw new o.ab(e);if(e.code===o.pT.code)throw e}try{if(!s?.length&&!r){s=(await c.request({method:"eth_requestAccounts"})).map((t=>(0,i.K)(t)))}v&&(c.removeListener("connect",v),v=void 0),g||(g=this.onAccountsChanged.bind(this),c.on("accountsChanged",g)),p||(p=this.onChainChanged.bind(this),c.on("chainChanged",p)),b||(b=this.onDisconnect.bind(this),c.on("disconnect",b));let a=await this.getChainId();if(n&&a!==n){const t=await this.switchChain({chainId:n}).catch((t=>{if(t.code===o.ab.code)throw t;return{id:a}}));a=t?.id??a}return e&&await(u.storage?.removeItem(`${this.id}.disconnected`)),t.target||await(u.storage?.setItem("injected.connected",!0)),{accounts:s,chainId:a}}catch(t){const e=t;if(e.code===o.ab.code)throw new o.ab(e);if(e.code===o.pT.code)throw new o.pT(e);throw e}},async disconnect(){const n=await this.getProvider();if(!n)throw new d.M;p&&(n.removeListener("chainChanged",p),p=void 0),b&&(n.removeListener("disconnect",b),b=void 0),v||(v=this.onConnect.bind(this),n.on("connect",v));try{await(0,r.F)((()=>n.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})),{timeout:100})}catch{}e&&await(u.storage?.setItem(`${this.id}.disconnected`,!0)),t.target||await(u.storage?.removeItem("injected.connected"))},async getAccounts(){const t=await this.getProvider();if(!t)throw new d.M;return(await t.request({method:"eth_accounts"})).map((t=>(0,i.K)(t)))},async getChainId(){const t=await this.getProvider();if(!t)throw new d.M;const e=await t.request({method:"eth_chainId"});return Number(e)},async getProvider(){if("undefined"==typeof window)return;let t;const e=w();return t="function"==typeof e.provider?e.provider(window):"string"==typeof e.provider?m(window,e.provider):e.provider,t&&!t.removeListener&&("off"in t&&"function"==typeof t.off?t.removeListener=t.off:t.removeListener=()=>{}),t},async isAuthorized(){try{if(e&&await(u.storage?.getItem(`${this.id}.disconnected`)))return!1;if(!t.target){if(!await(u.storage?.getItem("injected.connected")))return!1}if(!await this.getProvider()){if(void 0!==n&&!1!==n){const t=async()=>{"undefined"!=typeof window&&window.removeEventListener("ethereum#initialized",t);return!!await this.getProvider()},e="number"==typeof n?n:1e3;if(await Promise.race([..."undefined"!=typeof window?[new Promise((e=>window.addEventListener("ethereum#initialized",(()=>e(t())),{once:!0})))]:[],new Promise((n=>setTimeout((()=>n(t())),e)))]))return!0}throw new d.M}return!!(await(0,c.J)((()=>this.getAccounts()))).length}catch{return!1}},async switchChain({addEthereumChainParameter:t,chainId:e}){const n=await this.getProvider();if(!n)throw new d.M;const i=u.chains.find((t=>t.id===e));if(!i)throw new o.x3(new a.X4);try{return await Promise.all([n.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,s.eC)(e)}]}).then((async()=>{await this.getChainId()===e&&u.emitter.emit("change",{chainId:e})})),new Promise((t=>{const n=i=>{"chainId"in i&&i.chainId===e&&(u.emitter.off("change",n),t())};u.emitter.on("change",n)}))]),i}catch(r){const c=r;if(4902===c.code||4902===c?.data?.originalError?.code)try{const{default:r,...c}=i.blockExplorers??{};let a,d;t?.blockExplorerUrls?a=t.blockExplorerUrls:r&&(a=[r.url,...Object.values(c).map((t=>t.url))]),d=t?.rpcUrls?.length?t.rpcUrls:[i.rpcUrls.default?.http[0]??""];const u={blockExplorerUrls:a,chainId:(0,s.eC)(e),chainName:t?.chainName??i.name,iconUrls:t?.iconUrls,nativeCurrency:t?.nativeCurrency??i.nativeCurrency,rpcUrls:d};await n.request({method:"wallet_addEthereumChain",params:[u]});if(await this.getChainId()!==e)throw new o.ab(new Error("User rejected switch after adding network."));return i}catch(t){throw new o.ab(t)}if(c.code===o.ab.code)throw new o.ab(c);throw new o.x3(c)}},async onAccountsChanged(t){if(0===t.length)this.onDisconnect();else if(u.emitter.listenerCount("connect")){const t=(await this.getChainId()).toString();this.onConnect({chainId:t}),e&&await(u.storage?.removeItem(`${this.id}.disconnected`))}else u.emitter.emit("change",{accounts:t.map((t=>(0,i.K)(t)))})},onChainChanged(t){const e=Number(t);u.emitter.emit("change",{chainId:e})},async onConnect(t){const e=await this.getAccounts();if(0===e.length)return;const n=Number(t.chainId);u.emitter.emit("connect",{accounts:e,chainId:n});const i=await this.getProvider();i&&(v&&(i.removeListener("connect",v),v=void 0),g||(g=this.onAccountsChanged.bind(this),i.on("accountsChanged",g)),p||(p=this.onChainChanged.bind(this),i.on("chainChanged",p)),b||(b=this.onDisconnect.bind(this),i.on("disconnect",b)))},async onDisconnect(t){const e=await this.getProvider();t&&1013===t.code&&e&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),e&&(p&&(e.removeListener("chainChanged",p),p=void 0),b&&(e.removeListener("disconnect",b),b=void 0),v||(v=this.onConnect.bind(this),e.on("connect",v))))}})))}l.type="injected";const f={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t?.coinbaseWalletExtension?t.coinbaseWalletExtension:m(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return m(t,(t=>{if(!t.isMetaMask)return!1;if(t.isBraveWallet&&!t._events&&!t._state)return!1;const e=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const n of e)if(t[n])return!1;return!0}))}},phantom:{id:"phantom",name:"Phantom",provider(t){return t?.phantom?.ethereum?t.phantom?.ethereum:m(t,"isPhantom")}}};function m(t,e){function n(t){return"function"==typeof e?e(t):"string"!=typeof e||t[e]}const i=t.ethereum;return i?.providers?i.providers.find((t=>n(t))):i&&n(i)?i:void 0}},40095:function(t,e,n){n.d(e,{_:function(){return p}});var i=n(38528),o=n(71362),r=n(18164),c=n(83918),s=n(15096),a=n(61946);class d{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new a.v})}on(t,e){this._emitter.on(t,e)}once(t,e){this._emitter.once(t,e)}off(t,e){this._emitter.off(t,e)}emit(t,...e){const n=e[0];this._emitter.emit(t,{uid:this.uid,...n})}listenerCount(t){return this._emitter.listenerCount(t)}}var u=n(72414),h=n(86632);function l(t){const{deserialize:e=u.v,key:n="wagmi",serialize:i=h.q,storage:o=f}=t;function r(t){return t instanceof Promise?t.then((t=>t)).catch((()=>null)):t}return{...o,key:n,async getItem(t,i){const c=o.getItem(`${n}.${t}`),s=await r(c);return s?e(s)??null:i??null},async setItem(t,e){const c=`${n}.${t}`;null===e?await r(o.removeItem(c)):await r(o.setItem(c,i(e)))},async removeItem(t){await r(o.removeItem(`${n}.${t}`))}}}const f={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};var m=n(71621),w=n(76789),g=n(84627);function p(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=l({storage:"undefined"!=typeof window&&window.localStorage?window.localStorage:f}),syncConnectedChain:a=!0,ssr:u=!1,...h}=t,p="undefined"!=typeof window&&e?(0,i.M)():void 0,v=(0,c.M)((()=>h.chains)),b=(0,c.M)((()=>{const t=[],e=new Set;for(const n of h.connectors??[]){const i=y(n);t.push(i),!u&&i.rdns&&e.add(i.rdns)}if(!u&&p){const n=p.getProviders();for(const i of n)e.has(i.info.rdns)||t.push(y(I(i)))}return t}));function y(t){const e=function(t){return new d(t)}((0,w.h)()),i={...t({emitter:e,chains:v.getState(),storage:n,transports:h.transports}),emitter:e,uid:e.uid};return e.on("connect",A),i.setup?.(),i}function I(t){const{info:e}=t,n=t.provider;return(0,s.L)({target:{...e,id:e.rdns,provider:n}})}const C=new Map;function S(){return{chainId:v.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let P;const _="0.0.0-canary-";P=g.i.startsWith(_)?Number.parseInt(g.i.replace(_,"")):Number.parseInt(g.i.split(".")[0]??"0");const M=(0,c.M)((0,r.XR)(n?(0,r.tJ)(S,{migrate(t,e){if(e===P)return t;const n=S(),i=k(t,n.chainId);return{...n,chainId:i}},name:"store",partialize(t){return{connections:{__type:"Map",value:Array.from(t.connections.entries()).map((([t,e])=>{const{id:n,name:i,type:o,uid:r}=e.connector,c={id:n,name:i,type:o,uid:r};return[t,{...e,connector:c}]}))},chainId:t.chainId,current:t.current}},merge(t,e){"object"==typeof t&&t&&"status"in t&&delete t.status;const n=k(t,e.chainId);return{...e,...t,chainId:n}},skipHydration:u,storage:n,version:P}):S));function k(t,e){return t&&"object"==typeof t&&"chainId"in t&&"number"==typeof t.chainId&&v.getState().some((e=>e.id===t.chainId))?t.chainId:e}function j(t){M.setState((e=>{const n=e.connections.get(t.uid);return n?{...e,connections:new Map(e.connections).set(t.uid,{accounts:t.accounts??n.accounts,chainId:t.chainId??n.chainId,connector:n.connector})}:e}))}function A(t){"connecting"!==M.getState().status&&"reconnecting"!==M.getState().status&&M.setState((e=>{const n=b.getState().find((e=>e.uid===t.uid));return n?(n.emitter.listenerCount("connect")&&n.emitter.off("connect",j),n.emitter.listenerCount("change")||n.emitter.on("change",j),n.emitter.listenerCount("disconnect")||n.emitter.on("disconnect",W),{...e,connections:new Map(e.connections).set(t.uid,{accounts:t.accounts,chainId:t.chainId,connector:n}),current:t.uid,status:"connected"}):e}))}function W(t){M.setState((e=>{const n=e.connections.get(t.uid);if(n){const t=n.connector;t.emitter.listenerCount("change")&&n.connector.emitter.off("change",j),t.emitter.listenerCount("disconnect")&&n.connector.emitter.off("disconnect",W),t.emitter.listenerCount("connect")||n.connector.emitter.on("connect",A)}if(e.connections.delete(t.uid),0===e.connections.size)return{...e,connections:new Map,current:null,status:"disconnected"};const i=e.connections.values().next().value;return{...e,connections:new Map(e.connections),current:i.connector.uid}}))}return M.setState(S()),a&&M.subscribe((({connections:t,current:e})=>e?t.get(e)?.chainId:void 0),(t=>{if(v.getState().some((e=>e.id===t)))return M.setState((e=>({...e,chainId:t??e.chainId})))})),p?.subscribe((t=>{const e=new Set,i=new Set;for(const t of b.getState())e.add(t.id),t.rdns&&i.add(t.rdns);const o=[];for(const n of t){if(i.has(n.info.rdns))continue;const t=y(I(n));e.has(t.id)||o.push(t)}n&&!M.persist.hasHydrated()||b.setState((t=>[...t,...o]),!0)})),{get chains(){return v.getState()},get connectors(){return b.getState()},storage:n,getClient:function(t={}){const e=t.chainId??M.getState().chainId,n=v.getState().find((t=>t.id===e));if(t.chainId&&!n)throw new m.X4;{const t=C.get(M.getState().chainId);if(t&&!n)return t;if(!n)throw new m.X4}{const t=C.get(e);if(t)return t}let i;if(h.client)i=h.client({chain:n});else{const t=n.id,e=v.getState().map((t=>t.id)),r={},c=Object.entries(h);for(const[n,i]of c)if("chains"!==n&&"client"!==n&&"connectors"!==n&&"transports"!==n)if("object"==typeof i)if(t in i)r[n]=i[t];else{if(e.some((t=>t in i)))continue;r[n]=i}else r[n]=i;i=(0,o.e)({...r,chain:n,batch:r.batch??{multicall:!0},transport:e=>h.transports[t]({...e,connectors:b})})}return C.set(e,i),i},get state(){return M.getState()},setState(t){let e;e="function"==typeof t?t(M.getState()):t;const n=S();"object"!=typeof e&&(e=n);Object.keys(n).some((t=>!(t in e)))&&(e=n),M.setState(e,!0)},subscribe(t,e,n){return M.subscribe(t,e,n?{...n,fireImmediately:n.emitImmediately}:void 0)},_internal:{mipd:p,store:M,ssr:Boolean(u),syncConnectedChain:a,transports:h.transports,chains:{setState(t){const e="function"==typeof t?t(v.getState()):t;if(0!==e.length)return v.setState(e,!0)},subscribe(t){return v.subscribe(t)}},connectors:{providerDetailToConnector:I,setup:y,setState(t){return b.setState("function"==typeof t?t(b.getState()):t,!0)},subscribe(t){return b.subscribe(t)}},events:{change:j,connect:A,disconnect:W}}}}}}]);
//# sourceMappingURL=95-53f462e617b78318.js.map