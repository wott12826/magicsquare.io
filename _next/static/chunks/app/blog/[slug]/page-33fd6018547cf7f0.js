(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[308],{4384:function(e,s,t){Promise.resolve().then(t.bind(t,19330)),Promise.resolve().then(t.bind(t,36691)),Promise.resolve().then(t.bind(t,34415)),Promise.resolve().then(t.bind(t,78394)),Promise.resolve().then(t.bind(t,60544)),Promise.resolve().then(t.bind(t,85151)),Promise.resolve().then(t.bind(t,78352)),Promise.resolve().then(t.bind(t,30121)),Promise.resolve().then(t.bind(t,47968)),Promise.resolve().then(t.bind(t,53288)),Promise.resolve().then(t.bind(t,10308)),Promise.resolve().then(t.bind(t,8538)),Promise.resolve().then(t.bind(t,79785)),Promise.resolve().then(t.bind(t,49405)),Promise.resolve().then(t.bind(t,6843)),Promise.resolve().then(t.bind(t,18982)),Promise.resolve().then(t.bind(t,4373)),Promise.resolve().then(t.bind(t,69507)),Promise.resolve().then(t.bind(t,27852)),Promise.resolve().then(t.bind(t,81659)),Promise.resolve().then(t.bind(t,11933)),Promise.resolve().then(t.bind(t,31563)),Promise.resolve().then(t.bind(t,91753)),Promise.resolve().then(t.bind(t,37803)),Promise.resolve().then(t.bind(t,55601)),Promise.resolve().then(t.bind(t,86887)),Promise.resolve().then(t.bind(t,43605)),Promise.resolve().then(t.bind(t,74097)),Promise.resolve().then(t.bind(t,48848)),Promise.resolve().then(t.bind(t,9716)),Promise.resolve().then(t.bind(t,99510)),Promise.resolve().then(t.bind(t,31001)),Promise.resolve().then(t.bind(t,46039)),Promise.resolve().then(t.bind(t,30661)),Promise.resolve().then(t.bind(t,31394)),Promise.resolve().then(t.bind(t,9606)),Promise.resolve().then(t.bind(t,21772)),Promise.resolve().then(t.bind(t,31990)),Promise.resolve().then(t.bind(t,82682)),Promise.resolve().then(t.bind(t,38439)),Promise.resolve().then(t.bind(t,62279)),Promise.resolve().then(t.bind(t,19083)),Promise.resolve().then(t.bind(t,12136)),Promise.resolve().then(t.bind(t,64926)),Promise.resolve().then(t.bind(t,65787)),Promise.resolve().then(t.bind(t,5551)),Promise.resolve().then(t.bind(t,87395)),Promise.resolve().then(t.bind(t,56860)),Promise.resolve().then(t.bind(t,78836)),Promise.resolve().then(t.bind(t,1903)),Promise.resolve().then(t.bind(t,226)),Promise.resolve().then(t.bind(t,41498)),Promise.resolve().then(t.bind(t,49391)),Promise.resolve().then(t.bind(t,63169)),Promise.resolve().then(t.bind(t,43485)),Promise.resolve().then(t.bind(t,44707)),Promise.resolve().then(t.bind(t,94367)),Promise.resolve().then(t.bind(t,70598)),Promise.resolve().then(t.bind(t,64793)),Promise.resolve().then(t.bind(t,40683)),Promise.resolve().then(t.bind(t,22875)),Promise.resolve().then(t.bind(t,58286)),Promise.resolve().then(t.bind(t,1908)),Promise.resolve().then(t.bind(t,14980)),Promise.resolve().then(t.bind(t,11625)),Promise.resolve().then(t.bind(t,53297)),Promise.resolve().then(t.bind(t,36040)),Promise.resolve().then(t.bind(t,61486)),Promise.resolve().then(t.bind(t,59070)),Promise.resolve().then(t.bind(t,38e3)),Promise.resolve().then(t.bind(t,88332)),Promise.resolve().then(t.bind(t,33535)),Promise.resolve().then(t.bind(t,2052)),Promise.resolve().then(t.bind(t,84043)),Promise.resolve().then(t.bind(t,96472)),Promise.resolve().then(t.bind(t,43519)),Promise.resolve().then(t.bind(t,49631)),Promise.resolve().then(t.bind(t,57521)),Promise.resolve().then(t.bind(t,21707)),Promise.resolve().then(t.bind(t,84105)),Promise.resolve().then(t.bind(t,64961)),Promise.resolve().then(t.bind(t,83165)),Promise.resolve().then(t.bind(t,59685)),Promise.resolve().then(t.bind(t,75141)),Promise.resolve().then(t.bind(t,2672)),Promise.resolve().then(t.bind(t,95108)),Promise.resolve().then(t.bind(t,79761)),Promise.resolve().then(t.bind(t,16033)),Promise.resolve().then(t.bind(t,11363)),Promise.resolve().then(t.bind(t,84393)),Promise.resolve().then(t.bind(t,8468)),Promise.resolve().then(t.bind(t,78091)),Promise.resolve().then(t.bind(t,45800))},96472:function(e,s,t){"use strict";var i=t(39804),n=t(98692),r=t(83737),l=t(93889),o=t(280),a=t(47021),d=t.n(a),c=t(96762),m=t(93570),u=t(76711),h=t(53321),v=t(43519),b=t(6320),x=t(46770),p=t(85172);s.default=e=>{let{isAuthServe:s}=e;var t,a,g,P,f,y;const{user:j}=(0,v.useAuth)(),{slug:C=""}=(0,r.useParams)(),{data:N,isPending:w,refetch:L}=(0,h.dlc)(C,!!(null==j||null===(t=j.attributes)||void 0===t?void 0:t.uuid)||s,null==j||null===(a=j.attributes)||void 0===a?void 0:a.uuid),{data:M,refetch:k}=(0,h.IYd)(C,!!(null==j||null===(g=j.attributes)||void 0===g?void 0:g.uuid)||s,null==j||null===(P=j.attributes)||void 0===P?void 0:P.uuid),_=null==N?void 0:N.data,A=(e=>{var s;if(!e)return"";const t=e.content.replace(/(<([^>]+)>)/gi,""),i=t.split(".")[0]?t.split(".")[0]:t,n="".concat("https://magicsquare.io","/blog/").concat(e.slug),r={"@context":"https://schema.org","@type":"BlogPosting",headline:e.title,alternativeHeadline:e.metaDescription,image:null===(s=e.image)||void 0===s?void 0:s.url,author:{"@type":"Organization",name:"Magic Square",url:"https://magicsquare.io/"},datePublished:new Date(e.publishedAt),publisher:{"@type":"Organization",name:"Magic Square",logo:{"@type":"ImageObject",url:"https://magicsquare.io/favicon-512x512.png"}},description:i,mainEntityOfPage:{"@type":"WebPage","@id":n},inLanguage:"en",url:n};if(!e.json)return r;try{return JSON.stringify(e.json)}catch(e){return r}})(_);return(0,l.useEffect)((()=>{var e;(null==j||null===(e=j.attributes)||void 0===e?void 0:e.uuid)&&(L(),k())}),[j,L,k]),_||w?(0,i.jsxs)("div",{className:"v2-container",children:[(0,i.jsxs)("div",{className:"max-w-4xl m-auto",children:[(0,i.jsxs)("div",{className:"py-10",children:[(0,i.jsxs)("ul",{className:"flex justify-start gap-2",children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.default,{href:"/blog",className:"text-caption-xs-a text-base-text-tertiary",children:"Magic Blog"})}),(0,i.jsx)("li",{children:(0,i.jsx)(p.o,{className:"icon-2xs text-caption-xs-a text-base-text-tertiary"})}),(0,i.jsx)("li",{children:(0,i.jsx)("span",{className:"text-caption-xs-a text-base-text-tertiary",children:null==_?void 0:_.title})})]}),(0,i.jsx)("h1",{className:"text-h1-a pb-8",children:null==_?void 0:_.title}),_&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-wrap justify-start items-center gap-6",children:[(0,i.jsx)(b._s,{article:_,updatingKey:"blogArticle",className:"gap-6"}),(0,i.jsx)("div",{className:"inline-block w-auto py-2 px-3 rounded-full bg-base-bg-secondary text-base-text-primary text-caption-sm-a whitespace-nowrap",children:(null==_?void 0:_.category)?_.category.name:""}),(0,i.jsx)("span",{className:"text-caption-sm-a text-base-text-tertiary",children:(0,o.Z)(new Date(_.createdAt),"dd MMM yyyy")})]}),(null==_?void 0:_.tags)&&!!(null==_||null===(f=_.tags)||void 0===f?void 0:f.length)&&(0,i.jsx)("div",{className:"flex flex-wrap gap-[6px] pt-6",children:null==_?void 0:_.tags.map((e=>(0,i.jsx)(n.default,{href:"/blog/tag/".concat(e.slug),className:"inline-block w-auto px-2 py-1 rounded-full bg-base-bg-secondary hover:bg-button-secondary-hover-bg transition-all text-base-text-primary text-caption-xs-a whitespace-nowrap",children:e.name},e.documentId)))})]})]}),(0,i.jsx)("div",{className:"pb-14",children:(0,i.jsx)(u.Z,{width:1920,height:1080,quality:100,src:null==_||null===(y=_.image)||void 0===y?void 0:y.url,className:"w-full h-auto rounded-3xl select-none",alt:(null==_?void 0:_.imageAlt)||(null==_?void 0:_.title)||"magic square blog"})}),(0,i.jsx)("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:d().sanitize(null==_?void 0:_.content)}})]}),(0,i.jsxs)("div",{className:"pt-20",children:[(0,i.jsx)("h2",{className:"text-h2-a text-base-text-primary pb-8",children:"More Interesting for You"}),(0,i.jsxs)("div",{className:"relative arrows-control-wrapper",children:[(0,i.jsxs)(m.tq,{className:"w-full relative",slidesPerView:"auto",modules:[c.tl,c.W_],pagination:{el:".pagination-recommended-articles",type:"bullets",clickable:!0,bulletClass:"pagination--block",bulletActiveClass:"pagination--active",renderBullet:(e,s)=>'<div class="'.concat(s,' w-6 h-6 flex justify-center items-center"><span class="pagination--item"></span></div>')},navigation:{prevEl:".prev-button",nextEl:".next-button"},children:[(0,i.jsx)("div",{className:"pagination-recommended-articles w-full flex justify-center items-center gap-2 mt-4"}),null==M?void 0:M.data.map((e=>(0,i.jsx)(m.o5,{className:"min-w-[332px] w-1/4 px-2",children:(0,i.jsx)(b.$h,{article:e,updatingKey:"moreInterestingArticles"})},e.id)))]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"prev-button arrow-control absolute -left-3 t-0 top-[calc(50%_-_12px)]",children:(0,i.jsx)(x.X,{className:"icon-[24px]"})}),(0,i.jsx)("div",{className:"next-button arrow-control absolute -right-3 top-[calc(50%_-_12px)]",children:(0,i.jsx)(p.o,{className:"icon-[24px]"})})]})]})]}),!!A&&(0,i.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(A)}})]}):(0,r.notFound)()}},6320:function(e,s,t){"use strict";t.d(s,{$h:function(){return p},_s:function(){return x},eM:function(){return g}});var i=t(39804),n=t(98692),r=t(93889),l=t(280),o=t(76711),a=t(53321),d=t(43519),c=t(8025),m=t(61238);const u=e=>(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",...e,viewBox:"0 0 16 16",fill:"none",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.00005 10.7C9.49122 10.7 10.7 9.49117 10.7 8C10.7 6.50883 9.49122 5.3 8.00005 5.3C6.50888 5.3 5.30005 6.50883 5.30005 8C5.30005 9.49117 6.50888 10.7 8.00005 10.7ZM7.10005 8C7.10005 7.50295 7.50299 7.1 8.00005 7.1C8.4971 7.1 8.90005 7.50295 8.90005 8C8.90005 8.49706 8.4971 8.9 8.00005 8.9C7.50299 8.9 7.10005 8.49706 7.10005 8Z",fill:"currentColor"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.8194 7.30653C16.0579 7.74301 16.0579 8.25699 15.8194 8.69347C14.9244 10.3317 12.3036 14.3047 7.93751 14.3047C3.54419 14.3047 1.01021 10.2819 0.168336 8.66305C-0.0499274 8.24334 -0.0499272 7.75666 0.168337 7.33695C1.01021 5.71808 3.54419 1.69531 7.93751 1.69531C12.3036 1.69531 14.9244 5.66829 15.8194 7.30653ZM11.9668 5.21619C12.9936 6.15322 13.7267 7.263 14.1453 8C13.7267 8.73699 12.9936 9.84678 11.9668 10.7838C10.8678 11.7867 9.53426 12.5047 7.93751 12.5047C6.33518 12.5047 5.02218 11.7814 3.95257 10.7781C2.95086 9.8385 2.24841 8.72786 1.85419 8C2.24841 7.27214 2.95086 6.1615 3.95257 5.22189C5.02218 4.21859 6.33518 3.49531 7.93751 3.49531C9.53426 3.49531 10.8678 4.21333 11.9668 5.21619Z",fill:"currentColor"})]}),h=e=>(0,i.jsx)("svg",{viewBox:"0 0 16 14",...e,children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.292 1.57649C15.7679 3.05756 15.898 5.39354 14.6464 7.02507C14.5931 7.09447 14.537 7.16307 14.4787 7.2298L14.4875 7.23746L9.10927 13.1456C8.51423 13.7993 7.48584 13.7993 6.8908 13.1456L1.51231 7.23722L1.52095 7.22935C1.4627 7.16261 1.40696 7.09448 1.35371 7.02508C0.102065 5.39354 0.232178 3.05754 1.70807 1.57647C3.20494 0.074339 5.59198 -0.0467442 7.23216 1.29626L8.00004 1.925L8.76788 1.29628C10.4081 -0.0467175 12.7951 0.0743656 14.292 1.57649ZM6.09181 2.68894L8.00004 4.25142L9.90823 2.68897C10.8314 1.93307 12.1735 2.00065 13.0169 2.84705C13.8868 3.71994 13.9301 5.12127 13.1228 6.04597L12.7659 6.45479L8.00003 11.6902L3.23542 6.45616L2.87728 6.04596C2.06993 5.12126 2.11324 3.71992 2.98309 2.84702C3.82653 2.00062 5.16864 1.93304 6.09181 2.68894Z",fill:"currentColor"})}),v=e=>(0,i.jsx)("svg",{viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,i.jsx)("path",{d:"M1.70807 1.57647C3.20494 0.074339 5.59198 -0.0467441 7.23216 1.29626L8.00004 1.925L8.76788 1.29628C10.4081 -0.0467175 12.7951 0.0743656 14.292 1.57649C15.8308 3.12071 15.9066 5.5943 14.4787 7.2298L14.4877 7.23719L9.10927 13.1456C8.51423 13.7993 7.48584 13.7993 6.8908 13.1456L1.51231 7.23722L1.52135 7.22981C0.0934163 5.5943 0.169249 3.12069 1.70807 1.57647Z",fill:"currentColor"})});var b=t(49312);const x=e=>{let{article:s,updatingKey:t,className:n}=e;const[l,o]=(0,r.useState)(!1),[x,p]=(0,r.useState)(!1),{isAuth:g,user:P}=(0,d.useAuth)(),{mutateAsync:f}=(0,a.oNl)(),{mutateAsync:y}=(0,a.B5r)(),j=(0,c.fI)(),C=(0,r.useMemo)((()=>l?!s.isHasUserLike:s.isHasUserLike),[s,l]),N=(0,r.useMemo)((()=>l&&s.isHasUserLike?s.countLikes-1:l&&!s.isHasUserLike?s.countLikes+1:s.countLikes),[s,l]);return(0,i.jsxs)("div",{className:(0,b.cn)("flex gap-4",n),children:[(0,i.jsxs)("button",{className:(0,b.cn)("button button-text-primary py-1.5 px-3 bg-button-secondary-default-bg hover:bg-button-secondary-hover-bg transition-all rounded-lg",{"bg-base-bg-secondary-pink hover:bg-base-bg-secondary-pink":C,disabled:l}),onClick:async e=>{if(e.preventDefault(),!g)return j.open();try{o(!0);const e={userId:P.attributes.uuid,blogId:s.id,updatingKey:t};if(s.isHasUserLike){return await y(e)}return await f(e)}catch(e){(0,m.Z)({error:e})}finally{o(!1)}},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[C||x?(0,i.jsx)(v,{className:(0,b.cn)("mr-1.5 size-4 text-base-text-pink")}):(0,i.jsx)(h,{className:(0,b.cn)("mr-1.5 size-4 text-base-text-primary")}),(0,i.jsx)("span",{className:"text-button-secondary-default-text text-caption-sm-strong-a",children:N})]}),(0,i.jsxs)("div",{className:"flex justify-start items-center gap-[6px] font-semibold text-base-text-tertiary text-caption-sm-strong-a",children:[(0,i.jsx)(u,{className:"size-4 text-base-text-tertiary"})," ",(0,b.Du)(s.countViews||0)]})]})},p=e=>{let{article:s,updatingKey:t}=e;var r;return(0,i.jsxs)(n.default,{href:"/blog/".concat(s.slug),className:"flex flex-col rounded-3xl border border-base-border-medium",children:[(0,i.jsx)(o.Z,{width:332,height:186,quality:100,src:null==s||null===(r=s.image)||void 0===r?void 0:r.url,className:"w-auto h-full rounded-t-3xl select-none aspect-[16/9]",alt:s.slug}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsx)("span",{className:"mb-2 text-caption-xs-d text-base-text-tertiary",children:(0,l.Z)(new Date(s.createdAt),"dd MMM yyyy")}),(0,i.jsx)("h3",{className:"mb-4 text-caption-md-strong-a text-base-text-primary  h-[48px] line-clamp-2",children:s.title}),(null==s?void 0:s.category)&&(0,i.jsx)("div",{className:"inline-block w-auto mb-5 px-2 py-1 rounded-full bg-base-bg-secondary text-base-text-tertiary text-caption-xs-d",children:s.category.name}),(0,i.jsx)(x,{article:s,updatingKey:t})]})]})},g=(0,r.forwardRef)(((e,s)=>{let{limit:t=8,...n}=e;const r=[...Array(t).keys()];return(0,i.jsx)("div",{ref:s,className:" grid gap-2 md:gap-4 pt-2 md:pt-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 ",...n,children:r.map((e=>(0,i.jsx)("div",{className:"rounded-3xl border border-base-border-medium skeleton-block h-[460px]"},e)))})}))},46770:function(e,s,t){"use strict";t.d(s,{X:function(){return n}});var i=t(39804);t(93889);const n=e=>(0,i.jsx)("svg",{viewBox:"0 0 16 16",...e,children:(0,i.jsx)("path",{d:"M10.734 3.26586C11.0855 3.61734 11.0855 4.18718 10.734 4.53866L7.27086 8.00183L10.7322 11.4632C11.0836 11.8147 11.0836 12.3845 10.7321 12.736C10.3807 13.0875 9.81081 13.0875 9.45934 12.736L5.43238 8.70892C5.04187 8.31839 5.04187 7.68523 5.43239 7.29471L9.46126 3.26586C9.81273 2.91439 10.3826 2.91439 10.734 3.26586Z",fill:"currentcolor"})})}},function(e){e.O(0,[8174,8692,1104,5087,3534,8936,1474,3239,3400,3552,6830,9190,9122,9244,2537,3733,6146,918,4497,4755,1090,750,1869,3613,9227,7743,7568,9793,9864,7451,9013,6667,3104,95,3903,8483,8822,3271,7457,824,2705,5658,9476,6653,2802,8213,3408,4320,3582,7571,8619,8397,2574,6949,5572,5670,2233,1337,2882,8660,8149,5026,675,5834,5753,2916,9143,4711,3072,3979,8858,649,2442,3140,4006,1834,4071,2688,6407,9351,294,4168,8607,5635,7402,4195,759,4236,2751,9706,7390,3185,1107,1646,6715,5939,2934,6756,3645,9054,4865,2212,5259,5682,4313,8580,5195,2980,734,1703,7486,7723,5724,4933,5705,8120,5584,483,7350,7342,3619,3844,1974,3068,4186,210,7307,8969,1636,6474,842,9465,9929,5619,735,3664,6762,2763,1751,4016,5519,4749,4013,1593,8495,5129,5692,8694,1419,231,1328,1150,8475,9022,533,4714,3321,5943,1899,2578,5789,9662,1199,8253,1562,2446,3635,1125,45,1313,6631,3930,9085,7767,9316,3850,1744],(function(){return s=4384,e(e.s=s);var s}));var s=e.O();_N_E=s}]);
//# sourceMappingURL=page-33fd6018547cf7f0.js.map