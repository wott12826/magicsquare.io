"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1593],{43519:function(e,t,n){n.r(t),n.d(t,{logoutSession:function(){return f},useAuth:function(){return h},useAuthUsingTestUser:function(){return w},useIsCurrentDeveloper:function(){return v}});var i=n(39804),a=n(83737),s=n(93889),u=n(78394),r=n(67781),p=n(15725),o=n(53321),d=n(69009),y=n(44611),l=n(83793),c=n(62814),m=n(6403),T=n(85241);const b=(0,T.Rk)(),h=function(){let{redirectUnauth:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,T.iN)(b),n=(0,a.useRouter)(),{user:i,isLoading:u}=t;return r.Z.set("isPartner",JSON.stringify(null==i?void 0:i.attributes.isPartner)),(0,s.useEffect)((()=>{!e||u||i||n.push("/")}),[u,i,e]),t},v=e=>{var t;const{user:n,isLoading:i}=h();return(0,s.useMemo)((()=>!i&&e===(null==n?void 0:n.attributes.developerNameId)),[i,null==n||null===(t=n.attributes)||void 0===t?void 0:t.developerNameId,e])},w=()=>{const{isPending:e,mutateAsync:t}=(0,o.Agd)();return{isLoading:e,login:(0,s.useCallback)((()=>t({id:1})),[t])}},f=async()=>{try{await(0,y.k)(),r.Z.remove("Authorized"),r.Z.remove(l.mJ.LOGGED_INTO_MAGIC_BOOST),(0,c.Z)()}catch(e){}};t.default=e=>{let{children:t}=e;const n=(0,a.usePathname)(),r=(0,u.useQueryClient)(),o=(0,a.useRouter)(),y=(0,p.O_)(),{session:l,query:c,clearSessionRelatedData:T,prepareSessionForLogout:h}=(0,m.kP)(),{isFetching:v,refetch:w}=c,g=!y||v,M=!!l.user,C=(0,s.useMemo)((()=>{var e,t;const n=null===(e=l.user)||void 0===e?void 0:e.attributes.kyc;var i;return{isLoading:g,refreshSession:()=>w(),isAuth:M,user:l.user,userEvmWallet:null===(t=l.user)||void 0===t?void 0:t.wallets.find((e=>"EVM"===e.attributes.network)),kycResultStatus:(null!==(i=null==n?void 0:n.sumSub)&&void 0!==i?i:null==n?void 0:n.babt)?d.aWg.COMPLETED:d.aWg.INIT,logout:f}}),[M,l.user,g,w]);return(0,s.useEffect)((()=>{window.__logoutClient=f}),[]),(0,s.useEffect)((()=>{M&&(0,m.uI)(r)}),[M,r]),(0,s.useEffect)((()=>{if(!l.isExpired)return;["/spaces","/magic-boost","/profile"].some((e=>n.startsWith(e)))?o.replace("/"):T()}),[n,l.isExpired,T]),(0,s.useEffect)((()=>{var e,t;if(!l.user||l.isExpired)return;const n=e=>{e.deleted.find((e=>"Authorized"===e.name))&&h()};return null===(t=window)||void 0===t||null===(e=t.cookieStore)||void 0===e||e.addEventListener("change",n),()=>{var e,t;null===(t=window)||void 0===t||null===(e=t.cookieStore)||void 0===e||e.removeEventListener("change",n)}}),[o,l.user,h]),(0,i.jsx)(b.Provider,{value:C,children:t})}},49771:function(e,t,n){n.d(t,{Pu:function(){return p}});var i=n(9910),a=n(8289),s=n(1323);a.yXc,a.DMT,a.pLm,a.ueV,a.eGR,a.Q0d,a.KHm,a._1N,a.RJ0,a.v4o,a.yue,a.jMx;const u={"store-web":{name:"Magic Store",description:"Crypto App Store by Magic Square",url:"https://magicsquare.io",icons:["https://magicsquare.io/wp-content/uploads/2022/06/MSQ-logo-short.svg"]},staking:{name:"Magic Staking",description:"Crypto App Store by Magic Square",url:i.FQ.staking,icons:["https://magicsquare.io/wp-content/uploads/2022/06/MSQ-logo-short.svg"]},launchpad:{name:"Magic Launchpad",description:"Crypto App Store by Magic Square",url:"https://launchpad.magicsquare.io",icons:["https://magicsquare.io/wp-content/uploads/2022/06/MSQ-logo-short.svg"]},empty:{name:"Magic Square",description:"Magic Square",url:"https://magicsquare.io",icons:["https://magicsquare.io/wp-content/uploads/2022/06/MSQ-logo-short.svg"]}},r=void 0!==s?"launchpad":void 0,p=r&&r in u&&u[r]||u.empty},81395:function(e,t,n){n.d(t,{H:function(){return m},g:function(){return T}});var i=n(77475),a=n(78580),s=n(28959),u=n(38513),r=n(49452),p=n(94136),o=n(83793),d=n(8289),y=n(9244),l=n(49771);if(!o.JP)throw new Error("Wallet Connect Project ID is not defined");const c={timeout:3e4,batch:{batchSize:7,wait:150}},m=new y.K({networks:[d.RJ0,d.eGR,d.yue,d.v4o,d.yXc,d.KHm,d.pLm,d.Q0d,d.DMT,d.jMx,d._1N,d.ueV],projectId:o.JP,storage:(0,a.o)({storage:s.Dr}),syncConnectedChain:!1,multiInjectedProviderDiscovery:!0,transports:{[d.RJ0.id]:(0,i.t)([(0,u.d)("https://ethereum-rpc.publicnode.com",c),(0,u.d)("https://1rpc.io/scroll",c),(0,u.d)("https://eth.drpc.org",c)]),[d.eGR.id]:(0,i.t)([(0,u.d)("https://bsc-rpc.publicnode.com",c),(0,u.d)("https://1rpc.io/bnb",c),(0,u.d)("https://bsc.drpc.org",c)]),[d.yue.id]:(0,i.t)([(0,u.d)("https://polygon-bor-rpc.publicnode.com",c),(0,u.d)("https://1rpc.io/matic",c),(0,u.d)("https://polygon.drpc.org",c)]),[d.v4o.id]:(0,i.t)([(0,u.d)("https://optimism-rpc.publicnode.com",c),(0,u.d)("https://1rpc.io/op",c),(0,u.d)("https://optimism.drpc.org",c)]),[d.yXc.id]:(0,i.t)([(0,u.d)("https://arbitrum-one-rpc.publicnode.com",c),(0,u.d)("https://1rpc.io/arb",c),(0,u.d)("https://arbitrum.drpc.org",c)]),[d.KHm.id]:(0,i.t)([(0,u.d)("https://gnosis-rpc.publicnode.com",c),(0,u.d)("https://1rpc.io/gnosis",c),(0,u.d)("https://gnosis.drpc.org",c)]),[d.pLm.id]:(0,i.t)([(0,u.d)("https://avalanche-c-chain-rpc.publicnode.com",c),(0,u.d)("https://avalanche.drpc.org",c)]),[d.Q0d.id]:(0,i.t)([(0,u.d)("https://fantom-rpc.publicnode.com",c),(0,u.d)("https://fantom.drpc.org",c)]),[d.DMT.id]:(0,i.t)([(0,u.d)("https://aurora-rpc.publicnode.com",c),(0,u.d)("https://1rpc.io/aurora",c),(0,u.d)("https://aurora.drpc.org",c)]),[d.ueV.id]:(0,i.t)([(0,u.d)("https://base-rpc.publicnode.com",c),(0,u.d)("https://1rpc.io/base",c),(0,u.d)("https://base.drpc.org",c)])},connectors:[(0,r.L)({shimDisconnect:!0}),(0,p.a)({projectId:o.JP,metadata:l.Pu,qrModalOptions:{themeMode:"dark"},showQrModal:!1})]}),T=m.wagmiConfig},45096:function(e,t,n){n.d(t,{M:function(){return u}});var i=n(53408),a=n(94644);const s=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"addedRewards",type:"uint256"},{indexed:!1,internalType:"uint256",name:"addedRewardPerPeriod",type:"uint256"}],name:"AddRewards",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"},{indexed:!0,internalType:"address",name:"id",type:"address"}],name:"Claim",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"RemoveCooldownFee",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"bool",name:"withoutClaim",type:"bool"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!0,internalType:"address",name:"id",type:"address"}],name:"RequestUnstake",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"rewardPerPeriod",type:"uint256"}],name:"SetEndTime",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"address",name:"id",type:"address"}],name:"Stake",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"userAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"},{indexed:!0,internalType:"address",name:"id",type:"address"}],name:"Unstake",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"periodsPassed",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalShares",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalClaimed",type:"uint256"},{indexed:!1,internalType:"uint256",name:"accRewardPerShare",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!0,internalType:"address",name:"id",type:"address"}],name:"Update",type:"event"},{inputs:[],name:"accRewardPerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"rewards",type:"uint256"}],name:"addRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claim",outputs:[{internalType:"uint256",name:"claimableReward",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cooldownFee",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"cooldownFeeSplit",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"cooldownPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"endTime",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeCollector1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeCollector2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"getClaimableReward",outputs:[{internalType:"uint256",name:"reward",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"userAddress",type:"address"}],name:"getFarmInfo",outputs:[{internalType:"contract IERC20",name:"",type:"address"},{internalType:"contract IERC20",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRewardBalance",outputs:[{internalType:"uint256",name:"rewardBalance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"contract IERC20",name:"stakingToken",type:"address"},{internalType:"contract IERC20",name:"rewardToken",type:"address"},{internalType:"address",name:"feeCollector1",type:"address"},{internalType:"address",name:"feeCollector2",type:"address"},{internalType:"uint48",name:"cooldownPeriod",type:"uint48"},{internalType:"uint16",name:"cooldownFee",type:"uint16"},{internalType:"uint16",name:"cooldownFeeSplit",type:"uint16"},{internalType:"uint48",name:"startTime",type:"uint48"},{internalType:"uint48",name:"endTime",type:"uint48"},{internalType:"string",name:"roundName",type:"string"}],internalType:"struct DAOFarm.InitParams",name:"params",type:"tuple"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastUpdateTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"removeCooldownFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"withoutClaim",type:"bool"}],name:"requestUnstake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardPerPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"roundName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint48",name:"newEndTime",type:"uint48"}],name:"setEndTime",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"staker",type:"address"}],name:"stakeFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakingToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"startTime",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalClaimed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalRewardsAdded",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unstake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"update",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"uint256",name:"rewardDebt",type:"uint256"},{internalType:"uint256",name:"requestedUnstakeAt",type:"uint256"}],stateMutability:"view",type:"function"}];class u{static createInterface(){return new i.vU(s)}static connect(e,t){return new a.CH(e,s,t)}}u.abi=s}}]);
//# sourceMappingURL=1593-170f99c860693584.js.map