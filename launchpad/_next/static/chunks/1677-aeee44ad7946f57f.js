"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1677],{87404:function(e,n,t){var r,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParsedMessage=void 0;const o=s(t(1989)),a=s(t(81260)),i=t(21430);class c{static generateApi(){const e=new o.default('\nsign-in-with-ethereum =\n    [ scheme "://" ] domain %s" wants you to sign in with your Ethereum account:" LF\n    address LF\n    LF\n    [ statement LF ]\n    LF\n    %s"URI: " URI LF\n    %s"Version: " version LF\n    %s"Chain ID: " chain-id LF\n    %s"Nonce: " nonce LF\n    %s"Issued At: " issued-at\n    [ LF %s"Expiration Time: " expiration-time ]\n    [ LF %s"Not Before: " not-before ]\n    [ LF %s"Request ID: " request-id ]\n    [ LF %s"Resources:"\n    resources ]\n\ndomain = authority\n\naddress = "0x" 40*40HEXDIG\n    ; Must also conform to captilization\n    ; checksum encoding specified in EIP-55\n    ; where applicable (EOAs).\n\nstatement = 1*( reserved / unreserved / " " )\n    ; The purpose is to exclude LF (line breaks).\n\nversion = "1"\n\nnonce = 8*( ALPHA / DIGIT )\n\nissued-at = date-time\nexpiration-time = date-time\nnot-before = date-time\n\nrequest-id = *pchar\n\nchain-id = 1*DIGIT\n    ; See EIP-155 for valid CHAIN_IDs.\n\nresources = *( LF resource )\n\nresource = "- " URI\n\n; ------------------------------------------------------------------------------\n; RFC 3986\n\nURI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n\nhier-part     = "//" authority path-abempty\n              / path-absolute\n              / path-rootless\n              / path-empty\n\nscheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n\nauthority     = [ userinfo "@" ] host [ ":" port ]\nuserinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\nhost          = IP-literal / IPv4address / reg-name\nport          = *DIGIT\n\nIP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n\nIPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n\nIPv6address   =                            6( h16 ":" ) ls32\n              /                       "::" 5( h16 ":" ) ls32\n              / [               h16 ] "::" 4( h16 ":" ) ls32\n              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n              / [ *4( h16 ":" ) h16 ] "::"              ls32\n              / [ *5( h16 ":" ) h16 ] "::"              h16\n              / [ *6( h16 ":" ) h16 ] "::"\n\nh16           = 1*4HEXDIG\nls32          = ( h16 ":" h16 ) / IPv4address\nIPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\ndec-octet     = DIGIT                 ; 0-9\n                 / %x31-39 DIGIT         ; 10-99\n                 / "1" 2DIGIT            ; 100-199\n                 / "2" %x30-34 DIGIT     ; 200-249\n                 / "25" %x30-35          ; 250-255\n\nreg-name      = *( unreserved / pct-encoded / sub-delims )\n\npath-abempty  = *( "/" segment )\npath-absolute = "/" [ segment-nz *( "/" segment ) ]\npath-rootless = segment-nz *( "/" segment )\npath-empty    = 0pchar\n\nsegment       = *pchar\nsegment-nz    = 1*pchar\n\npchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n\nquery         = *( pchar / "/" / "?" )\n\nfragment      = *( pchar / "/" / "?" )\n\npct-encoded   = "%" HEXDIG HEXDIG\n\nunreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\nreserved      = gen-delims / sub-delims\ngen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\nsub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n              / "*" / "+" / "," / ";" / "="\n\n; ------------------------------------------------------------------------------\n; RFC 3339\n\ndate-fullyear   = 4DIGIT\ndate-month      = 2DIGIT  ; 01-12\ndate-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n                          ; month/year\ntime-hour       = 2DIGIT  ; 00-23\ntime-minute     = 2DIGIT  ; 00-59\ntime-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n                          ; rules\ntime-secfrac    = "." 1*DIGIT\ntime-numoffset  = ("+" / "-") time-hour ":" time-minute\ntime-offset     = "Z" / time-numoffset\n\npartial-time    = time-hour ":" time-minute ":" time-second\n                  [time-secfrac]\nfull-date       = date-fullyear "-" date-month "-" date-mday\nfull-time       = partial-time time-offset\n\ndate-time       = full-date "T" full-time\n\n; ------------------------------------------------------------------------------\n; RFC 5234\n\nALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z\nLF             =  %x0A\n                  ; linefeed\nDIGIT          =  %x30-39\n                  ; 0-9\nHEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n');if(e.generate(),e.errors.length)throw console.error(e.errorsToAscii()),console.error(e.linesToAscii()),console.log(e.displayAttributeErrors()),new Error("ABNF grammar has errors");return e.toObject()}}r=c,c.grammarObj=r.generateApi();n.ParsedMessage=class{constructor(e){const n=new a.default.parser;n.ast=new a.default.ast;const t=a.default.ids;n.ast.callbacks.scheme=function(e,n,r,s,o){const i=t.SEM_OK;return e===t.SEM_PRE&&0===r&&(o.scheme=a.default.utils.charsToString(n,r,s)),i};n.ast.callbacks.domain=function(e,n,r,s,o){const i=t.SEM_OK;return e===t.SEM_PRE&&(o.domain=a.default.utils.charsToString(n,r,s)),i};n.ast.callbacks.address=function(e,n,r,s,o){const i=t.SEM_OK;return e===t.SEM_PRE&&(o.address=a.default.utils.charsToString(n,r,s)),i};n.ast.callbacks.statement=function(e,n,r,s,o){const i=t.SEM_OK;return e===t.SEM_PRE&&(o.statement=a.default.utils.charsToString(n,r,s)),i};n.ast.callbacks.uri=function(e,n,r,s,o){const i=t.SEM_OK;return e===t.SEM_PRE&&(o.uri||(o.uri=a.default.utils.charsToString(n,r,s))),i};n.ast.callbacks.version=function(e,n,r,s,o){const i=t.SEM_OK;return e===t.SEM_PRE&&(o.version=a.default.utils.charsToString(n,r,s)),i};n.ast.callbacks["chain-id"]=function(e,n,r,s,o){const c=t.SEM_OK;return e===t.SEM_PRE&&(o.chainId=(0,i.parseIntegerNumber)(a.default.utils.charsToString(n,r,s))),c};n.ast.callbacks.nonce=function(e,n,r,s,o){const i=t.SEM_OK;return e===t.SEM_PRE&&(o.nonce=a.default.utils.charsToString(n,r,s)),i};n.ast.callbacks["issued-at"]=function(e,n,r,s,o){const i=t.SEM_OK;return e===t.SEM_PRE&&(o.issuedAt=a.default.utils.charsToString(n,r,s)),i};n.ast.callbacks["expiration-time"]=function(e,n,r,s,o){const i=t.SEM_OK;return e===t.SEM_PRE&&(o.expirationTime=a.default.utils.charsToString(n,r,s)),i};n.ast.callbacks["not-before"]=function(e,n,r,s,o){const i=t.SEM_OK;return e===t.SEM_PRE&&(o.notBefore=a.default.utils.charsToString(n,r,s)),i};n.ast.callbacks["request-id"]=function(e,n,r,s,o){const i=t.SEM_OK;return e===t.SEM_PRE&&(o.requestId=a.default.utils.charsToString(n,r,s)),i};n.ast.callbacks.resources=function(e,n,r,s,o){const i=t.SEM_OK;return e===t.SEM_PRE&&(o.resources=a.default.utils.charsToString(n,r,s).slice(3).split("\n- ")),i};const r=n.parse(c.grammarObj,"sign-in-with-ethereum",e);if(!r.success)throw new Error(`Invalid message: ${JSON.stringify(r)}`);const s={};n.ast.translate(s);for(const[e,n]of Object.entries(s))this[e]=n;if(0===this.domain.length)throw new Error("Domain cannot be empty.");if(!(0,i.isEIP55Address)(this.address))throw new Error("Address not conformant to EIP-55.")}}},1792:function(e,n,t){var r=this&&this.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t);var s=Object.getOwnPropertyDescriptor(n,t);s&&!("get"in s?!n.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,s)}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),s=this&&this.__exportStar||function(e,n){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(n,t)||r(n,e,t)};Object.defineProperty(n,"__esModule",{value:!0}),n.ParsedMessage=void 0;const o=t(87404);Object.defineProperty(n,"ParsedMessage",{enumerable:!0,get:function(){return o.ParsedMessage}}),s(t(21430),n)},21430:function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.parseIntegerNumber=n.isEIP55Address=void 0;const r=t(48998),s=t(35852);n.isEIP55Address=e=>{if(42!=e.length)return!1;const n=`${e}`.toLowerCase().replace("0x",""),t=(0,s.bytesToHex)((0,r.keccak_256)(n));let o="0x";for(let e=0;e<n.length;e++)parseInt(t[e],16)>=8?o+=n[e].toUpperCase():o+=n[e];return e===o};n.parseIntegerNumber=e=>{const n=parseInt(e);if(isNaN(n))throw new Error("Invalid number.");if(n===1/0)throw new Error("Invalid number.");return n}},25622:function(e){!function(){const n=2147483647;function t(e){const n=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let t=1779033703,r=3144134277,s=1013904242,o=2773480762,a=1359893119,i=2600822924,c=528734635,u=1541459225;const l=new Uint32Array(64);function f(e){let f=0,d=e.length;for(;d>=64;){let h,m,p,I,g,E=t,b=r,w=s,y=o,_=a,P=i,S=c,A=u;for(m=0;m<16;m++)p=f+4*m,l[m]=(255&e[p])<<24|(255&e[p+1])<<16|(255&e[p+2])<<8|255&e[p+3];for(m=16;m<64;m++)h=l[m-2],I=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,h=l[m-15],g=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,l[m]=(I+l[m-7]|0)+(g+l[m-16]|0)|0;for(m=0;m<64;m++)I=(((_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7))+(_&P^~_&S)|0)+(A+(n[m]+l[m]|0)|0)|0,g=((E>>>2|E<<30)^(E>>>13|E<<19)^(E>>>22|E<<10))+(E&b^E&w^b&w)|0,A=S,S=P,P=_,_=y+I|0,y=w,w=b,b=E,E=I+g|0;t=t+E|0,r=r+b|0,s=s+w|0,o=o+y|0,a=a+_|0,i=i+P|0,c=c+S|0,u=u+A|0,f+=64,d-=64}}f(e);let d,h=e.length%64,m=e.length/536870912|0,p=e.length<<3,I=h<56?56:120,g=e.slice(e.length-h,e.length);for(g.push(128),d=h+1;d<I;d++)g.push(0);return g.push(m>>>24&255),g.push(m>>>16&255),g.push(m>>>8&255),g.push(m>>>0&255),g.push(p>>>24&255),g.push(p>>>16&255),g.push(p>>>8&255),g.push(p>>>0&255),f(g),[t>>>24&255,t>>>16&255,t>>>8&255,t>>>0&255,r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255]}function r(e,n,r){e=e.length<=64?e:t(e);const s=64+n.length+4,o=new Array(s),a=new Array(64);let i,c=[];for(i=0;i<64;i++)o[i]=54;for(i=0;i<e.length;i++)o[i]^=e[i];for(i=0;i<n.length;i++)o[64+i]=n[i];for(i=s-4;i<s;i++)o[i]=0;for(i=0;i<64;i++)a[i]=92;for(i=0;i<e.length;i++)a[i]^=e[i];function u(){for(let e=s-1;e>=s-4;e--){if(o[e]++,o[e]<=255)return;o[e]=0}}for(;r>=32;)u(),c=c.concat(t(a.concat(t(o)))),r-=32;return r>0&&(u(),c=c.concat(t(a.concat(t(o))).slice(0,r))),c}function s(e,n,t,r,s){let o;for(c(e,16*(2*t-1),s,0,16),o=0;o<2*t;o++)i(e,16*o,s,16),a(s,r),c(s,0,e,n+16*o,16);for(o=0;o<t;o++)c(e,n+2*o*16,e,16*o,16);for(o=0;o<t;o++)c(e,n+16*(2*o+1),e,16*(o+t),16)}function o(e,n){return e<<n|e>>>32-n}function a(e,n){c(e,0,n,0,16);for(let e=8;e>0;e-=2)n[4]^=o(n[0]+n[12],7),n[8]^=o(n[4]+n[0],9),n[12]^=o(n[8]+n[4],13),n[0]^=o(n[12]+n[8],18),n[9]^=o(n[5]+n[1],7),n[13]^=o(n[9]+n[5],9),n[1]^=o(n[13]+n[9],13),n[5]^=o(n[1]+n[13],18),n[14]^=o(n[10]+n[6],7),n[2]^=o(n[14]+n[10],9),n[6]^=o(n[2]+n[14],13),n[10]^=o(n[6]+n[2],18),n[3]^=o(n[15]+n[11],7),n[7]^=o(n[3]+n[15],9),n[11]^=o(n[7]+n[3],13),n[15]^=o(n[11]+n[7],18),n[1]^=o(n[0]+n[3],7),n[2]^=o(n[1]+n[0],9),n[3]^=o(n[2]+n[1],13),n[0]^=o(n[3]+n[2],18),n[6]^=o(n[5]+n[4],7),n[7]^=o(n[6]+n[5],9),n[4]^=o(n[7]+n[6],13),n[5]^=o(n[4]+n[7],18),n[11]^=o(n[10]+n[9],7),n[8]^=o(n[11]+n[10],9),n[9]^=o(n[8]+n[11],13),n[10]^=o(n[9]+n[8],18),n[12]^=o(n[15]+n[14],7),n[13]^=o(n[12]+n[15],9),n[14]^=o(n[13]+n[12],13),n[15]^=o(n[14]+n[13],18);for(let t=0;t<16;++t)e[t]+=n[t]}function i(e,n,t,r){for(let s=0;s<r;s++)t[s]^=e[n+s]}function c(e,n,t,r,s){for(;s--;)t[r++]=e[n++]}function u(e){if(!e||"number"!=typeof e.length)return!1;for(let n=0;n<e.length;n++){const t=e[n];if("number"!=typeof t||t%1||t<0||t>=256)return!1}return!0}function l(e,n){if("number"!=typeof e||e%1)throw new Error("invalid "+n);return e}function f(e,t,o,a,f,d,h){if(o=l(o,"N"),a=l(a,"r"),f=l(f,"p"),d=l(d,"dkLen"),0===o||o&o-1)throw new Error("N must be power of 2");if(o>n/128/a)throw new Error("N too large");if(a>n/128/f)throw new Error("r too large");if(!u(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!u(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let m=r(e,t,128*f*a);const p=new Uint32Array(32*f*a);for(let e=0;e<p.length;e++){const n=4*e;p[e]=(255&m[n+3])<<24|(255&m[n+2])<<16|(255&m[n+1])<<8|255&m[n+0]}const I=new Uint32Array(64*a),g=new Uint32Array(32*a*o),E=32*a,b=new Uint32Array(16),w=new Uint32Array(16),y=f*o*2;let _,P,S=0,A=null,T=!1,v=0,M=0;const D=h?parseInt(1e3/a):4294967295,O="undefined"!=typeof setImmediate?setImmediate:setTimeout,k=function(){if(T)return h(new Error("cancelled"),S/y);let n;switch(v){case 0:P=32*M*a,c(p,P,I,0,E),v=1,_=0;case 1:n=o-_,n>D&&(n=D);for(let e=0;e<n;e++)c(I,0,g,(_+e)*E,E),s(I,E,a,b,w);if(_+=n,S+=n,h){const e=parseInt(1e3*S/y);if(e!==A){if(T=h(null,S/y),T)break;A=e}}if(_<o)break;_=0,v=2;case 2:n=o-_,n>D&&(n=D);for(let e=0;e<n;e++){const e=I[16*(2*a-1)]&o-1;i(g,e*E,I,E),s(I,E,a,b,w)}if(_+=n,S+=n,h){const e=parseInt(1e3*S/y);if(e!==A){if(T=h(null,S/y),T)break;A=e}}if(_<o)break;if(c(I,0,p,P,E),M++,M<f){v=0;break}m=[];for(let e=0;e<p.length;e++)m.push(255&p[e]),m.push(p[e]>>8&255),m.push(p[e]>>16&255),m.push(p[e]>>24&255);const t=r(e,m,d);return h&&h(null,1,t),t}h&&O(k)};if(!h)for(;;){const e=k();if(null!=e)return e}k()}const d={scrypt:function(e,n,t,r,s,o,a){return new Promise((function(i,c){let u=0;a&&a(0),f(e,n,t,r,s,o,(function(e,n,t){if(e)c(e);else if(t)a&&1!==u&&a(1),i(new Uint8Array(t));else if(a&&n!==u)return u=n,a(n)}))}))},syncScrypt:function(e,n,t,r,s,o){return new Uint8Array(f(e,n,t,r,s,o))}};e.exports=d}()}}]);
//# sourceMappingURL=1677-aeee44ad7946f57f.js.map