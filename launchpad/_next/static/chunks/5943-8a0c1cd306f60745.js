"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5943],{76694:function(e,t,n){n.d(t,{Bk:function(){return I},Hg:function(){return j},I2:function(){return P},JD:function(){return w},Jf:function(){return Q},Oo:function(){return g},Ow:function(){return m},VU:function(){return v},Vk:function(){return N},fk:function(){return q},gD:function(){return T},jY:function(){return D},jZ:function(){return p},kd:function(){return S},nH:function(){return F},oK:function(){return C},zA:function(){return h}});var a=n(10308),i=n(30121),l=n(85151),o=n(78394),r=n(8531),s=n(81395),u=n(83793),c=n(449),d=n(69009),f=n(21242),y=n(44123);const m={selfAllocations:[f.f,"selfAllocations"],fcfsAllocationsBySalePoolId:e=>[f.f,"fcfsAllocationsBySalePoolId",e],proRataAllocationsBySalePoolId:e=>[f.f,"proRataAllocationsBySalePoolId",e],proRataSqrpGatedAllocationsBySalePoolId:e=>[f.f,"proRataSqrpGatedAllocationsBySalePoolId",e],sqrpGatedAllocationsBySalePoolId:e=>[f.f,"sqrpGatedAllocationsBySalePoolId",e],getLaunchpadCurrentUser:[f.f,"getLaunchpadCurrentUser"],getKYCToken:e=>[f.f,"getKYCToken",e],selfActiveWhitelistingPools:[f.f,"selfActiveWhitelistingPools"],selfActiveWhitelistingPoolsInfinite:[f.f,"selfActiveWhitelistingPoolsInfinite"],selfActiveSalesPools:[f.f,"selfActiveSalesPools"],selfActiveSalesPoolsInfinite:[f.f,"selfActiveSalesPoolsInfinite"],selfClaimablePools:[f.f,"selfClaimablePools"],selfClaimablePoolsInfinite:e=>[f.f,"selfClaimablePoolsInfinite",e],selfClosedPools:[f.f,"selfClosedPools"],selfClosedPoolsInfinite:[f.f,"selfClosedPoolsInfinite"],poolWhitelistJoiningCriteriaResults:e=>[f.f,"poolWhitelistJoiningCriteriaResults",e],poolDepositFee:(e,t)=>[f.f,e,t]},p=(e,t)=>{let{sourceId:n}=e;return(0,a.useQuery)({queryKey:m.getKYCToken({sourceId:n}),queryFn:()=>(0,d.keR)({json:{sourceId:n}}),...t})},g=()=>(0,i.useMutation)({mutationFn:e=>(0,d.nRe)({json:{email:e}})}),v=function(){let{limit:e=d.Ror,options:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.useInfiniteQuery)({queryKey:m.selfActiveWhitelistingPoolsInfinite,queryFn:t=>{let{pageParam:n}=t;return(0,d.sXb)({searchParams:{limit:e,offset:n}})},initialPageParam:0,getNextPageParam:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length===e?e*n.length:void 0},staleTime:0,...t})},P=function(){let{limit:e=d.Ror,options:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.useInfiniteQuery)({queryKey:m.selfActiveSalesPoolsInfinite,queryFn:t=>{let{pageParam:n}=t;return(0,d.qv9)({searchParams:{limit:e,offset:n}})},initialPageParam:0,getNextPageParam:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length===e?e*n.length:void 0},staleTime:0,...t})},h=async e=>{let{claimContractAddress:t,chainId:n,userWalletAddress:a}=e;const i="1"===(await(0,r.L)(s.g,{...u.F4,address:t,functionName:"VERSION",chainId:n})).split(".")[0],[l,o=0,c=0]=await((e,t,n,a)=>e?Promise.all([(0,r.L)(s.g,{...u.Zx,address:t,functionName:"fetchClaimInfo",chainId:a,args:[n]}),0,0]):Promise.all([(0,r.L)(s.g,{...u.F4,address:t,functionName:"fetchClaimInfo",chainId:a,args:[n]}),(0,r.L)(s.g,{...u.F4,address:t,functionName:"refundCloseDate",chainId:a}),(0,r.L)(s.g,{...u.F4,address:t,functionName:"refundStartDate",chainId:a})]))(i,t,a,n);return{...{amount:(null==l?void 0:l.amount)||0,canClaim:(null==l?void 0:l.canClaim)||!1,claimed:(null==l?void 0:l.claimed)||0,claimCount:(null==l?void 0:l.claimCount)||0,claimedAt:(null==l?void 0:l.claimedAt)||0,exist:(null==l?void 0:l.exist)||!1,available:(null==l?void 0:l.available)||0,remain:(null==l?void 0:l.remain)||0,nextAvailable:(null==l?void 0:l.nextAvailable)||0,nextClaimAt:(null==l?void 0:l.nextClaimAt)||0,canRefund:(null==l?void 0:l.canRefund)||!1,refunded:(null==l?void 0:l.refunded)||!1},refundEndDate:o,refundStartDate:c}},q=(e,t)=>{const n=(0,c.gf)();n&&n.setQueryData(m.selfClaimablePoolsInfinite(e),t)},A=(e,t)=>Promise.all(e.map((async e=>{var n;if(!e.claimContractAddress||!(null===(n=e.project)||void 0===n?void 0:n.claimingBlockchainId))return e;const a=await h({chainId:e.project.claimingBlockchainId,claimContractAddress:e.claimContractAddress,userWalletAddress:t}).catch((e=>{console.error(e)}))||void 0;return{...e,claimInfo:a}}))),I=e=>{let{limit:t=d.Ror,walletAddress:n,options:a}=e;return(0,l.useInfiniteQuery)({queryKey:m.selfClaimablePoolsInfinite(n),queryFn:async e=>{let{pageParam:a}=e;const i=await(0,d.tCY)({searchParams:{limit:t,offset:a}});return A(i,n)},initialPageParam:0,getNextPageParam:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length===t?t*n.length:void 0},staleTime:0,...a})},C=e=>{let{limit:t=d.Ror,walletAddress:n,options:a}=e;return(0,l.useInfiniteQuery)({queryKey:m.selfClosedPoolsInfinite,queryFn:async e=>{let{pageParam:a}=e;const i=await(0,d.C23)({searchParams:{limit:t,offset:a}});return A(i,n)},initialPageParam:0,getNextPageParam:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length===t?t*n.length:void 0},staleTime:0,...a})},Q=(e,t)=>(0,a.useQuery)({queryKey:m.poolWhitelistJoiningCriteriaResults(e),queryFn:()=>(0,d.NM8)(e),...t}),F=()=>{const e=(0,o.useQueryClient)();return(0,i.useMutation)({mutationFn:e=>{let{poolId:t}=e;return(0,d.wJB)(t)},onSuccess:(t,n)=>{let{poolId:a,projectId:i}=n;if(e.setQueryData(m.poolWhitelistJoiningCriteriaResults(a),t),i){const n=y.xE.project(i,!1);e.setQueriesData({predicate:e=>e.queryKey[0]===n[0]&&e.queryKey[1]===n[1]},(e=>e?{...e,salePool:e.salePool.map((e=>e.id!==a?e:{...e,attributes:{...e.attributes,meta:{...e.attributes.meta,isWhitelistParticipant:t.meta.participationVerified}}}))}:e))}const l=e=>(null==e?void 0:e.pages.length)?{...e,pages:e.pages.map((e=>e.map((e=>e.id!==a?e:{...e,meta:{...e.meta,whiteListContainsUser:t.meta.participationVerified}}))))}:e;e.setQueryData(m.selfActiveWhitelistingPoolsInfinite,l),e.setQueryData(m.selfActiveSalesPoolsInfinite,l)}})},S=e=>(0,a.useQuery)({queryKey:m.selfAllocations,queryFn:()=>(0,d.F$i)(),staleTime:0,...e}),K={[d.N6H.FCFS]:"fcfsAllocation",[d.N6H.SQRP_GATED]:"sqrpGatedAllocation",[d.N6H.PRO_RATA]:"proRataAllocation",[d.N6H.PRO_RATA_SQRP_GATED]:"proRataSqrpGatedAllocation"},R=(e,t,n)=>{const a={amount:0,amountBought:0,sqrpAmount:0,id:"0",salePool:null};if(!e)return a;const i=((e,t)=>[...e[K[t]]||[]])(e,t);return i.find((e=>{var t;return(null==e||null===(t=e.salePool)||void 0===t?void 0:t.id)===n}))||a},w=(e,t)=>{let{poolType:n,poolId:i}=e;var l,o,r,s;const{data:u,refetch:c}=S(),d=[...(null==u||null===(l=u.fcfsAllocation)||void 0===l?void 0:l.map((e=>e.id)))||[],...(null==u||null===(o=u.sqrpGatedAllocation)||void 0===o?void 0:o.map((e=>e.id)))||[],...(null==u||null===(r=u.proRataAllocation)||void 0===r?void 0:r.map((e=>e.id)))||[],...(null==u||null===(s=u.proRataSqrpGatedAllocation)||void 0===s?void 0:s.map((e=>e.id)))||[]],f=(0,a.useQuery)({queryKey:[...m.selfAllocations,n,i,...d],queryFn:()=>R(u,n,i),staleTime:0,...t});return{...f,refetchPoolAllocations:async()=>{await c(),await f.refetch()}}},D=e=>{let{poolType:t,poolId:n}=e;var a,i;const l=(0,o.useQueryClient)(),{data:r}=S(),s=[...(null==r||null===(a=r.fcfsAllocation)||void 0===a?void 0:a.map((e=>e.id)))||[],...(null==r||null===(i=r.sqrpGatedAllocation)||void 0===i?void 0:i.map((e=>e.id)))||[]];return e=>{l.setQueryData([...m.selfAllocations,t,n,...s],(t=>t?{...t,sqrpAmount:((null==t?void 0:t.sqrpAmount)||0)+e||0}:t))}},T=e=>{let{poolId:t,amount:n,hasDepositFee:i}=e;return(0,a.useQuery)({queryKey:m.poolDepositFee(t,n),queryFn:()=>(0,d.eYC)(t,{searchParams:{amount:n}}),enabled:i&&Boolean(t)&&n>0})},B={server:["mainPageBanners"],client:["clientMainPageBanners"]},j=()=>(0,a.useQuery)({queryKey:B.client,queryFn:()=>(0,d.EyV)()}),N=()=>(0,a.useQuery)({queryKey:["campaignsProjects"],queryFn:()=>(0,d.JjL)()})},44123:function(e,t,n){n.d(t,{DE:function(){return y},Dl:function(){return m},FZ:function(){return v},HD:function(){return A},Oz:function(){return C},Rj:function(){return I},Sc:function(){return p},Td:function(){return Q},_G:function(){return P},eZ:function(){return q},gv:function(){return g},kK:function(){return h},nF:function(){return d},vg:function(){return F},xE:function(){return f}});var a=n(85151),i=n(10308),l=n(30121),o=n(78394),r=n(69009),s=n(76694),u=n(32578),c=n(21242);const d=4,f={list:e=>["listLaunchpadProjects",e],infiniteList:function(){return["infiniteListLaunchpadProject",arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:""]},project:(e,t)=>["launchpadProject",e,t?c.f:""],projectPrefetch:e=>["prefetchLaunchpadProject",e],sales:e=>["launchpadSales",e],sale:e=>["launchpadSale",e]},y=e=>{var t,n,i;return(0,a.useInfiniteQuery)({queryKey:f.infiniteList((null==e||null===(t=e.searchParams)||void 0===t?void 0:t.limit)||d,(null==e||null===(n=e.searchParams)||void 0===n?void 0:n.offset)||0,null==e||null===(i=e.searchParams)||void 0===i?void 0:i.status),queryFn:t=>{let{pageParam:n}=t;var a,i,l;return(0,r.RCk)({searchParams:{limit:(null==e||null===(a=e.searchParams)||void 0===a?void 0:a.limit)||d,offset:n,...(null==e||null===(i=e.searchParams)||void 0===i?void 0:i.status)?{status:null==e||null===(l=e.searchParams)||void 0===l?void 0:l.status}:{}}})},initialPageParam:0,getNextPageParam:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(null==e?void 0:e.length)===d?t.length*d:void 0},staleTime:0})},m=(e,t)=>(0,i.useQuery)({queryKey:f.list(null==e?void 0:e.searchParams),queryFn:()=>(0,r.RCk)(e),staleTime:0,...t}),p=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,i.useQuery)({queryKey:f.project(e,t),queryFn:()=>t?(0,r.Ep_)(e):(0,r.xw)(e),staleTime:0})},g=e=>(0,i.useQuery)({queryKey:f.projectPrefetch(e),queryFn:()=>(0,r.xw)(e)}),v=e=>(0,i.useQuery)({queryKey:f.sale(e),queryFn:()=>(0,r.rNw)(e),staleTime:0}),P=()=>(0,l.useMutation)({mutationFn:e=>{let{saleId:t,amount:n,isSqrpBasedOffchainTransactions:a,signedMessage:i}=e;return(0,r.Yvc)(t,n,a,i)}}),h=(e,t)=>(0,i.useQuery)({...t,queryKey:[s.Ow.fcfsAllocationsBySalePoolId(e)],queryFn:()=>(0,r.y4X)(e)}),q=()=>(0,l.useMutation)({mutationFn:e=>{let{saleId:t,amount:n,boosted:a,isSqrpBasedOffchainTransactions:i,signedMessage:l}=e;return(0,r.dCJ)(t,n,a,i,l)}}),A=(e,t)=>(0,i.useQuery)({...t,queryKey:[s.Ow.proRataAllocationsBySalePoolId(e)],queryFn:()=>(0,r.Ddm)(e)}),I=()=>{const e=(0,o.useQueryClient)();return(0,l.useMutation)({mutationFn:async e=>{let{saleId:t,amount:n,boosted:a,isSqrpBasedOffchainTransactions:i,signedMessage:l}=e;return(0,r.Gtg)(t,n,a,i,l)},onSuccess:()=>{e.invalidateQueries({queryKey:[u.R5.session]})}})},C=(e,t)=>(0,i.useQuery)({...t,queryKey:[s.Ow.proRataSqrpGatedAllocationsBySalePoolId(e)],queryFn:()=>(0,r.fVr)(e)}),Q=()=>{const e=(0,o.useQueryClient)();return(0,l.useMutation)({mutationFn:async e=>{let{saleId:t,amount:n,isSqrpBasedOffchainTransactions:a,signedMessage:i}=e;return(0,r.lsO)(t,n,a,i)},onSuccess:()=>{e.invalidateQueries({queryKey:[s.Ow.getLaunchpadCurrentUser]})}})},F=(e,t)=>(0,i.useQuery)({...t,queryKey:[s.Ow.sqrpGatedAllocationsBySalePoolId(e)],queryFn:()=>(0,r.Bud)(e)})},83684:function(e,t,n){n.d(t,{e:function(){return r}});var a=n(85151),i=n(69009),l=n(21242);l.f,l.f;const o=function(){let{limit:e=i.LSh,offset:t=0,category:n=i.el9.ALL}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[l.f,"launchpadUserNotificationsInfinity",{limit:e,offset:t,category:n}]},r=function(){let{params:e,options:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.useInfiniteQuery)({queryKey:o(null==e?void 0:e.searchParams),queryFn:t=>{let{pageParam:n}=t;return(0,i.vPZ)({searchParams:{...null==e?void 0:e.searchParams,offset:n}})},initialPageParam:0,getNextPageParam:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(null==e?void 0:e.length)===i.LSh?t.length*i.LSh:void 0},staleTime:0,...t})}},46974:function(e,t,n){n(69009)},51073:function(e,t,n){n(69009),n(50531),n(21242),n(6403)},51550:function(e,t,n){n(69009)},18357:function(e,t,n){n.d(t,{F9:function(){return c},Pk:function(){return d},cR:function(){return u}});var a=n(83574),i=n(78394),l=n(30121),o=n(69009),r=n(21242);const s=e=>[r.f,"notificationList",e],u=function(){let{limit:e=20}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.t)({queryKey:s(e),queryFn:t=>{let{pageParam:n}=t;return(0,o.THo)({searchParams:{limit:e,offset:n}})},initialPageParam:0,getNextPageParam:function(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(((e,t)=>e+t.rows.filter((e=>!e.removed)).length),0);return e.count>t?t:void 0},staleTime:3e4})},c=()=>{const e=(0,i.useQueryClient)();return(0,l.useMutation)({mutationFn:async e=>{"all"===e.type?await(0,o.oN3)():"list"===e.type?await(0,o.hp$)({json:{ids:e.ids}}):"item"===e.type&&await(0,o.hp$)({json:{id:e.id}})},onMutate:async t=>{await e.cancelQueries({queryKey:u().queryKey});const n=e.getQueryData(u().queryKey);return e.setQueryData(u().queryKey,(e=>(null==e?void 0:e.pages.length)?{...e,pages:e.pages.map(((n,a)=>{const i=e.pages.length-1===a;let l=n.count;return i&&("all"===t.type?l=0:"item"===t.type?l-=1:"list"===t.type&&(l-=t.ids.length)),{count:l,rows:n.rows.map((e=>{const n="all"===t.type||"item"===t.type&&t.id===e.id||"list"===t.type&&t.ids.includes(e.id)?{removed:!0}:{};return{...e,...n}}))}}))}:e)),{previousData:n}},onError:(t,n,a)=>{e.setQueryData(u().queryKey,null==a?void 0:a.previousData)}})},d=()=>{const e=(0,i.useQueryClient)();return(0,l.useMutation)({mutationFn:async e=>{"all"===e.type?await(0,o.QkG)():await(0,o.j0S)({json:{ids:e.ids}})},onMutate:async t=>{await e.cancelQueries({queryKey:u().queryKey});const n=e.getQueryData(u().queryKey);return e.setQueryData(u().queryKey,(e=>(null==e?void 0:e.pages.length)?{...e,pages:e.pages.map((e=>({...e,rows:e.rows.map((e=>{const n="all"===t.type||t.ids.includes(e.id)?{status:o.foj.READ}:{};return{...e,...n}}))})))}:e)),{previousData:n}},onError:(t,n,a)=>{e.setQueryData(u().queryKey,null==a?void 0:a.previousData)}})}}}]);
//# sourceMappingURL=5943-8a0c1cd306f60745.js.map