/*! For license information please see 6331-2621ef5f2d3f3f61.js.LICENSE.txt */
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6331],{36331:function(e,t,r){r.d(t,{E:function(){return bX}});var n=Object.defineProperty,i=(e,t,r)=>(((e,t,r)=>{t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),o=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},s=(e,t,r)=>(o(e,t,"read from private field"),r?r.call(e):t.get(e)),a=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},c=(e,t,r,n)=>(o(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),u=(e,t,r)=>(o(e,t,"access private method"),r);function d(e,t){for(var r=0;r<t.length;r++){const n=t[r];if("string"!=typeof n&&!Array.isArray(n))for(const t in n)if("default"!==t&&!(t in e)){const r=Object.getOwnPropertyDescriptor(n,t);r&&Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:()=>n[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l,h,p={exports:{}},y=p.exports={};function m(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}function g(e){if(l===setTimeout)return setTimeout(e,0);if((l===m||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch{try{return l.call(null,e,0)}catch{return l.call(this,e,0)}}}!function(){try{l="function"==typeof setTimeout?setTimeout:m}catch{l=m}try{h="function"==typeof clearTimeout?clearTimeout:b}catch{h=b}}();var v,w=[],_=!1,S=-1;function E(){!_||!v||(_=!1,v.length?w=v.concat(w):S=-1,w.length&&k())}function k(){if(!_){var e=g(E);_=!0;for(var t=w.length;t;){for(v=w,w=[];++S<t;)v&&v[S].run();S=-1,t=w.length}v=null,_=!1,function(e){if(h===clearTimeout)return clearTimeout(e);if((h===b||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch{try{return h.call(null,e)}catch{return h.call(this,e)}}}(e)}}function A(e,t){this.fun=e,this.array=t}function x(){}y.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];w.push(new A(e,t)),1===w.length&&!_&&g(k)},A.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=x,y.addListener=x,y.once=x,y.off=x,y.removeListener=x,y.removeAllListeners=x,y.emit=x,y.prependListener=x,y.prependOnceListener=x,y.listeners=function(e){return[]},y.binding=function(e){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(e){throw new Error("process.chdir is not supported")},y.umask=function(){return 0};const I=f(p.exports);function T(){const e={};return e.promise=new Promise(((t,r)=>{e.resolve=t,e.reject=r})),e}var O,P,M;(P=O||(O={})).assertEqual=e=>e,P.assertIs=function(e){},P.assertNever=function(e){throw new Error},P.arrayToEnum=e=>{const t={};for(const r of e)t[r]=r;return t},P.getValidEnumValues=e=>{const t=P.objectKeys(e).filter((t=>"number"!=typeof e[e[t]])),r={};for(const n of t)r[n]=e[n];return P.objectValues(r)},P.objectValues=e=>P.objectKeys(e).map((function(t){return e[t]})),P.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},P.find=(e,t)=>{for(const r of e)if(t(r))return r},P.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,P.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},P.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,function(e){e.mergeShapes=(e,t)=>({...e,...t})}(M||(M={}));const R=O.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),B=e=>{switch(typeof e){case"undefined":return R.undefined;case"string":return R.string;case"number":return isNaN(e)?R.nan:R.number;case"boolean":return R.boolean;case"function":return R.function;case"bigint":return R.bigint;case"symbol":return R.symbol;case"object":return Array.isArray(e)?R.array:null===e?R.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?R.promise:typeof Map<"u"&&e instanceof Map?R.map:typeof Set<"u"&&e instanceof Set?R.set:typeof Date<"u"&&e instanceof Date?R.date:R.object;default:return R.unknown}},U=O.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class N extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){const r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof N))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,O.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},r=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}N.create=e=>new N(e);const j=(e,t)=>{let r;switch(e.code){case U.invalid_type:r=e.received===R.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case U.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,O.jsonStringifyReplacer)}`;break;case U.unrecognized_keys:r=`Unrecognized key(s) in object: ${O.joinValues(e.keys,", ")}`;break;case U.invalid_union:r="Invalid input";break;case U.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${O.joinValues(e.options)}`;break;case U.invalid_enum_value:r=`Invalid enum value. Expected ${O.joinValues(e.options)}, received '${e.received}'`;break;case U.invalid_arguments:r="Invalid function arguments";break;case U.invalid_return_type:r="Invalid function return type";break;case U.invalid_date:r="Invalid date";break;case U.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:O.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case U.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case U.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case U.custom:r="Invalid input";break;case U.invalid_intersection_types:r="Intersection results could not be merged";break;case U.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case U.not_finite:r="Number must be finite";break;default:r=t.defaultError,O.assertNever(e)}return{message:r}};let C=j;function L(){return C}const D=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,o=[...r,...i.path||[]],s={...i,path:o};if(void 0!==i.message)return{...i,path:o,message:i.message};let a="";const c=n.filter((e=>!!e)).slice().reverse();for(const e of c)a=e(s,{data:t,defaultError:a}).message;return{...i,path:o,message:a}};function F(e,t){const r=L(),n=D({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===j?void 0:j].filter((e=>!!e))});e.common.issues.push(n)}class W{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if("aborted"===n.status)return z;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const e of t){const t=await e.key,n=await e.value;r.push({key:t,value:n})}return W.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return z;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(typeof i.value<"u"||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}const z=Object.freeze({status:"aborted"}),q=e=>({status:"dirty",value:e}),V=e=>({status:"valid",value:e}),K=e=>"aborted"===e.status,Z=e=>"dirty"===e.status,H=e=>"valid"===e.status,G=e=>typeof Promise<"u"&&e instanceof Promise;function J(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function Q(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}var Y,X,$;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(Y||(Y={}));class ee{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const te=(e,t)=>{if(H(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new N(e.common.issues);return this._error=t,this._error}}};function re(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var o,s;const{message:a}=e;return"invalid_enum_value"===t.code?{message:a??i.defaultError}:typeof i.data>"u"?{message:null!==(o=a??n)&&void 0!==o?o:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(s=a??r)&&void 0!==s?s:i.defaultError}},description:i}}class ne{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return B(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:B(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new W,ctx:{common:e.parent.common,data:e.data,parsedType:B(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(G(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:B(e)},i=this._parseSync({data:e,path:n.path,parent:n});return te(n,i)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:B(e)},n=this._parse({data:e,path:r.path,parent:r}),i=await(G(n)?n:Promise.resolve(n));return te(r,i)}refine(e,t){const r=e=>"string"==typeof t||typeof t>"u"?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,n)=>{const i=e(t),o=()=>n.addIssue({code:U.custom,...r(t)});return typeof Promise<"u"&&i instanceof Promise?i.then((e=>!!e||(o(),!1))):!!i||(o(),!1)}))}refinement(e,t){return this._refinement(((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1)))}_refinement(e){return new $e({schema:this,typeName:ft.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return et.create(this,this._def)}nullable(){return tt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ue.create(this,this._def)}promise(){return Xe.create(this,this._def)}or(e){return Ce.create([this,e],this._def)}and(e){return We.create(this,e,this._def)}transform(e){return new $e({...re(this._def),schema:this,typeName:ft.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new rt({...re(this._def),innerType:this,defaultValue:t,typeName:ft.ZodDefault})}brand(){return new st({typeName:ft.ZodBranded,type:this,...re(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new nt({...re(this._def),innerType:this,catchValue:t,typeName:ft.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return at.create(this,e)}readonly(){return ct.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ie=/^c[^\s-]{8,}$/i,oe=/^[0-9a-z]+$/,se=/^[0-9A-HJKMNP-TV-Z]{26}$/,ae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ce=/^[a-z0-9_-]{21}$/i,ue=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,de=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let fe;const le=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,he=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,pe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ye="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",me=new RegExp(`^${ye}$`);function be(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function ge(e){return new RegExp(`^${be(e)}$`)}function ve(e){let t=`${ye}T${be(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function we(e,t){return!(("v4"!==t&&t||!le.test(e))&&("v6"!==t&&t||!he.test(e)))}class _e extends ne{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==R.string){const t=this._getOrReturnCtx(e);return F(t,{code:U.invalid_type,expected:R.string,received:t.parsedType}),z}const t=new W;let r;for(const n of this._def.checks)if("min"===n.kind)e.data.length<n.value&&(r=this._getOrReturnCtx(e,r),F(r,{code:U.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),t.dirty());else if("max"===n.kind)e.data.length>n.value&&(r=this._getOrReturnCtx(e,r),F(r,{code:U.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),t.dirty());else if("length"===n.kind){const i=e.data.length>n.value,o=e.data.length<n.value;(i||o)&&(r=this._getOrReturnCtx(e,r),i?F(r,{code:U.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&F(r,{code:U.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),t.dirty())}else if("email"===n.kind)de.test(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{validation:"email",code:U.invalid_string,message:n.message}),t.dirty());else if("emoji"===n.kind)fe||(fe=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),fe.test(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{validation:"emoji",code:U.invalid_string,message:n.message}),t.dirty());else if("uuid"===n.kind)ae.test(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{validation:"uuid",code:U.invalid_string,message:n.message}),t.dirty());else if("nanoid"===n.kind)ce.test(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{validation:"nanoid",code:U.invalid_string,message:n.message}),t.dirty());else if("cuid"===n.kind)ie.test(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{validation:"cuid",code:U.invalid_string,message:n.message}),t.dirty());else if("cuid2"===n.kind)oe.test(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{validation:"cuid2",code:U.invalid_string,message:n.message}),t.dirty());else if("ulid"===n.kind)se.test(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{validation:"ulid",code:U.invalid_string,message:n.message}),t.dirty());else if("url"===n.kind)try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),F(r,{validation:"url",code:U.invalid_string,message:n.message}),t.dirty()}else"regex"===n.kind?(n.regex.lastIndex=0,n.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{validation:"regex",code:U.invalid_string,message:n.message}),t.dirty())):"trim"===n.kind?e.data=e.data.trim():"includes"===n.kind?e.data.includes(n.value,n.position)||(r=this._getOrReturnCtx(e,r),F(r,{code:U.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),t.dirty()):"toLowerCase"===n.kind?e.data=e.data.toLowerCase():"toUpperCase"===n.kind?e.data=e.data.toUpperCase():"startsWith"===n.kind?e.data.startsWith(n.value)||(r=this._getOrReturnCtx(e,r),F(r,{code:U.invalid_string,validation:{startsWith:n.value},message:n.message}),t.dirty()):"endsWith"===n.kind?e.data.endsWith(n.value)||(r=this._getOrReturnCtx(e,r),F(r,{code:U.invalid_string,validation:{endsWith:n.value},message:n.message}),t.dirty()):"datetime"===n.kind?ve(n).test(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{code:U.invalid_string,validation:"datetime",message:n.message}),t.dirty()):"date"===n.kind?me.test(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{code:U.invalid_string,validation:"date",message:n.message}),t.dirty()):"time"===n.kind?ge(n).test(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{code:U.invalid_string,validation:"time",message:n.message}),t.dirty()):"duration"===n.kind?ue.test(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{validation:"duration",code:U.invalid_string,message:n.message}),t.dirty()):"ip"===n.kind?we(e.data,n.version)||(r=this._getOrReturnCtx(e,r),F(r,{validation:"ip",code:U.invalid_string,message:n.message}),t.dirty()):"base64"===n.kind?pe.test(e.data)||(r=this._getOrReturnCtx(e,r),F(r,{validation:"base64",code:U.invalid_string,message:n.message}),t.dirty()):O.assertNever(n);return{status:t.value,value:e.data}}_regex(e,t,r){return this.refinement((t=>e.test(t)),{validation:t,code:U.invalid_string,...Y.errToObj(r)})}_addCheck(e){return new _e({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Y.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Y.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Y.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(null==e?void 0:e.precision)>"u"?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...Y.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(null==e?void 0:e.precision)>"u"?null:null==e?void 0:e.precision,...Y.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Y.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Y.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...Y.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Y.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Y.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Y.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Y.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Y.errToObj(t)})}nonempty(e){return this.min(1,Y.errToObj(e))}trim(){return new _e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Se(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}_e.create=e=>{var t;return new _e({checks:[],typeName:ft.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...re(e)})};class Ee extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==R.number){const t=this._getOrReturnCtx(e);return F(t,{code:U.invalid_type,expected:R.number,received:t.parsedType}),z}let t;const r=new W;for(const n of this._def.checks)"int"===n.kind?O.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),F(t,{code:U.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),F(t,{code:U.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),F(t,{code:U.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==Se(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),F(t,{code:U.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),F(t,{code:U.not_finite,message:n.message}),r.dirty()):O.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Y.toString(t))}setLimit(e,t,r,n){return new Ee({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Y.toString(n)}]})}_addCheck(e){return new Ee({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Y.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Y.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&O.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ee.create=e=>new Ee({checks:[],typeName:ft.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...re(e)});class ke extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==R.bigint){const t=this._getOrReturnCtx(e);return F(t,{code:U.invalid_type,expected:R.bigint,received:t.parsedType}),z}let t;const r=new W;for(const n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),F(t,{code:U.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),F(t,{code:U.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),F(t,{code:U.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):O.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Y.toString(t))}setLimit(e,t,r,n){return new ke({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Y.toString(n)}]})}_addCheck(e){return new ke({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Y.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ke.create=e=>{var t;return new ke({checks:[],typeName:ft.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...re(e)})};class Ae extends ne{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==R.boolean){const t=this._getOrReturnCtx(e);return F(t,{code:U.invalid_type,expected:R.boolean,received:t.parsedType}),z}return V(e.data)}}Ae.create=e=>new Ae({typeName:ft.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...re(e)});class xe extends ne{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==R.date){const t=this._getOrReturnCtx(e);return F(t,{code:U.invalid_type,expected:R.date,received:t.parsedType}),z}if(isNaN(e.data.getTime())){return F(this._getOrReturnCtx(e),{code:U.invalid_date}),z}const t=new W;let r;for(const n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(r=this._getOrReturnCtx(e,r),F(r,{code:U.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),t.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(r=this._getOrReturnCtx(e,r),F(r,{code:U.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),t.dirty()):O.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new xe({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Y.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Y.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}xe.create=e=>new xe({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:ft.ZodDate,...re(e)});class Ie extends ne{_parse(e){if(this._getType(e)!==R.symbol){const t=this._getOrReturnCtx(e);return F(t,{code:U.invalid_type,expected:R.symbol,received:t.parsedType}),z}return V(e.data)}}Ie.create=e=>new Ie({typeName:ft.ZodSymbol,...re(e)});class Te extends ne{_parse(e){if(this._getType(e)!==R.undefined){const t=this._getOrReturnCtx(e);return F(t,{code:U.invalid_type,expected:R.undefined,received:t.parsedType}),z}return V(e.data)}}Te.create=e=>new Te({typeName:ft.ZodUndefined,...re(e)});class Oe extends ne{_parse(e){if(this._getType(e)!==R.null){const t=this._getOrReturnCtx(e);return F(t,{code:U.invalid_type,expected:R.null,received:t.parsedType}),z}return V(e.data)}}Oe.create=e=>new Oe({typeName:ft.ZodNull,...re(e)});class Pe extends ne{constructor(){super(...arguments),this._any=!0}_parse(e){return V(e.data)}}Pe.create=e=>new Pe({typeName:ft.ZodAny,...re(e)});class Me extends ne{constructor(){super(...arguments),this._unknown=!0}_parse(e){return V(e.data)}}Me.create=e=>new Me({typeName:ft.ZodUnknown,...re(e)});class Re extends ne{_parse(e){const t=this._getOrReturnCtx(e);return F(t,{code:U.invalid_type,expected:R.never,received:t.parsedType}),z}}Re.create=e=>new Re({typeName:ft.ZodNever,...re(e)});class Be extends ne{_parse(e){if(this._getType(e)!==R.undefined){const t=this._getOrReturnCtx(e);return F(t,{code:U.invalid_type,expected:R.void,received:t.parsedType}),z}return V(e.data)}}Be.create=e=>new Be({typeName:ft.ZodVoid,...re(e)});class Ue extends ne{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==R.array)return F(t,{code:U.invalid_type,expected:R.array,received:t.parsedType}),z;if(null!==n.exactLength){const e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(F(t,{code:e?U.too_big:U.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(F(t,{code:U.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(F(t,{code:U.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map(((e,r)=>n.type._parseAsync(new ee(t,e,t.path,r))))).then((e=>W.mergeArray(r,e)));const i=[...t.data].map(((e,r)=>n.type._parseSync(new ee(t,e,t.path,r))));return W.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new Ue({...this._def,minLength:{value:e,message:Y.toString(t)}})}max(e,t){return new Ue({...this._def,maxLength:{value:e,message:Y.toString(t)}})}length(e,t){return new Ue({...this._def,exactLength:{value:e,message:Y.toString(t)}})}nonempty(e){return this.min(1,e)}}function Ne(e){if(e instanceof je){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=et.create(Ne(n))}return new je({...e._def,shape:()=>t})}return e instanceof Ue?new Ue({...e._def,type:Ne(e.element)}):e instanceof et?et.create(Ne(e.unwrap())):e instanceof tt?tt.create(Ne(e.unwrap())):e instanceof ze?ze.create(e.items.map((e=>Ne(e)))):e}Ue.create=(e,t)=>new Ue({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ft.ZodArray,...re(t)});class je extends ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=O.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==R.object){const t=this._getOrReturnCtx(e);return F(t,{code:U.invalid_type,expected:R.object,received:t.parsedType}),z}const{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Re&&"strip"===this._def.unknownKeys))for(const e in r.data)i.includes(e)||o.push(e);const s=[];for(const e of i){const t=n[e],i=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new ee(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof Re){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of o)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)o.length>0&&(F(r,{code:U.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new ee(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e})).then((e=>W.mergeObjectSync(t,e))):W.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return Y.errToObj,new je({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,i,o,s;const a=null!==(o=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,t,r).message)&&void 0!==o?o:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=Y.errToObj(e).message)&&void 0!==s?s:a}:{message:a}}}:{}})}strip(){return new je({...this._def,unknownKeys:"strip"})}passthrough(){return new je({...this._def,unknownKeys:"passthrough"})}extend(e){return new je({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new je({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ft.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new je({...this._def,catchall:e})}pick(e){const t={};return O.objectKeys(e).forEach((r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])})),new je({...this._def,shape:()=>t})}omit(e){const t={};return O.objectKeys(this.shape).forEach((r=>{e[r]||(t[r]=this.shape[r])})),new je({...this._def,shape:()=>t})}deepPartial(){return Ne(this)}partial(e){const t={};return O.objectKeys(this.shape).forEach((r=>{const n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()})),new je({...this._def,shape:()=>t})}required(e){const t={};return O.objectKeys(this.shape).forEach((r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof et;)e=e._def.innerType;t[r]=e}})),new je({...this._def,shape:()=>t})}keyof(){return Je(O.objectKeys(this.shape))}}je.create=(e,t)=>new je({shape:()=>e,unknownKeys:"strip",catchall:Re.create(),typeName:ft.ZodObject,...re(t)}),je.strictCreate=(e,t)=>new je({shape:()=>e,unknownKeys:"strict",catchall:Re.create(),typeName:ft.ZodObject,...re(t)}),je.lazycreate=(e,t)=>new je({shape:e,unknownKeys:"strip",catchall:Re.create(),typeName:ft.ZodObject,...re(t)});class Ce extends ne{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map((async e=>{const r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const r=e.map((e=>new N(e.ctx.common.issues)));return F(t,{code:U.invalid_union,unionErrors:r}),z}));{let e;const n=[];for(const i of r){const r={...t,common:{...t.common,issues:[]},parent:null},o=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===o.status)return o;"dirty"===o.status&&!e&&(e={result:o,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=n.map((e=>new N(e)));return F(t,{code:U.invalid_union,unionErrors:i}),z}}get options(){return this._def.options}}Ce.create=(e,t)=>new Ce({options:e,typeName:ft.ZodUnion,...re(t)});const Le=e=>e instanceof He?Le(e.schema):e instanceof $e?Le(e.innerType()):e instanceof Ge?[e.value]:e instanceof Qe?e.options:e instanceof Ye?O.objectValues(e.enum):e instanceof rt?Le(e._def.innerType):e instanceof Te?[void 0]:e instanceof Oe?[null]:e instanceof et?[void 0,...Le(e.unwrap())]:e instanceof tt?[null,...Le(e.unwrap())]:e instanceof st||e instanceof ct?Le(e.unwrap()):e instanceof nt?Le(e._def.innerType):[];class De extends ne{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==R.object)return F(t,{code:U.invalid_type,expected:R.object,received:t.parsedType}),z;const r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(F(t,{code:U.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),z)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const n=new Map;for(const r of t){const t=Le(r.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(n.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new De({typeName:ft.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...re(r)})}}function Fe(e,t){const r=B(e),n=B(t);if(e===t)return{valid:!0,data:e};if(r===R.object&&n===R.object){const r=O.objectKeys(t),n=O.objectKeys(e).filter((e=>-1!==r.indexOf(e))),i={...e,...t};for(const r of n){const n=Fe(e[r],t[r]);if(!n.valid)return{valid:!1};i[r]=n.data}return{valid:!0,data:i}}if(r===R.array&&n===R.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let n=0;n<e.length;n++){const i=Fe(e[n],t[n]);if(!i.valid)return{valid:!1};r.push(i.data)}return{valid:!0,data:r}}return r===R.date&&n===R.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class We extends ne{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(K(e)||K(n))return z;const i=Fe(e.value,n.value);return i.valid?((Z(e)||Z(n))&&t.dirty(),{status:t.value,value:i.data}):(F(r,{code:U.invalid_intersection_types}),z)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((([e,t])=>n(e,t))):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}We.create=(e,t,r)=>new We({left:e,right:t,typeName:ft.ZodIntersection,...re(r)});class ze extends ne{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==R.array)return F(r,{code:U.invalid_type,expected:R.array,received:r.parsedType}),z;if(r.data.length<this._def.items.length)return F(r,{code:U.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),z;!this._def.rest&&r.data.length>this._def.items.length&&(F(r,{code:U.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...r.data].map(((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new ee(r,e,r.path,t)):null})).filter((e=>!!e));return r.common.async?Promise.all(n).then((e=>W.mergeArray(t,e))):W.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new ze({...this._def,rest:e})}}ze.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ze({items:e,typeName:ft.ZodTuple,rest:null,...re(t)})};class qe extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==R.object)return F(r,{code:U.invalid_type,expected:R.object,received:r.parsedType}),z;const n=[],i=this._def.keyType,o=this._def.valueType;for(const e in r.data)n.push({key:i._parse(new ee(r,e,r.path,e)),value:o._parse(new ee(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?W.mergeObjectAsync(t,n):W.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new qe(t instanceof ne?{keyType:e,valueType:t,typeName:ft.ZodRecord,...re(r)}:{keyType:_e.create(),valueType:e,typeName:ft.ZodRecord,...re(t)})}}class Ve extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==R.map)return F(r,{code:U.invalid_type,expected:R.map,received:r.parsedType}),z;const n=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map((([e,t],o)=>({key:n._parse(new ee(r,e,r.path,[o,"key"])),value:i._parse(new ee(r,t,r.path,[o,"value"]))})));if(r.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const r of o){const n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return z;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const r of o){const n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return z;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}Ve.create=(e,t,r)=>new Ve({valueType:t,keyType:e,typeName:ft.ZodMap,...re(r)});class Ke extends ne{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==R.set)return F(r,{code:U.invalid_type,expected:R.set,received:r.parsedType}),z;const n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(F(r,{code:U.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(F(r,{code:U.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const i=this._def.valueType;function o(e){const r=new Set;for(const n of e){if("aborted"===n.status)return z;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}const s=[...r.data.values()].map(((e,t)=>i._parse(new ee(r,e,r.path,t))));return r.common.async?Promise.all(s).then((e=>o(e))):o(s)}min(e,t){return new Ke({...this._def,minSize:{value:e,message:Y.toString(t)}})}max(e,t){return new Ke({...this._def,maxSize:{value:e,message:Y.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ke.create=(e,t)=>new Ke({valueType:e,minSize:null,maxSize:null,typeName:ft.ZodSet,...re(t)});class Ze extends ne{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==R.function)return F(t,{code:U.invalid_type,expected:R.function,received:t.parsedType}),z;function r(e,r){return D({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,L(),j].filter((e=>!!e)),issueData:{code:U.invalid_arguments,argumentsError:r}})}function n(e,r){return D({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,L(),j].filter((e=>!!e)),issueData:{code:U.invalid_return_type,returnTypeError:r}})}const i={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Xe){const e=this;return V((async function(...t){const s=new N([]),a=await e._def.args.parseAsync(t,i).catch((e=>{throw s.addIssue(r(t,e)),s})),c=await Reflect.apply(o,this,a);return await e._def.returns._def.type.parseAsync(c,i).catch((e=>{throw s.addIssue(n(c,e)),s}))}))}{const e=this;return V((function(...t){const s=e._def.args.safeParse(t,i);if(!s.success)throw new N([r(t,s.error)]);const a=Reflect.apply(o,this,s.data),c=e._def.returns.safeParse(a,i);if(!c.success)throw new N([n(a,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ze({...this._def,args:ze.create(e).rest(Me.create())})}returns(e){return new Ze({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Ze({args:e||ze.create([]).rest(Me.create()),returns:t||Me.create(),typeName:ft.ZodFunction,...re(r)})}}class He extends ne{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}He.create=(e,t)=>new He({getter:e,typeName:ft.ZodLazy,...re(t)});class Ge extends ne{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return F(t,{received:t.data,code:U.invalid_literal,expected:this._def.value}),z}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Je(e,t){return new Qe({values:e,typeName:ft.ZodEnum,...re(t)})}Ge.create=(e,t)=>new Ge({value:e,typeName:ft.ZodLiteral,...re(t)});class Qe extends ne{constructor(){super(...arguments),X.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),r=this._def.values;return F(t,{expected:O.joinValues(r),received:t.parsedType,code:U.invalid_type}),z}if(J(this,X,"f")||Q(this,X,new Set(this._def.values),"f"),!J(this,X,"f").has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return F(t,{received:t.data,code:U.invalid_enum_value,options:r}),z}return V(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Qe.create(e,{...this._def,...t})}exclude(e,t=this._def){return Qe.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}X=new WeakMap,Qe.create=Je;class Ye extends ne{constructor(){super(...arguments),$.set(this,void 0)}_parse(e){const t=O.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==R.string&&r.parsedType!==R.number){const e=O.objectValues(t);return F(r,{expected:O.joinValues(e),received:r.parsedType,code:U.invalid_type}),z}if(J(this,$,"f")||Q(this,$,new Set(O.getValidEnumValues(this._def.values)),"f"),!J(this,$,"f").has(e.data)){const e=O.objectValues(t);return F(r,{received:r.data,code:U.invalid_enum_value,options:e}),z}return V(e.data)}get enum(){return this._def.values}}$=new WeakMap,Ye.create=(e,t)=>new Ye({values:e,typeName:ft.ZodNativeEnum,...re(t)});class Xe extends ne{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==R.promise&&!1===t.common.async)return F(t,{code:U.invalid_type,expected:R.promise,received:t.parsedType}),z;const r=t.parsedType===R.promise?t.data:Promise.resolve(t.data);return V(r.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Xe.create=(e,t)=>new Xe({type:e,typeName:ft.ZodPromise,...re(t)});class $e extends ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ft.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{F(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){const e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return z;const n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?z:"dirty"===n.status||"dirty"===t.value?q(n.value):n}));{if("aborted"===t.value)return z;const n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?z:"dirty"===n.status||"dirty"===t.value?q(n.value):n}}if("refinement"===n.type){const e=e=>{const t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===r.common.async){const n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?z:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((r=>"aborted"===r.status?z:("dirty"===r.status&&t.dirty(),e(r.value).then((()=>({status:t.value,value:r.value}))))))}if("transform"===n.type){if(!1===r.common.async){const e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!H(e))return e;const o=n.transform(e.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>H(e)?Promise.resolve(n.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}O.assertNever(n)}}$e.create=(e,t,r)=>new $e({schema:e,typeName:ft.ZodEffects,effect:t,...re(r)}),$e.createWithPreprocess=(e,t,r)=>new $e({schema:t,effect:{type:"preprocess",transform:e},typeName:ft.ZodEffects,...re(r)});class et extends ne{_parse(e){return this._getType(e)===R.undefined?V(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}et.create=(e,t)=>new et({innerType:e,typeName:ft.ZodOptional,...re(t)});class tt extends ne{_parse(e){return this._getType(e)===R.null?V(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tt.create=(e,t)=>new tt({innerType:e,typeName:ft.ZodNullable,...re(t)});class rt extends ne{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===R.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}rt.create=(e,t)=>new rt({innerType:e,typeName:ft.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...re(t)});class nt extends ne{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return G(n)?n.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new N(r.common.issues)},input:r.data})}))):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new N(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nt.create=(e,t)=>new nt({innerType:e,typeName:ft.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...re(t)});class it extends ne{_parse(e){if(this._getType(e)!==R.nan){const t=this._getOrReturnCtx(e);return F(t,{code:U.invalid_type,expected:R.nan,received:t.parsedType}),z}return{status:"valid",value:e.data}}}it.create=e=>new it({typeName:ft.ZodNaN,...re(e)});const ot=Symbol("zod_brand");class st extends ne{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class at extends ne{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?z:"dirty"===e.status?(t.dirty(),q(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{const e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?z:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new at({in:e,out:t,typeName:ft.ZodPipeline})}}class ct extends ne{_parse(e){const t=this._def.innerType._parse(e),r=e=>(H(e)&&(e.value=Object.freeze(e.value)),e);return G(t)?t.then((e=>r(e))):r(t)}unwrap(){return this._def.innerType}}function ut(e,t={},r){return e?Pe.create().superRefine(((n,i)=>{var o,s;if(!e(n)){const e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,a=null===(s=null!==(o=e.fatal)&&void 0!==o?o:r)||void 0===s||s,c="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...c,fatal:a})}})):Pe.create()}ct.create=(e,t)=>new ct({innerType:e,typeName:ft.ZodReadonly,...re(t)});const dt={object:je.lazycreate};var ft;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(ft||(ft={}));const lt=_e.create,ht=Ee.create,pt=it.create,yt=ke.create,mt=Ae.create,bt=xe.create,gt=Ie.create,vt=Te.create,wt=Oe.create,_t=Pe.create,St=Me.create,Et=Re.create,kt=Be.create,At=Ue.create,xt=je.create,It=je.strictCreate,Tt=Ce.create,Ot=De.create,Pt=We.create,Mt=ze.create,Rt=qe.create,Bt=Ve.create,Ut=Ke.create,Nt=Ze.create,jt=He.create,Ct=Ge.create,Lt=Qe.create,Dt=Ye.create,Ft=Xe.create,Wt=$e.create,zt=et.create,qt=tt.create,Vt=$e.createWithPreprocess,Kt=at.create,Zt={string:e=>_e.create({...e,coerce:!0}),number:e=>Ee.create({...e,coerce:!0}),boolean:e=>Ae.create({...e,coerce:!0}),bigint:e=>ke.create({...e,coerce:!0}),date:e=>xe.create({...e,coerce:!0})},Ht=z;var Gt=Object.freeze({__proto__:null,defaultErrorMap:j,setErrorMap:function(e){C=e},getErrorMap:L,makeIssue:D,EMPTY_PATH:[],addIssueToContext:F,ParseStatus:W,INVALID:z,DIRTY:q,OK:V,isAborted:K,isDirty:Z,isValid:H,isAsync:G,get util(){return O},get objectUtil(){return M},ZodParsedType:R,getParsedType:B,ZodType:ne,datetimeRegex:ve,ZodString:_e,ZodNumber:Ee,ZodBigInt:ke,ZodBoolean:Ae,ZodDate:xe,ZodSymbol:Ie,ZodUndefined:Te,ZodNull:Oe,ZodAny:Pe,ZodUnknown:Me,ZodNever:Re,ZodVoid:Be,ZodArray:Ue,ZodObject:je,ZodUnion:Ce,ZodDiscriminatedUnion:De,ZodIntersection:We,ZodTuple:ze,ZodRecord:qe,ZodMap:Ve,ZodSet:Ke,ZodFunction:Ze,ZodLazy:He,ZodLiteral:Ge,ZodEnum:Qe,ZodNativeEnum:Ye,ZodPromise:Xe,ZodEffects:$e,ZodTransformer:$e,ZodOptional:et,ZodNullable:tt,ZodDefault:rt,ZodCatch:nt,ZodNaN:it,BRAND:ot,ZodBranded:st,ZodPipeline:at,ZodReadonly:ct,custom:ut,Schema:ne,ZodSchema:ne,late:dt,get ZodFirstPartyTypeKind(){return ft},coerce:Zt,any:_t,array:At,bigint:yt,boolean:mt,date:bt,discriminatedUnion:Ot,effect:Wt,enum:Lt,function:Nt,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>ut((t=>t instanceof e),t),intersection:Pt,lazy:jt,literal:Ct,map:Bt,nan:pt,nativeEnum:Dt,never:Et,null:wt,nullable:qt,number:ht,object:xt,oboolean:()=>mt().optional(),onumber:()=>ht().optional(),optional:zt,ostring:()=>lt().optional(),pipeline:Kt,preprocess:Vt,promise:Ft,record:Rt,set:Ut,strictObject:It,string:lt,symbol:gt,transformer:Wt,tuple:Mt,undefined:vt,union:Tt,unknown:St,void:kt,NEVER:Ht,ZodIssueCode:U,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:N});const Jt=Gt.object({dangerouslyInjectWindow:Gt.boolean().optional().default(!1),walletStandard:Gt.boolean().optional().default(!0)}),Qt=Gt.object({dangerouslyInjectWindow:Gt.boolean().optional().default(!1),eip6963:Gt.boolean().optional().default(!0)}),Yt=Gt.object({dangerouslyInjectWindow:Gt.boolean().optional().default(!1),walletStandard:Gt.boolean().optional().default(!0)}),Xt=Gt.object({bitcoin:Gt.union([Gt.boolean(),Jt]).default(!1).transform((e=>!0===e?Jt.parse({}):e)),ethereum:Gt.union([Gt.boolean(),Qt]).default(!1).transform((e=>!0===e?Qt.parse({}):e)),solana:Gt.union([Gt.boolean(),Yt]).default(!1).transform((e=>!0===e?Yt.parse({}):e))}),$t=Gt.object({appId:Gt.string().uuid().optional(),providers:Xt.optional().default({}),networks:Xt.optional()}).default({});const er="https://embedded.passkeys.foundation",tr="rpc";var rr="isPasskeys",nr="isPasskey",ir="Passkeys",or="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDMyIDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGNsYXNzPSJ0cmFuc2l0aW9uLWFsbCBib3gtY29udGVudCBhbmltYXRlLW5vbmUiIHNpemU9IjE4IiBzdHlsZT0id2lkdGg6IDE4cHg7IGhlaWdodDogMThweDsiIGlkPSJzdmdnIj48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNiIgZmlsbD0iI0UzQUZCRSIvPjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMzNfMjYxMikiPjxwYXRoIGQ9Ik0xMi4yMjU0IDUuNzA4OTRMOC45NzU0NiA3LjU4NTU1QzguODgwNjIgNy42NDA4NiA4Ljg0OTAxIDcuNzYxMzYgOC45MDIzNiA3Ljg1NjE4TDEyLjQwNzIgMTMuOTI2NUg1LjM5NzUyQzUuMjg4ODYgMTMuOTI2NSA1LjE5OTk1IDE0LjAxNTQgNS4xOTk5NSAxNC4xMjQxVjE3Ljg3NzNDNS4xOTk5NSAxNy45ODU5IDUuMjg4ODYgMTguMDc0OCA1LjM5NzUyIDE4LjA3NDhIMTIuNDA3MkwxMy42MDQ1IDE2LjAwMDdMMTQuODAxNyAxMy45MjY1TDE1Ljk5OSAxMS44NTI0TDEyLjQ5NjEgNS43ODIwM0MxMi40NDA4IDUuNjg3MjEgMTIuMzIwMyA1LjY1NTYgMTIuMjI1NCA1LjcwODk0WiIgZmlsbD0iIzE4MTgxOCIvPjxwYXRoIGQ9Ik0xOS41OTI4IDE4LjA3NTJIMTIuNDA3M0w4LjkwMjQ1IDI0LjE0NTVDOC44NDcxMyAyNC4yNDA0IDguODgwNzIgMjQuMzYwOSA4Ljk3NTU1IDI0LjQxNjJMMTIuMjI1NSAyNi4yOTI4QzEyLjMyMDQgMjYuMzQ4MSAxMi40NDA5IDI2LjMxNDUgMTIuNDk2MiAyNi4yMTk3TDE2LjAwMSAyMC4xNDkzTDE5LjUwNTkgMjYuMjE5N0MxOS41NjEyIDI2LjMxNDUgMTkuNjgxNyAyNi4zNDYxIDE5Ljc3NjUgMjYuMjkyOEwyMy4wMjY1IDI0LjQxNjJDMjMuMTIxMyAyNC4zNjA5IDIzLjE1MyAyNC4yNDA0IDIzLjA5OTYgMjQuMTQ1NUwxOS41OTQ4IDE4LjA3NTJIMTkuNTkyOFoiIGZpbGw9IiMxODE4MTgiLz48cGF0aCBkPSJNMTkuNTkyOCAxMy45MjY5TDIzLjA5NzYgNy44NTY1N0MyMy4xNTI5IDcuNzYxNzUgMjMuMTE5MyA3LjY0MTI1IDIzLjAyNDUgNy41ODU5NEwxOS43NzQ1IDUuNzA5MzNDMTkuNjc5NyA1LjY1NDAyIDE5LjU1OTIgNS42ODc2IDE5LjUwMzkgNS43ODI0MkwxNS45OTkgMTEuODUyOEwxNy4xOTYzIDEzLjkyNjlMMTguMzkzNSAxNi4wMDExTDE5LjU5MDggMTguMDc1MkgyNi42MDA1QzI2LjcwOTEgMTguMDc1MiAyNi43OTggMTcuOTg2MyAyNi43OTggMTcuODc3N1YxNC4xMjQ0QzI2Ljc5OCAxNC4wMTU4IDI2LjcwOTEgMTMuOTI2OSAyNi42MDA1IDEzLjkyNjlIMTkuNTkwOEgxOS41OTI4WiIgZmlsbD0iIzE4MTgxOCIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwXzEzM18yNjEyIj48cmVjdCB3aWR0aD0iMjEuNiIgaGVpZ2h0PSIyMC42MzI4IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNS4xOTk5NSA1LjY4MzU5KSIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg==",sr=(e,t,r)=>{Object.defineProperty(e,t,{get(){return console.warn(`"${t}" is deprecated, please use "${r}" instead.`),!0}})},ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ur(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}const dr=globalThis.crypto;var fr=dr.randomUUID.bind(dr);const lr={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid parameters"},INTERNAL_ERROR:{code:-32603,message:"Internal error"}},hr=()=>{let e=0;return()=>e++};var pr=class{constructor({transport:e,requestTimeout:t=2e4,generateId:r=hr,methods:n=new Map,parse:i=JSON.parse,stringify:o=JSON.stringify,getIsDevelopmentMode:s=()=>!1}={}){if(!e)throw new Error("TRANSPORT_REQUIRED");if(this._transport=e,this._requestTimeout=t,this._pendingRequest=new Map,this._generateId=r(),this._processResponse=this._processResponse.bind(this),this._methods=n,this.parse=i,this._stringify=o,"function"!=typeof s)throw new Error("getIsDevelopmentMode must be a function");this._getIsDevelopmentMode=s,e.on("data",this._processResponse)}end(){this._transport.removeListener("data",this._processResponse)}exposeMethods(e){e instanceof Map||(e=Object.entries(e).reduce(((e,[t,r])=>e.set(t,r)),new Map));const t=this._methods;return this._methods=e,t}exposeFunction(e,t){if("string"!=typeof e)throw new Error("Function name must be a string");if("function"!=typeof t)throw new Error("Invalid function implementation");this._methods.set(e,t)}async callMethod(e,t){const r=this._generateId(),n=this._makeRequestObject({method:e,params:t,id:r});return this._sendRequest({request:n})}async callMethodWithRawResponse(e,t){const r=this._generateId(),n=this._makeRequestObject({method:e,params:t,id:r});return this._sendRequest({request:n,getRawResponse:!0})}async notify(e,t){const r=this._makeRequestObject({method:e,params:t});this._transport.write(this._stringify(r))}_sendRequest({request:e,getRawResponse:t=!1}){const{id:r}=e,n=this._stringify(e);return new Promise(((i,o)=>{const s=setTimeout((()=>{this._pendingRequest.has(r)&&(this._pendingRequest.delete(r),o(new Error(`JSON-RPC: method call timeout calling ${e.method}`)))}),this._requestTimeout);this._pendingRequest.set(r,{resolve:i,reject:o,timeoutTimer:s,getRawResponse:t}),(async()=>{try{await this._transport.write(n)}catch(e){clearTimeout(s),this._pendingRequest.delete(r),o(e)}})()}))}_processResponse(e){let t;try{t=this.parse(e)}catch(t){const r="string"==typeof e?JSON.parse(e).id:e.id;if(!(e=>Number.isInteger(e)||"string"==typeof e||null===e)(r))throw t;const{message:n}=t;return void this._sendError({...lr.INVALID_REQUEST,message:n},r)}if(Object.hasOwnProperty.call(t,"method"))return this._processCallMethod(t);const r=Object.hasOwnProperty.call(t,"error"),n=this._pendingRequest.get(t.id);if(n)if(this._pendingRequest.delete(t.id),clearTimeout(n.timeoutTimer),n.getRawResponse)n.resolve(t);else if(r){const e=this._makeErrorObject(t.error);n.reject(e)}else n.resolve(t.result)}async _processCallMethod(e){const{method:t,params:r=[],id:n}=e,i=this._methods.get(t);if(i)if("function"!=typeof i)this._sendError(lr.INTERNAL_ERROR,n);else{const e=Array.isArray(r)?r:[r];try{const t=await Promise.resolve(i.apply(this._methods,e));this._sendSuccess({result:t,id:n})}catch(e){this._sendError(e,n)}}else this._sendError({...lr.METHOD_NOT_FOUND,methodName:t},n)}_sendError(e,t){let{message:r=lr.INTERNAL_ERROR.message,code:n=lr.INTERNAL_ERROR.code,cause:i,stack:o,...s}=e||{};"object"!=typeof e&&(s=e),null===e&&(s=null),e instanceof Error&&this._getIsDevelopmentMode()&&(s.cause={message:r,stack:o,cause:i});const a=this._stringify({jsonrpc:"2.0",id:t,error:{code:n,message:r,data:s}});this._transport.write(a)}_sendSuccess({result:e,id:t}){if(typeof t>"u")return;const r=this._stringify({jsonrpc:"2.0",id:t,result:e});this._transport.write(r)}_makeRequestObject({method:e,params:t,id:r}){return{jsonrpc:"2.0",method:e,params:t,id:r}}_createRecursiveError(e){if("object"!=typeof e||null===e)return null;let t=null;e.cause&&(t=this._createRecursiveError(e.cause));const r=new Error(e.message,{cause:t});return r.stack=e.stack,r}_makeErrorObject(e){const t=e.code,r=lr[t],n=e.message||r&&r.message,i=new Error(n);if(i.code=t,Object.hasOwnProperty.call(e,"data"))if("object"==typeof e.data&&null!==e.data){const{name:t,cause:r,...n}=e.data;i.name=t,r&&(i.cause=this._createRecursiveError(r)),i.data=n}else i.data=e.data;return i}};const yr=cr(pr);var mr={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||e,s),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var c,u,d=this._events[a],f=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),f){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,i),!0;case 5:return d.fn.call(d.context,t,n,i,o),!0;case 6:return d.fn.call(d.context,t,n,i,o,s),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];d.fn.apply(d.context,c)}else{var l,h=d.length;for(u=0;u<h;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),f){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,n);break;case 4:d[u].fn.call(d[u].context,t,n,i);break;default:if(!c)for(l=1,c=new Array(f-1);l<f;l++)c[l-1]=arguments[l];d[u].fn.apply(d[u].context,c)}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn===t&&(!i||a.once)&&(!n||a.context===n)&&s(this,o);else{for(var c=0,u=[],d=a.length;c<d;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}(mr);const br=cr(mr.exports),gr=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:br,default:br},Symbol.toStringTag,{value:"Module"}));var vr,wr,_r,Sr,Er,kr,Ar;class xr extends br{constructor({transport:e}){super(),a(this,vr,null),c(this,vr,new yr({transport:e,generateId:()=>fr,requestTimeout:3e5}))}_callRpcMethod(e,t){return s(this,vr).callMethod(e,t)}defineFlag(e){e in this||(this[e]=!0)}emitAndIgnoreErrors(e,...t){try{this.emit(e,...t)}catch(e){console.error(e)}}}vr=new WeakMap;class Ir{constructor(e){a(this,wr),u(this,wr,_r).call(this,e)}}wr=new WeakSet,_r=function({name:e,icon:t}){if(!e)throw new Error('"name" parameter is required');if(!t)throw new Error('"icon" parameter is required')};class Tr extends xr{constructor({transport:e,accountsObservable:t}){super({transport:e}),a(this,Sr,!1),a(this,Er,[]),a(this,kr,(()=>{s(this,Sr)||(c(this,Sr,!0),this.emitAndIgnoreErrors("connect"))})),a(this,Ar,(e=>{if(0===e.length)return c(this,Sr,!1),this.emit("disconnect"),void this.emitAndIgnoreErrors("accountsChanged",e);const t=e=>e.slice().sort(((e,t)=>e.address.localeCompare(t.address))),r=t(s(this,Er)),n=t(e);(r.length!==n.length||r.some(((e,t)=>e.address!==n[t].address)))&&(c(this,Er,n),this.emitAndIgnoreErrors("accountsChanged",n))})),this.on("connect",(()=>{const e=t.observe((e=>{s(this,Ar).call(this,e)}));this.on("disconnect",e)})),this.on("connect",(()=>{c(this,Sr,!0)}))}get accounts(){return s(this,Er)}call(e){return this._callRpcMethod("bitcoin_call",[e])}async isConnected(){return await this._callRpcMethod("bitcoin_isConnected",[])}async connect(e){const t=await this._callRpcMethod("bitcoin_connect",[e]),r=t.map((e=>({address:e.address,purpose:e.purpose})));return c(this,Er,r),s(this,kr).call(this),{addresses:t}}sendBtcTransaction(e){return this._callRpcMethod("bitcoin_sendBtcTransaction",[e])}signMessage(e){return this._callRpcMethod("bitcoin_signMessage",[e])}signTransaction(e){return this._callRpcMethod("bitcoin_signTransaction",[e])}}Sr=new WeakMap,Er=new WeakMap,kr=new WeakMap,Ar=new WeakMap;const Or="sats-connect:";var Pr,Mr,Rr,Br;class Ur extends Ir{constructor({name:e,icon:t,provider:r}){if(super({name:e,icon:t}),a(this,Pr,"1.0.0"),a(this,Mr,void 0),a(this,Rr,void 0),a(this,Br,void 0),!r)throw new Error("Bitcoin Provider parameter is required!");c(this,Mr,e),c(this,Rr,t),c(this,Br,r)}get version(){return s(this,Pr)}get name(){return s(this,Mr)}get icon(){return s(this,Rr)}get chains(){return[]}get features(){return{[Or]:{provider:s(this,Br)}}}get accounts(){return[]}}Pr=new WeakMap,Mr=new WeakMap,Rr=new WeakMap,Br=new WeakMap;var Nr;function jr(e){const t=({register:t})=>t(e);try{window.dispatchEvent(new Cr(t))}catch(e){console.error("wallet-standard:register-wallet event could not be dispatched\n",e)}try{window.addEventListener("wallet-standard:app-ready",(({detail:e})=>t(e)))}catch(e){console.error("wallet-standard:app-ready event listener could not be added\n",e)}}class Cr extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Nr.set(this,void 0),function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===n?i.call(e,r):i?i.value=r:t.set(e,r)}(this,Nr,e,"f")}get detail(){return function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}(this,Nr,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Nr=new WeakMap;var Lr={},Dr={},Fr=Zr;Zr.default=Zr,Zr.stable=Qr,Zr.stableStringify=Qr;var Wr="[...]",zr="[Circular]",qr=[],Vr=[];function Kr(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Zr(e,t,r,n){var i;typeof n>"u"&&(n=Kr()),Gr(e,"",0,[],void 0,0,n);try{i=0===Vr.length?JSON.stringify(e,t,r):JSON.stringify(e,Xr(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==qr.length;){var o=qr.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Hr(e,t,r,n){var i=Object.getOwnPropertyDescriptor(n,r);void 0!==i.get?i.configurable?(Object.defineProperty(n,r,{value:e}),qr.push([n,r,t,i])):Vr.push([t,r,e]):(n[r]=e,qr.push([n,r,t]))}function Gr(e,t,r,n,i,o,s){var a;if(o+=1,"object"==typeof e&&null!==e){for(a=0;a<n.length;a++)if(n[a]===e)return void Hr(zr,e,t,i);if(typeof s.depthLimit<"u"&&o>s.depthLimit)return void Hr(Wr,e,t,i);if(typeof s.edgesLimit<"u"&&r+1>s.edgesLimit)return void Hr(Wr,e,t,i);if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Gr(e[a],a,a,n,e,o,s);else{var c=Object.keys(e);for(a=0;a<c.length;a++){var u=c[a];Gr(e[u],u,a,n,e,o,s)}}n.pop()}}function Jr(e,t){return e<t?-1:e>t?1:0}function Qr(e,t,r,n){typeof n>"u"&&(n=Kr());var i,o=Yr(e,"",0,[],void 0,0,n)||e;try{i=0===Vr.length?JSON.stringify(o,t,r):JSON.stringify(o,Xr(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==qr.length;){var s=qr.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Yr(e,t,r,n,i,o,s){var a;if(o+=1,"object"==typeof e&&null!==e){for(a=0;a<n.length;a++)if(n[a]===e)return void Hr(zr,e,t,i);try{if("function"==typeof e.toJSON)return}catch{return}if(typeof s.depthLimit<"u"&&o>s.depthLimit)return void Hr(Wr,e,t,i);if(typeof s.edgesLimit<"u"&&r+1>s.edgesLimit)return void Hr(Wr,e,t,i);if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)Yr(e[a],a,a,n,e,o,s);else{var c={},u=Object.keys(e).sort(Jr);for(a=0;a<u.length;a++){var d=u[a];Yr(e[d],d,a,n,e,o,s),c[d]=e[d]}if(!(typeof i<"u"))return c;qr.push([i,t,e]),i[t]=c}n.pop()}}function Xr(e){return e=typeof e<"u"?e:function(e,t){return t},function(t,r){if(Vr.length>0)for(var n=0;n<Vr.length;n++){var i=Vr[n];if(i[1]===t&&i[0]===r){r=i[2],Vr.splice(n,1);break}}return e.call(this,t,r)}}Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.EthereumProviderError=Dr.EthereumRpcError=void 0;const $r=Fr;class en extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return $r.default(this.serialize(),tn,2)}}Dr.EthereumRpcError=en;function tn(e,t){if("[Circular]"!==t)return t}Dr.EthereumProviderError=class extends en{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}};var rn={},nn={};Object.defineProperty(nn,"__esModule",{value:!0}),nn.errorValues=nn.errorCodes=void 0,nn.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},nn.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=nn,r=Dr,n=t.errorCodes.rpc.internal,i={code:n,message:o(n)};function o(r,n="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(r)){const n=r.toString();if(u(t.errorValues,n))return t.errorValues[n].message;if(a(r))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return n}function s(e){if(!Number.isInteger(e))return!1;const r=e.toString();return!(!t.errorValues[r]&&!a(e))}function a(e){return e>=-32099&&e<=-32e3}function c(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e.getMessageFromCode=o,e.isValidCode=s,e.serializeError=function(e,{fallbackError:t=i,shouldIncludeStack:n=!1}={}){var a,d;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof r.EthereumRpcError)return e.serialize();const f={};if(e&&"object"==typeof e&&!Array.isArray(e)&&u(e,"code")&&s(e.code)){const t=e;f.code=t.code,t.message&&"string"==typeof t.message?(f.message=t.message,u(t,"data")&&(f.data=t.data)):(f.message=o(f.code),f.data={originalError:c(e)})}else{f.code=t.code;const r=null===(a=e)||void 0===a?void 0:a.message;f.message=r&&"string"==typeof r?r:t.message,f.data={originalError:c(e)}}const l=null===(d=e)||void 0===d?void 0:d.stack;return n&&e&&l&&"string"==typeof l&&(f.stack=l),f}}(rn);var on={};Object.defineProperty(on,"__esModule",{value:!0}),on.ethErrors=void 0;const sn=Dr,an=rn,cn=nn;function un(e,t){const[r,n]=fn(t);return new sn.EthereumRpcError(e,r||an.getMessageFromCode(e),n)}function dn(e,t){const[r,n]=fn(t);return new sn.EthereumProviderError(e,r||an.getMessageFromCode(e),n)}function fn(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}on.ethErrors={rpc:{parse:e=>un(cn.errorCodes.rpc.parse,e),invalidRequest:e=>un(cn.errorCodes.rpc.invalidRequest,e),invalidParams:e=>un(cn.errorCodes.rpc.invalidParams,e),methodNotFound:e=>un(cn.errorCodes.rpc.methodNotFound,e),internal:e=>un(cn.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return un(t,e)},invalidInput:e=>un(cn.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>un(cn.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>un(cn.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>un(cn.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>un(cn.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>un(cn.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>dn(cn.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>dn(cn.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>dn(cn.errorCodes.provider.unsupportedMethod,e),disconnected:e=>dn(cn.errorCodes.provider.disconnected,e),chainDisconnected:e=>dn(cn.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new sn.EthereumProviderError(t,r,n)}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=Dr;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=rn;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=on;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=nn;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})}(Lr);var ln,hn,pn,yn,mn,bn,gn,vn,wn,_n,Sn,En,kn,An,xn,In,Tn,On,Pn,Mn,Rn,Bn;class Un extends xr{constructor({accountsObservable:e,transport:t,storage:r,storageKeyPrefix:n,supportedChainIds:o=["0x1"],getDefaultChainId:u=()=>Promise.resolve(null)}){if(super({transport:t}),a(this,ln,void 0),a(this,hn,void 0),a(this,pn,void 0),a(this,yn,null),a(this,mn,!1),a(this,bn,!1),a(this,gn,null),a(this,vn,[]),a(this,wn,null),a(this,_n,(()=>{if(!this.isConnected())throw Lr.ethErrors.provider.disconnected({message:"The Provider is disconnected from all chains."})})),a(this,Sn,(e=>{if(!s(this,hn).includes(e))throw Lr.ethErrors.provider.custom({message:"The Provider does not support the requested chain.",code:4902})})),a(this,En,(async()=>{const e=await s(this,ln).getChainId();if(e)return e;return await s(this,pn).call(this)||s(this,hn)[0]})),a(this,kn,(async()=>this._callRpcMethod("eth_accounts",[]))),a(this,An,(async()=>{const e=await s(this,En).call(this);s(this,Tn).call(this,e),s(this,On).call(this,e);const t=await s(this,kn).call(this);c(this,mn,!0),c(this,yn,null),s(this,Pn).call(this,t)})),a(this,xn,(async()=>{s(this,yn)&&await s(this,yn)})),a(this,In,(e=>e.toLowerCase())),a(this,Tn,(e=>{s(this,bn)||(c(this,bn,!0),this.emitAndIgnoreErrors("connect",{chainId:e}))})),a(this,On,(e=>{!e||"string"!=typeof e||!e.startsWith("0x")||e!==s(this,gn)&&(c(this,gn,e),s(this,mn)&&this.emitAndIgnoreErrors("chainChanged",e))})),a(this,Pn,(e=>{s(this,vn)[0]!==e[0]&&(c(this,vn,e),c(this,wn,e[0]??null),s(this,mn)&&this.emitAndIgnoreErrors("accountsChanged",e))})),a(this,Mn,(async()=>{await this._callRpcMethod("wallet_requestPermissions",[{eth_accounts:{}}]);const e=await this._callRpcMethod("eth_accounts",[]);return s(this,Pn).call(this,e),e})),a(this,Rn,(async e=>{const t=s(this,In).call(this,e.chainId);return s(this,hn).includes(t)||(await this._callRpcMethod("wallet_addEthereumChain",[e]),s(this,hn).push(t)),s(this,Bn).call(this,t)})),a(this,Bn,(async e=>{if(e!==s(this,gn)){try{s(this,Sn).call(this,e)}catch(t){if(!await this._callRpcMethod("wallet_switchEthereumChain",[{chainId:e}]))throw t;s(this,hn).push(e)}s(this,On).call(this,e),await s(this,ln).setChainId(e)}return null})),i(this,"request",(async e=>{await s(this,xn).call(this),s(this,_n).call(this);const{method:t,params:r=[]}=e;if("string"!=typeof t||0===t.length)throw Lr.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(!Array.isArray(r)&&("object"!=typeof r||null===r))throw Lr.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});if("eth_chainId"===t)return s(this,gn);if("eth_requestAccounts"===t)return s(this,Mn).call(this);if("wallet_addEthereumChain"===t)return s(this,Rn).call(this,r[0]);if("wallet_switchEthereumChain"===t){const{chainId:e}=r[0];return s(this,Bn).call(this,s(this,In).call(this,e))}let n=r;return"personal_sign"===t&&(n=r.slice(0,2)),this._callRpcMethod(t,n)})),i(this,"_metamask",{isUnlocked:async()=>Array.isArray(s(this,vn))&&s(this,vn).length>0,requestBatch:async e=>{if(!Array.isArray(e))throw Lr.ethErrors.rpc.invalidRequest({message:"Batch requests must be made with an array of request objects.",data:e});const t=[];for(const r of e)t.push(await this.request(r));return t}}),i(this,"enable",(async()=>(console.warn('Exodus: "ethereum.enable()" is deprecated and may be removed in the future. Please use "ethereum.request({ method: \'eth_requestAccounts\' })" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102.'),s(this,_n).call(this),s(this,Mn).call(this)))),i(this,"send",(async(e,t)=>{console.warn('Exodus: "ethereum.send()" is deprecated and may be removed in the future. Please use "ethereum.request()" instead.');const r="string"==typeof e,n=Array.isArray(t);if(r&&(!t||n)){const r=e,n=t;return new Promise(((e,t)=>this.request({method:r,params:n}).then((t=>e({id:"1",jsonrpc:"2.0",result:t}))).catch((e=>t({id:"1",jsonrpc:"2.0",error:e})))))}const i=e,o=t;this.sendAsync(i,o)})),i(this,"sendAsync",((e,t)=>{console.warn('Exodus: "ethereum.sendAsync()" is deprecated and may be removed in the future. Please use "ethereum.request()" instead.');const{id:r,jsonrpc:n,method:i,params:o}=e,s=t&&"function"==typeof t;this.request({method:i,params:o}).then((e=>{s&&t(null,{id:r,jsonrpc:n,result:e})})).catch((e=>{s&&t(e,{id:r,jsonrpc:n,error:e})}))})),!n)throw new Error('"storageKeyPrefix" must be provided.');c(this,ln,function(e,t){const r=`${t}:ethereum:chainId`;return{getChainId:async function(){try{return await e.getItem(r)}catch{return null}},setChainId:async function(t){try{await e.setItem(r,t)}catch{}},clearChainId:async function(){try{await e.removeItem(r)}catch{}}}}(r,n)),c(this,hn,o.map(s(this,In)).sort()),c(this,pn,(async()=>u().then((e=>e?s(this,In).call(this,e):null)))),this.on("connect",(()=>{const t=e.observe((e=>{s(this,Pn).call(this,e)}));this.on("disconnect",t)})),this.on("connect",(()=>{c(this,bn,!0)})),c(this,yn,s(this,An).call(this))}_callRpcMethod(e,t){const r=s(this,gn);return super._callRpcMethod(`${r}_${e}`,t)}isConnected(){return s(this,bn)}get chainId(){return console.warn('Exodus: "ethereum.chainId" is deprecated and may be removed in the future. Please use "ethereum.request({ method: \'eth_chainId\' })" instead.'),s(this,gn)}get selectedAddress(){return console.warn('Exodus: "ethereum.selectedAddress" is deprecated and may be removed in the future. Please use "ethereum.request({ method: \'eth_accounts\' })" instead.'),s(this,wn)}}ln=new WeakMap,hn=new WeakMap,pn=new WeakMap,yn=new WeakMap,mn=new WeakMap,bn=new WeakMap,gn=new WeakMap,vn=new WeakMap,wn=new WeakMap,_n=new WeakMap,Sn=new WeakMap,En=new WeakMap,kn=new WeakMap,An=new WeakMap,xn=new WeakMap,In=new WeakMap,Tn=new WeakMap,On=new WeakMap,Pn=new WeakMap,Mn=new WeakMap,Rn=new WeakMap,Bn=new WeakMap;const Nn=(e,{name:t,icon:r,uuid:n,rdns:i})=>{if(!t)throw new Error("'name' parameter is required.");if(!r)throw new Error("'icon' parameter is required.");if(!i)throw new Error("'rdns' parameter is required.");const o=(({uuid:e,name:t,icon:r,rdns:n,provider:i})=>{const o={info:{name:t,icon:r,uuid:e||fr(),rdns:n},provider:i};return Object.freeze(o)})({name:t,icon:r,rdns:i,uuid:n,provider:e}),s=()=>{window.dispatchEvent(new CustomEvent("eip6963:announceProvider",{detail:o}))};window.addEventListener("eip6963:requestProvider",(()=>{s()})),s()};for(var jn={},Cn={byteLength:function(e){var t=qn(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=qn(e),i=n[0],o=n[1],s=new Fn(function(e,t,r){return 3*(t+r)/4-r}(0,i,o)),a=0,c=o>0?i-4:i;for(r=0;r<c;r+=4)t=Dn[e.charCodeAt(r)]<<18|Dn[e.charCodeAt(r+1)]<<12|Dn[e.charCodeAt(r+2)]<<6|Dn[e.charCodeAt(r+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===o&&(t=Dn[e.charCodeAt(r)]<<2|Dn[e.charCodeAt(r+1)]>>4,s[a++]=255&t),1===o&&(t=Dn[e.charCodeAt(r)]<<10|Dn[e.charCodeAt(r+1)]<<4|Dn[e.charCodeAt(r+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(Kn(e,s,s+o>a?a:s+o));return 1===n?(t=e[r-1],i.push(Ln[t>>2]+Ln[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(Ln[t>>10]+Ln[t>>4&63]+Ln[t<<2&63]+"=")),i.join("")}},Ln=[],Dn=[],Fn=typeof Uint8Array<"u"?Uint8Array:Array,Wn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zn=0;zn<64;++zn)Ln[zn]=Wn[zn],Dn[Wn.charCodeAt(zn)]=zn;function qn(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function Vn(e){return Ln[e>>18&63]+Ln[e>>12&63]+Ln[e>>6&63]+Ln[63&e]}function Kn(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(Vn(n));return i.join("")}Dn[45]=62,Dn[95]=63;var Zn={read:function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,d=-7,f=r?i-1:0,l=r?-1:1,h=e[t+f];for(f+=l,o=h&(1<<-d)-1,h>>=-d,d+=a;d>0;o=256*o+e[t+f],f+=l,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=n;d>0;s=256*s+e[t+f],f+=l,d-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=u}return(h?-1:1)*s*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,d=(1<<u)-1,f=d>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?l/c:l*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=d?(a=0,s=d):s+f>=1?(a=(t*c-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+h]=255&s,h+=p,s/=256,u-=8);e[r+h-p]|=128*y}};!function(e){const t=Cn,r=Zn,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i;const{Uint8Array:o,ArrayBuffer:s,SharedArrayBuffer:a}=globalThis;function c(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new o(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return d(e,t,r)}function d(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|m(e,t);let n=c(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(s.isView(e))return function(e){if(Q(e,o)){const t=new o(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,s)||e&&Q(e.buffer,s)||typeof a<"u"&&(Q(e,a)||e&&Q(e.buffer,a)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|y(e.length),r=c(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Y(e.length)?c(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return f(e),c(e<0?0:0|y(e))}function h(e){const t=e.length<0?0:0|y(e.length),r=c(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new o(e):void 0===r?new o(e,t):new o(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function y(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function m(e,t){if(u.isBuffer(e))return e.length;if(s.isView(e)||Q(e,s))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(i)return n?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return O(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof o.prototype.indexOf?i?o.prototype.indexOf.call(e,t,r):o.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(Y(n))return s;e[r+s]=n}return s}function S(e,t,r,n){return J(H(t,e.length-r),e,r,n)}function E(e,t,r,n){return J(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function k(e,t,r,n){return J(G(t),e,r,n)}function A(e,t,r,n){return J(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function I(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}u.TYPED_ARRAY_SUPPORT=function(){try{const e=new o(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,o.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return d(e,t,r)},Object.setPrototypeOf(u.prototype,o.prototype),Object.setPrototypeOf(u,o),u.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?c(e):void 0!==t?"string"==typeof r?c(e).fill(t,r):c(e).fill(t):c(e)}(e,t,r)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Q(e,o)&&(e=u.from(e,e.offset,e.byteLength)),Q(t,o)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Q(t,o))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):o.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):b.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(Q(e,o)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const c=Math.min(s,a),d=this.slice(n,i),f=e.slice(t,r);for(let e=0;e<c;++e)if(d[e]!==f[e]){s=d[e],a=f[e];break}return s<a?-1:a<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function O(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function M(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=X[e[n]];return i}function R(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n,i){q(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function j(e,t,r,n,i){q(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function C(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,n,i,o){return t=+t,n>>>=0,o||C(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function D(e,t,n,i,o){return t=+t,n>>>=0,o||C(e,0,n,8),r.write(e,t,n,i,52,8),n+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=$((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&K(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=$((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&K(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=$((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&K(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=$((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&K(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),r.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),r.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),r.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),r.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){U(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){U(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=$((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=$((function(e,t=0){return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);U(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);U(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=$((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=$((function(e,t=0){return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!n&&0!==n&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof o.prototype.copyWithin?this.copyWithin(t,r,n):o.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const F={};function W(e,t,r){F[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function q(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){V(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&K(t,e.length-(r+1))}(n,i,o)}function V(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function K(e,t,r){throw Math.floor(e)!==e?(V(e,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new F.ERR_BUFFER_OUT_OF_BOUNDS:new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}W("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),W("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),W("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=z(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const Z=/[^+/0-9A-Za-z-_]/g;function H(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function $(e){return typeof BigInt>"u"?ee:e}function ee(){throw new Error("BigInt not supported")}}(jn);const Hn=jn.Buffer;for(var Gn={},Jn={byteLength:function(e){var t=ti(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=ti(e),i=n[0],o=n[1],s=new Xn(function(e,t,r){return 3*(t+r)/4-r}(0,i,o)),a=0,c=o>0?i-4:i;for(r=0;r<c;r+=4)t=Yn[e.charCodeAt(r)]<<18|Yn[e.charCodeAt(r+1)]<<12|Yn[e.charCodeAt(r+2)]<<6|Yn[e.charCodeAt(r+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===o&&(t=Yn[e.charCodeAt(r)]<<2|Yn[e.charCodeAt(r+1)]>>4,s[a++]=255&t),1===o&&(t=Yn[e.charCodeAt(r)]<<10|Yn[e.charCodeAt(r+1)]<<4|Yn[e.charCodeAt(r+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(ni(e,s,s+o>a?a:s+o));return 1===n?(t=e[r-1],i.push(Qn[t>>2]+Qn[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(Qn[t>>10]+Qn[t>>4&63]+Qn[t<<2&63]+"=")),i.join("")}},Qn=[],Yn=[],Xn=typeof Uint8Array<"u"?Uint8Array:Array,$n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ei=0;ei<64;++ei)Qn[ei]=$n[ei],Yn[$n.charCodeAt(ei)]=ei;function ti(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function ri(e){return Qn[e>>18&63]+Qn[e>>12&63]+Qn[e>>6&63]+Qn[63&e]}function ni(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(ri(n));return i.join("")}Yn[45]=62,Yn[95]=63;var ii={};ii.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,d=-7,f=r?i-1:0,l=r?-1:1,h=e[t+f];for(f+=l,o=h&(1<<-d)-1,h>>=-d,d+=a;d>0;o=256*o+e[t+f],f+=l,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=n;d>0;s=256*s+e[t+f],f+=l,d-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=u}return(h?-1:1)*s*Math.pow(2,o-n)},ii.write=function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,d=(1<<u)-1,f=d>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?l/c:l*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=d?(a=0,s=d):s+f>=1?(a=(t*c-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+h]=255&s,h+=p,s/=256,u-=8);e[r+h-p]|=128*y},function(e){const t=Jn,r=ii,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},e.INSPECT_MAX_BYTES=50;const i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|h(e,t);let n=o(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(H(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(H(e,ArrayBuffer)||e&&H(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(H(e,SharedArrayBuffer)||e&&H(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);const i=function(e){if(s.isBuffer(e)){const t=0|l(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||G(e.length)?o(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),o(e<0?0:0|l(e))}function d(e){const t=e.length<0?0:0|l(e.length),r=o(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,s.prototype),n}function l(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||H(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(i)return n?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return x(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),G(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function g(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(G(n))return s;e[r+s]=n}return s}function v(e,t,r,n){return Z(V(t,e.length-r),e,r,n)}function w(e,t,r,n){return Z(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return Z(K(t),e,r,n)}function S(e,t,r,n){return Z(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function E(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function k(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return function(e,t,r){return c(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},s.allocUnsafe=function(e){return u(e)},s.allocUnsafeSlow=function(e){return u(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(H(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),H(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=s.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(H(t,Uint8Array))i+t.length>n.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!s.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},s.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},s.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},s.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if(H(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const c=Math.min(o,a),u=this.slice(n,i),d=e.slice(t,r);for(let e=0;e<c;++e)if(u[e]!==d[e]){o=u[e],a=d[e];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":case"latin1":case"binary":return w(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const A=4096;function x(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=J[e[n]];return i}function O(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function R(e,t,r,n,i){F(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function B(e,t,r,n,i){F(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function U(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,n,i,o){return t=+t,n>>>=0,o||U(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function j(e,t,n,i,o){return t=+t,n>>>=0,o||U(e,0,n,8),r.write(e,t,n,i,52,8),n+8}s.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&z(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),s.prototype.readBigUInt64BE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&z(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&z(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),s.prototype.readBigInt64BE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&z(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),r.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),r.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),r.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),r.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=Q((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeBigUInt64BE=Q((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=Q((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeBigInt64BE=Q((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!n&&0!==n&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=s.isBuffer(e)?e:s.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const C={};function L(e,t,r){C[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function D(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new C.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){W(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&z(t,e.length-(r+1))}(n,i,o)}function W(e,t){if("number"!=typeof e)throw new C.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,r){throw Math.floor(e)!==e?(W(e,r),new C.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new C.ERR_BUFFER_OUT_OF_BOUNDS:new C.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}L("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),L("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),L("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=D(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=D(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function V(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function K(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Z(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function H(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function G(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return typeof BigInt>"u"?Y:e}function Y(){throw new Error("BigInt not supported")}}(Gn);var oi={exports:{}},si={},ai={exports:{}},ci={exports:{}};!function(e,t){var r=Gn,n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}(ci,ci.exports);var ui,di=ci.exports;function fi(){if(ui)return ai.exports;ui=1;var e=65536;var t=di.Buffer,r=ar.crypto||ar.msCrypto;return r&&r.getRandomValues?ai.exports=function(n,i){if(n>4294967295)throw new RangeError("requested too many random bytes");var o=t.allocUnsafe(n);if(n>0)if(n>e)for(var s=0;s<n;s+=e)r.getRandomValues(o.slice(s,s+e));else r.getRandomValues(o);return"function"==typeof i?I.nextTick((function(){i(null,o)})):o}:ai.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")},ai.exports}var li={exports:{}};"function"==typeof Object.create?li.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:li.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var hi,pi=li.exports,yi={exports:{}},mi={exports:{}},bi="object"==typeof Reflect?Reflect:null,gi=bi&&"function"==typeof bi.apply?bi.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};hi=bi&&"function"==typeof bi.ownKeys?bi.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var vi=Number.isNaN||function(e){return e!=e};function wi(){wi.init.call(this)}mi.exports=wi,mi.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}Pi(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&Pi(e,"error",t,r)}(e,i,{once:!0})}))},wi.EventEmitter=wi,wi.prototype._events=void 0,wi.prototype._eventsCount=0,wi.prototype._maxListeners=void 0;var _i=10;function Si(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Ei(e){return void 0===e._maxListeners?wi.defaultMaxListeners:e._maxListeners}function ki(e,t,r,n){var i,o,s;if(Si(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=Ei(e))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,function(e){console&&console.warn&&console.warn(e)}(a)}return e}function Ai(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xi(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=Ai.bind(n);return i.listener=r,n.wrapFn=i,i}function Ii(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):Oi(i,i.length)}function Ti(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function Oi(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function Pi(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(wi,"defaultMaxListeners",{enumerable:!0,get:function(){return _i},set:function(e){if("number"!=typeof e||e<0||vi(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");_i=e}}),wi.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},wi.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||vi(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},wi.prototype.getMaxListeners=function(){return Ei(this)},wi.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)gi(a,this,t);else{var c=a.length,u=Oi(a,c);for(r=0;r<c;++r)gi(u[r],this,t)}return!0},wi.prototype.addListener=function(e,t){return ki(this,e,t,!1)},wi.prototype.on=wi.prototype.addListener,wi.prototype.prependListener=function(e,t){return ki(this,e,t,!0)},wi.prototype.once=function(e,t){return Si(t),this.on(e,xi(this,e,t)),this},wi.prototype.prependOnceListener=function(e,t){return Si(t),this.prependListener(e,xi(this,e,t)),this},wi.prototype.removeListener=function(e,t){var r,n,i,o,s;if(Si(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},wi.prototype.off=wi.prototype.removeListener,wi.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},wi.prototype.listeners=function(e){return Ii(this,e,!0)},wi.prototype.rawListeners=function(e){return Ii(this,e,!1)},wi.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Ti.call(e,t)},wi.prototype.listenerCount=Ti,wi.prototype.eventNames=function(){return this._eventsCount>0?hi(this._events):[]};var Mi=mi.exports,Ri=Mi.EventEmitter;const Bi=ur(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Ui,Ni;function ji(){if(Ni)return Ui;function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}Ni=1;var o=Gn.Buffer,s=Bi.inspect,a=s&&s.custom||"inspect";function c(e,t,r){o.prototype.copy.call(e,t,r)}return Ui=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t=o.allocUnsafe(e>>>0),r=this.head,n=0;r;)c(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0===(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:a,value:function(e,r){return s(this,t(t({},r),{},{depth:0,customInspect:!1}))}}]),e}()}function Ci(e,t){Di(e,t),Li(e)}function Li(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Di(e,t){e.emit("error",t)}var Fi={destroy:function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,I.nextTick(Di,this,e)):I.nextTick(Di,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?I.nextTick(Li,r):(r._writableState.errorEmitted=!0,I.nextTick(Ci,r,e)):I.nextTick(Ci,r,e):t?(I.nextTick(Li,r),t(e)):I.nextTick(Li,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}},Wi={};var zi={};function qi(e,t,r){r||(r=Error);var n=function(e){function r(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(r,e),r}(r);n.prototype.name=r.name,n.prototype.code=e,zi[e]=n}function Vi(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}qi("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),qi("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i;if("string"==typeof t&&function(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))i="The ".concat(e," ").concat(n," ").concat(Vi(t,"type"));else{var o=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(Vi(t,"type"))}return i+=". Received type ".concat(typeof r)}),TypeError),qi("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),qi("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),qi("ERR_STREAM_PREMATURE_CLOSE","Premature close"),qi("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),qi("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),qi("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),qi("ERR_STREAM_WRITE_AFTER_END","write after end"),qi("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),qi("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),qi("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Wi.codes=zi;var Ki=Wi.codes.ERR_INVALID_OPT_VALUE;var Zi,Hi,Gi,Ji,Qi={getHighWaterMark:function(e,t,r,n){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new Ki(n?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}},Yi=function(e,t){if(Xi("noDeprecation"))return e;var r=!1;return function(){if(!r){if(Xi("throwDeprecation"))throw new Error(t);Xi("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}};function Xi(e){try{if(!ar.localStorage)return!1}catch{return!1}var t=ar.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}function $i(){if(Hi)return Zi;function e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var t;Hi=1,Zi=_,_.WritableState=w;var r={deprecate:Yi},n=Ri,i=Gn.Buffer,o=(typeof ar<"u"?ar:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};var s,a=Fi,c=Qi.getHighWaterMark,u=Wi.codes,d=u.ERR_INVALID_ARG_TYPE,f=u.ERR_METHOD_NOT_IMPLEMENTED,l=u.ERR_MULTIPLE_CALLBACK,h=u.ERR_STREAM_CANNOT_PIPE,p=u.ERR_STREAM_DESTROYED,y=u.ERR_STREAM_NULL_VALUES,m=u.ERR_STREAM_WRITE_AFTER_END,b=u.ERR_UNKNOWN_ENCODING,g=a.errorOrDestroy;function v(){}function w(r,n,i){t=t||eo(),r=r||{},"boolean"!=typeof i&&(i=n instanceof t),this.objectMode=!!r.objectMode,i&&(this.objectMode=this.objectMode||!!r.writableObjectMode),this.highWaterMark=c(this,r,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===r.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new l;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(I.nextTick(i,n),I.nextTick(T,e,t),e._writableState.errorEmitted=!0,g(e,n)):(i(n),e._writableState.errorEmitted=!0,g(e,n),T(e,t))}(e,r,n,t,i);else{var o=A(r)||e.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&k(e,r),n?I.nextTick(E,e,r,o,i):E(e,r,o,i)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==r.emitClose,this.autoDestroy=!!r.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function _(e){var r=this instanceof(t=t||eo());if(!r&&!s.call(_,this))return new _(e);this._writableState=new w(e,this,r),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),n.call(this)}function S(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new p("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),T(e,t)}function k(t,r){r.bufferProcessing=!0;var n=r.bufferedRequest;if(t._writev&&n&&n.next){var i=r.bufferedRequestCount,o=new Array(i),s=r.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,S(t,r,!0,r.length,o,"",s.finish),r.pendingcb++,r.lastBufferedRequest=null,s.next?(r.corkedRequestsFree=s.next,s.next=null):r.corkedRequestsFree=new e(r),r.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,d=n.encoding,f=n.callback;if(S(t,r,!1,r.objectMode?1:u.length,u,d,f),n=n.next,r.bufferedRequestCount--,r.writing)break}null===n&&(r.lastBufferedRequest=null)}r.bufferedRequest=n,r.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(r){t.pendingcb--,r&&g(e,r),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var r=A(t);if(r&&(function(e,t){!t.prefinished&&!t.finalCalled&&("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,I.nextTick(x,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}return pi(_,n),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:r.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===_&&(e&&e._writableState instanceof w)}})):s=function(e){return e instanceof this},_.prototype.pipe=function(){g(this,new h)},_.prototype.write=function(e,t,r){var n=this._writableState,s=!1,a=!n.objectMode&&function(e){return i.isBuffer(e)||e instanceof o}(e);return a&&!i.isBuffer(e)&&(e=function(e){return i.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=v),n.ending?function(e,t){var r=new m;g(e,r),I.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var i;return null===r?i=new y:"string"!=typeof r&&!t.objectMode&&(i=new d("chunk",["string","Buffer"],r)),!i||(g(e,i),I.nextTick(n,i),!1)}(this,n,e,r))&&(n.pendingcb++,s=function(e,t,r,n,o,s){if(!r){var a=function(e,t,r){return!e.objectMode&&!1!==e.decodeStrings&&"string"==typeof t&&(t=i.from(t,r)),t}(t,n,o);n!==a&&(r=!0,o="buffer",n=a)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:s,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,c,n,o,s);return u}(this,n,a,e,t,r)),s},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&k(this,e))},_.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(e,t,r){r(new f("_write()"))},_.prototype._writev=null,_.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?I.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),_.prototype.destroy=a.destroy,_.prototype._undestroy=a.undestroy,_.prototype._destroy=function(e,t){t(e)},Zi}function eo(){if(Ji)return Gi;Ji=1;var e=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Gi=s;var t=ko(),r=$i();pi(s,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var o=n[i];s.prototype[o]||(s.prototype[o]=r.prototype[o])}function s(e){if(!(this instanceof s))return new s(e);t.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||I.nextTick(c,this)}function c(e){e.end()}return Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Gi}var to={},ro=di.Buffer,no=ro.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function io(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(ro.isEncoding===no||!no(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=ao,this.end=co,t=4;break;case"utf8":this.fillLast=so,t=4;break;case"base64":this.text=uo,this.end=fo,t=3;break;default:return this.write=lo,void(this.end=ho)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ro.allocUnsafe(t)}function oo(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function so(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function ao(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function co(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function uo(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function fo(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function lo(e){return e.toString(this.encoding)}function ho(e){return e&&e.length?this.write(e):""}to.StringDecoder=io,io.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},io.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},io.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=oo(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=oo(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=oo(t[n]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0))}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},io.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};var po=Wi.codes.ERR_STREAM_PREMATURE_CLOSE;function yo(){}var mo,bo,go,vo,wo,_o,So=function e(t,r,n){if("function"==typeof r)return e(t,null,r);r||(r={}),n=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(n||yo);var i=r.readable||!1!==r.readable&&t.readable,o=r.writable||!1!==r.writable&&t.writable,s=function(){t.writable||c()},a=t._writableState&&t._writableState.finished,c=function(){o=!1,a=!0,i||n.call(t)},u=t._readableState&&t._readableState.endEmitted,d=function(){i=!1,u=!0,o||n.call(t)},f=function(e){n.call(t,e)},l=function(){var e;return i&&!u?((!t._readableState||!t._readableState.ended)&&(e=new po),n.call(t,e)):o&&!a?((!t._writableState||!t._writableState.ended)&&(e=new po),n.call(t,e)):void 0},h=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",l),t.req?h():t.on("request",h)):o&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",d),t.on("finish",c),!1!==r.error&&t.on("error",f),t.on("close",l),function(){t.removeListener("complete",c),t.removeListener("abort",l),t.removeListener("request",h),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",l)}};function Eo(){if(bo)return mo;var e;function t(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}bo=1;var r=So,n=Symbol("lastResolve"),i=Symbol("lastReject"),o=Symbol("error"),s=Symbol("ended"),a=Symbol("lastPromise"),c=Symbol("handlePromise"),u=Symbol("stream");function d(e,t){return{value:e,done:t}}function f(e){var t=e[n];if(null!==t){var r=e[u].read();null!==r&&(e[a]=null,e[n]=null,e[i]=null,t(d(r,!1)))}}function l(e){I.nextTick(f,e)}var h=Object.getPrototypeOf((function(){})),p=Object.setPrototypeOf((t(e={get stream(){return this[u]},next:function(){var e=this,t=this[o];if(null!==t)return Promise.reject(t);if(this[s])return Promise.resolve(d(void 0,!0));if(this[u].destroyed)return new Promise((function(t,r){I.nextTick((function(){e[o]?r(e[o]):t(d(void 0,!0))}))}));var r,n=this[a];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[s]?r(d(void 0,!0)):t[c](r,n)}),n)}}(n,this));else{var i=this[u].read();if(null!==i)return Promise.resolve(d(i,!1));r=new Promise(this[c])}return this[a]=r,r}},Symbol.asyncIterator,(function(){return this})),t(e,"return",(function(){var e=this;return new Promise((function(t,r){e[u].destroy(null,(function(e){e?r(e):t(d(void 0,!0))}))}))})),e),h);return mo=function(e){var f,h=Object.create(p,(t(f={},u,{value:e,writable:!0}),t(f,n,{value:null,writable:!0}),t(f,i,{value:null,writable:!0}),t(f,o,{value:null,writable:!0}),t(f,s,{value:e._readableState.endEmitted,writable:!0}),t(f,c,{value:function(e,t){var r=h[u].read();r?(h[a]=null,h[n]=null,h[i]=null,e(d(r,!1))):(h[n]=e,h[i]=t)},writable:!0}),f));return h[a]=null,r(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=h[i];return null!==t&&(h[a]=null,h[n]=null,h[i]=null,t(e)),void(h[o]=e)}var r=h[n];null!==r&&(h[a]=null,h[n]=null,h[i]=null,r(d(void 0,!0))),h[s]=!0})),e.on("readable",l.bind(null,h)),h}}function ko(){if(_o)return wo;var e;_o=1,wo=_,_.ReadableState=w,Mi.EventEmitter;var t=function(e,t){return e.listeners(t).length},r=Ri,n=Gn.Buffer,i=(typeof ar<"u"?ar:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};var o,s=Bi;o=s&&s.debuglog?s.debuglog("stream"):function(){};var a,c,u,d=ji(),f=Fi,l=Qi.getHighWaterMark,h=Wi.codes,p=h.ERR_INVALID_ARG_TYPE,y=h.ERR_STREAM_PUSH_AFTER_EOF,m=h.ERR_METHOD_NOT_IMPLEMENTED,b=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;pi(_,r);var g=f.errorOrDestroy,v=["error","close","destroy","pause","resume"];function w(t,r,n){e=e||eo(),t=t||{},"boolean"!=typeof n&&(n=r instanceof e),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=l(this,t,"readableHighWaterMark",n),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(a||(a=to.StringDecoder),this.decoder=new a(t.encoding),this.encoding=t.encoding)}function _(t){if(e=e||eo(),!(this instanceof _))return new _(t);var n=this instanceof e;this._readableState=new w(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function S(e,t,r,s,a){o("readableAddChunk",t);var c,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}}(e,u);else if(a||(c=function(e,t){var r;return!function(e){return n.isBuffer(e)||e instanceof i}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(r=new p("chunk",["string","Buffer","Uint8Array"],t)),r}(u,t)),c)g(e,c);else if(u.objectMode||t&&t.length>0)if("string"!=typeof t&&!u.objectMode&&Object.getPrototypeOf(t)!==n.prototype&&(t=function(e){return n.from(e)}(t)),s)u.endEmitted?g(e,new b):E(e,u,t,!0);else if(u.ended)g(e,new y);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?E(e,u,t,!1):O(e,u)):E(e,u,t,!1)}else s||(u.reading=!1,O(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function E(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),O(e,t)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=f.destroy,_.prototype._undestroy=f.undestroy,_.prototype._destroy=function(e,t){t(e)},_.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=n.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},_.prototype.unshift=function(e){return S(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){a||(a=to.StringDecoder);var t=new a(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var k=1073741824;function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,I.nextTick(T,e))}function T(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,U(e)}function O(e,t){t.readingMore||(t.readingMore=!0,I.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function M(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){o("readable nexttick read 0"),e.read(0)}function B(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function j(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,I.nextTick(C,t,e))}function C(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function L(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}return _.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):x(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&j(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&j(this)),null!==n&&this.emit("data",n),n},_.prototype._read=function(e){g(this,new m("_read()"))},_.prototype.pipe=function(e,r){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,r);var s=(!r||!1!==r.end)&&e!==I.stdout&&e!==I.stderr?c:y;function a(t,r){o("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,o("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",l),e.removeListener("unpipe",a),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",f),d=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u())}function c(){o("onend"),e.end()}i.endEmitted?I.nextTick(s):n.once("end",s),e.on("unpipe",a);var u=function(e){return function(){var r=e._readableState;o("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,0===r.awaitDrain&&t(e,"data")&&(r.flowing=!0,U(e))}}(n);e.on("drain",u);var d=!1;function f(t){o("ondata");var r=e.write(t);o("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!d&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function l(r){o("onerror",r),y(),e.removeListener("error",l),0===t(e,"error")&&g(e,r)}function h(){e.removeListener("finish",p),y()}function p(){o("onfinish"),e.removeListener("close",h),y()}function y(){o("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",l),e.once("close",h),e.once("finish",p),e.emit("pipe",n),i.flowing||(o("pipe resume"),n.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=L(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},_.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?x(this):i.reading||I.nextTick(R,this)),n},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(e,t){var n=r.prototype.removeListener.call(this,e,t);return"readable"===e&&I.nextTick(M,this),n},_.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&I.nextTick(M,this),t},_.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,I.nextTick(B,e,t))}(this,e)),e.paused=!1,this},_.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||!(r.objectMode||i&&i.length))||(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<v.length;s++)e.on(v[s],this.emit.bind(this,v[s]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return void 0===c&&(c=Eo()),c(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),_._fromList=N,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_.from=function(e,t){return void 0===u&&(vo||(vo=1,go=function(){throw new Error("Readable.from is not available in the browser")}),u=go),u(_,e,t)}),wo}var Ao=Bo,xo=Wi.codes,Io=xo.ERR_METHOD_NOT_IMPLEMENTED,To=xo.ERR_MULTIPLE_CALLBACK,Oo=xo.ERR_TRANSFORM_ALREADY_TRANSFORMING,Po=xo.ERR_TRANSFORM_WITH_LENGTH_0,Mo=eo();function Ro(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new To);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Bo(e){if(!(this instanceof Bo))return new Bo(e);Mo.call(this,e),this._transformState={afterTransform:Ro.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",Uo)}function Uo(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?No(this,null,null):this._flush((function(t,r){No(e,t,r)}))}function No(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Po;if(e._transformState.transforming)throw new Oo;return e.push(null)}pi(Bo,Mo),Bo.prototype.push=function(e,t){return this._transformState.needTransform=!1,Mo.prototype.push.call(this,e,t)},Bo.prototype._transform=function(e,t,r){r(new Io("_transform()"))},Bo.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Bo.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},Bo.prototype._destroy=function(e,t){Mo.prototype._destroy.call(this,e,(function(e){t(e)}))};var jo,Co=Do,Lo=Ao;function Do(e){if(!(this instanceof Do))return new Do(e);Lo.call(this,e)}pi(Do,Lo),Do.prototype._transform=function(e,t,r){r(null,e)};var Fo=Wi.codes,Wo=Fo.ERR_MISSING_ARGS,zo=Fo.ERR_STREAM_DESTROYED;function qo(e){if(e)throw e}function Vo(e){e()}function Ko(e,t){return e.pipe(t)}var Zo=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=function(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():qo}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Wo("streams");var i,o=t.map((function(e,r){var s=r<t.length-1;return function(e,t,r,n){n=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(n);var i=!1;e.on("close",(function(){i=!0})),void 0===jo&&(jo=So),jo(e,{readable:t,writable:r},(function(e){if(e)return n(e);i=!0,n()}));var o=!1;return function(t){if(!i&&!o){if(o=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();n(t||new zo("pipe"))}}}(e,s,r>0,(function(e){i||(i=e),e&&o.forEach(Vo),!s&&(o.forEach(Vo),n(i))}))}));return t.reduce(Ko)};!function(e,t){(t=e.exports=ko()).Stream=t,t.Readable=t,t.Writable=$i(),t.Duplex=eo(),t.Transform=Ao,t.PassThrough=Co,t.finished=So,t.pipeline=Zo}(yi,yi.exports);var Ho=yi.exports,Go=di.Buffer,Jo=Ho.Transform;function Qo(e){Jo.call(this),this._block=Go.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}pi(Qo,Jo),Qo.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},Qo.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},Qo.prototype.update=function(e,t){if(function(e,t){if(!Go.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");Go.isBuffer(e)||(e=Go.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var o=0,s=8*e.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},Qo.prototype._update=function(){throw new Error("_update is not implemented")},Qo.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},Qo.prototype._digest=function(){throw new Error("_digest is not implemented")};var Yo=Qo,Xo=pi,$o=Yo,es=di.Buffer,ts=new Array(16);function rs(){$o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function ns(e,t){return e<<t|e>>>32-t}function is(e,t,r,n,i,o,s){return ns(e+(t&r|~t&n)+i+o|0,s)+t|0}function os(e,t,r,n,i,o,s){return ns(e+(t&n|r&~n)+i+o|0,s)+t|0}function ss(e,t,r,n,i,o,s){return ns(e+(t^r^n)+i+o|0,s)+t|0}function as(e,t,r,n,i,o,s){return ns(e+(r^(t|~n))+i+o|0,s)+t|0}Xo(rs,$o),rs.prototype._update=function(){for(var e=ts,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=is(r,n,i,o,e[0],3614090360,7),o=is(o,r,n,i,e[1],3905402710,12),i=is(i,o,r,n,e[2],606105819,17),n=is(n,i,o,r,e[3],3250441966,22),r=is(r,n,i,o,e[4],4118548399,7),o=is(o,r,n,i,e[5],1200080426,12),i=is(i,o,r,n,e[6],2821735955,17),n=is(n,i,o,r,e[7],4249261313,22),r=is(r,n,i,o,e[8],1770035416,7),o=is(o,r,n,i,e[9],2336552879,12),i=is(i,o,r,n,e[10],4294925233,17),n=is(n,i,o,r,e[11],2304563134,22),r=is(r,n,i,o,e[12],1804603682,7),o=is(o,r,n,i,e[13],4254626195,12),i=is(i,o,r,n,e[14],2792965006,17),r=os(r,n=is(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=os(o,r,n,i,e[6],3225465664,9),i=os(i,o,r,n,e[11],643717713,14),n=os(n,i,o,r,e[0],3921069994,20),r=os(r,n,i,o,e[5],3593408605,5),o=os(o,r,n,i,e[10],38016083,9),i=os(i,o,r,n,e[15],3634488961,14),n=os(n,i,o,r,e[4],3889429448,20),r=os(r,n,i,o,e[9],568446438,5),o=os(o,r,n,i,e[14],3275163606,9),i=os(i,o,r,n,e[3],4107603335,14),n=os(n,i,o,r,e[8],1163531501,20),r=os(r,n,i,o,e[13],2850285829,5),o=os(o,r,n,i,e[2],4243563512,9),i=os(i,o,r,n,e[7],1735328473,14),r=ss(r,n=os(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=ss(o,r,n,i,e[8],2272392833,11),i=ss(i,o,r,n,e[11],1839030562,16),n=ss(n,i,o,r,e[14],4259657740,23),r=ss(r,n,i,o,e[1],2763975236,4),o=ss(o,r,n,i,e[4],1272893353,11),i=ss(i,o,r,n,e[7],4139469664,16),n=ss(n,i,o,r,e[10],3200236656,23),r=ss(r,n,i,o,e[13],681279174,4),o=ss(o,r,n,i,e[0],3936430074,11),i=ss(i,o,r,n,e[3],3572445317,16),n=ss(n,i,o,r,e[6],76029189,23),r=ss(r,n,i,o,e[9],3654602809,4),o=ss(o,r,n,i,e[12],3873151461,11),i=ss(i,o,r,n,e[15],530742520,16),r=as(r,n=ss(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=as(o,r,n,i,e[7],1126891415,10),i=as(i,o,r,n,e[14],2878612391,15),n=as(n,i,o,r,e[5],4237533241,21),r=as(r,n,i,o,e[12],1700485571,6),o=as(o,r,n,i,e[3],2399980690,10),i=as(i,o,r,n,e[10],4293915773,15),n=as(n,i,o,r,e[1],2240044497,21),r=as(r,n,i,o,e[8],1873313359,6),o=as(o,r,n,i,e[15],4264355552,10),i=as(i,o,r,n,e[6],2734768916,15),n=as(n,i,o,r,e[13],1309151649,21),r=as(r,n,i,o,e[4],4149444226,6),o=as(o,r,n,i,e[11],3174756917,10),i=as(i,o,r,n,e[2],718787259,15),n=as(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},rs.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=es.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};var cs=rs,us=Gn.Buffer,ds=pi,fs=Yo,ls=new Array(16),hs=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ps=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ys=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ms=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],bs=[0,1518500249,1859775393,2400959708,2840853838],gs=[1352829926,1548603684,1836072691,2053994217,0];function vs(){fs.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function ws(e,t){return e<<t|e>>>32-t}function _s(e,t,r,n,i,o,s,a){return ws(e+(t^r^n)+o+s|0,a)+i|0}function Ss(e,t,r,n,i,o,s,a){return ws(e+(t&r|~t&n)+o+s|0,a)+i|0}function Es(e,t,r,n,i,o,s,a){return ws(e+((t|~r)^n)+o+s|0,a)+i|0}function ks(e,t,r,n,i,o,s,a){return ws(e+(t&n|r&~n)+o+s|0,a)+i|0}function As(e,t,r,n,i,o,s,a){return ws(e+(t^(r|~n))+o+s|0,a)+i|0}ds(vs,fs),vs.prototype._update=function(){for(var e=ls,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0|this._a,c=0|this._b,u=0|this._c,d=0|this._d,f=0|this._e,l=0;l<80;l+=1){var h,p;l<16?(h=_s(r,n,i,o,s,e[hs[l]],bs[0],ys[l]),p=As(a,c,u,d,f,e[ps[l]],gs[0],ms[l])):l<32?(h=Ss(r,n,i,o,s,e[hs[l]],bs[1],ys[l]),p=ks(a,c,u,d,f,e[ps[l]],gs[1],ms[l])):l<48?(h=Es(r,n,i,o,s,e[hs[l]],bs[2],ys[l]),p=Es(a,c,u,d,f,e[ps[l]],gs[2],ms[l])):l<64?(h=ks(r,n,i,o,s,e[hs[l]],bs[3],ys[l]),p=Ss(a,c,u,d,f,e[ps[l]],gs[3],ms[l])):(h=As(r,n,i,o,s,e[hs[l]],bs[4],ys[l]),p=_s(a,c,u,d,f,e[ps[l]],gs[4],ms[l])),r=s,s=o,o=ws(i,10),i=n,n=h,a=f,f=d,d=ws(u,10),u=c,c=p}var y=this._b+i+d|0;this._b=this._c+o+f|0,this._c=this._d+s+a|0,this._d=this._e+r+c|0,this._e=this._a+n+u|0,this._a=y},vs.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=us.alloc?us.alloc(20):new us(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};var xs=vs,Is={exports:{}},Ts=di.Buffer;function Os(e,t){this._block=Ts.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Os.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=Ts.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,o=this._len,s=0;s<i;){for(var a=o%n,c=Math.min(i-s,n-a),u=0;u<c;u++)r[a+u]=e[s+u];s+=c,(o+=c)%n==0&&this._update(r)}return this._len+=i,this},Os.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},Os.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Ps=Os,Ms=pi,Rs=Ps,Bs=di.Buffer,Us=[1518500249,1859775393,-1894007588,-899497514],Ns=new Array(80);function js(){this.init(),this._w=Ns,Rs.call(this,64,56)}function Cs(e){return e<<5|e>>>27}function Ls(e){return e<<30|e>>>2}function Ds(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}Ms(js,Rs),js.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},js.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0;a<16;++a)t[a]=e.readInt32BE(4*a);for(;a<80;++a)t[a]=t[a-3]^t[a-8]^t[a-14]^t[a-16];for(var c=0;c<80;++c){var u=~~(c/20),d=Cs(r)+Ds(u,n,i,o)+s+t[c]+Us[u]|0;s=o,o=i,i=Ls(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},js.prototype._hash=function(){var e=Bs.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var Fs=js,Ws=pi,zs=Ps,qs=di.Buffer,Vs=[1518500249,1859775393,-1894007588,-899497514],Ks=new Array(80);function Zs(){this.init(),this._w=Ks,zs.call(this,64,56)}function Hs(e){return e<<1|e>>>31}function Gs(e){return e<<5|e>>>27}function Js(e){return e<<30|e>>>2}function Qs(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}Ws(Zs,zs),Zs.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Zs.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0;a<16;++a)t[a]=e.readInt32BE(4*a);for(;a<80;++a)t[a]=Hs(t[a-3]^t[a-8]^t[a-14]^t[a-16]);for(var c=0;c<80;++c){var u=~~(c/20),d=Gs(r)+Qs(u,n,i,o)+s+t[c]+Vs[u]|0;s=o,o=i,i=Js(n),n=r,r=d}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},Zs.prototype._hash=function(){var e=qs.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var Ys=Zs,Xs=pi,$s=Ps,ea=di.Buffer,ta=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ra=new Array(64);function na(){this.init(),this._w=ra,$s.call(this,64,56)}function ia(e,t,r){return r^e&(t^r)}function oa(e,t,r){return e&t|r&(e|t)}function sa(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function aa(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function ca(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function ua(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Xs(na,$s),na.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},na.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0|this._f,c=0|this._g,u=0|this._h,d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<64;++d)t[d]=ua(t[d-2])+t[d-7]+ca(t[d-15])+t[d-16]|0;for(var f=0;f<64;++f){var l=u+aa(s)+ia(s,a,c)+ta[f]+t[f]|0,h=sa(r)+oa(r,n,i)|0;u=c,c=a,a=s,s=o+l|0,o=i,i=n,n=r,r=l+h|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0},na.prototype._hash=function(){var e=ea.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var da=na,fa=pi,la=da,ha=Ps,pa=di.Buffer,ya=new Array(64);function ma(){this.init(),this._w=ya,ha.call(this,64,56)}fa(ma,la),ma.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},ma.prototype._hash=function(){var e=pa.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var ba=ma,ga=pi,va=Ps,wa=di.Buffer,_a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Sa=new Array(160);function Ea(){this.init(),this._w=Sa,va.call(this,128,112)}function ka(e,t,r){return r^e&(t^r)}function Aa(e,t,r){return e&t|r&(e|t)}function xa(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function Ia(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Ta(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Oa(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Pa(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Ma(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function Ra(e,t){return e>>>0<t>>>0?1:0}ga(Ea,va),Ea.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Ea.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,a=0|this._fh,c=0|this._gh,u=0|this._hh,d=0|this._al,f=0|this._bl,l=0|this._cl,h=0|this._dl,p=0|this._el,y=0|this._fl,m=0|this._gl,b=0|this._hl,g=0;g<32;g+=2)t[g]=e.readInt32BE(4*g),t[g+1]=e.readInt32BE(4*g+4);for(;g<160;g+=2){var v=t[g-30],w=t[g-30+1],_=Ta(v,w),S=Oa(w,v),E=Pa(v=t[g-4],w=t[g-4+1]),k=Ma(w,v),A=t[g-14],x=t[g-14+1],I=t[g-32],T=t[g-32+1],O=S+x|0,P=_+A+Ra(O,S)|0;P=(P=P+E+Ra(O=O+k|0,k)|0)+I+Ra(O=O+T|0,T)|0,t[g]=P,t[g+1]=O}for(var M=0;M<160;M+=2){P=t[M],O=t[M+1];var R=Aa(r,n,i),B=Aa(d,f,l),U=xa(r,d),N=xa(d,r),j=Ia(s,p),C=Ia(p,s),L=_a[M],D=_a[M+1],F=ka(s,a,c),W=ka(p,y,m),z=b+C|0,q=u+j+Ra(z,b)|0;q=(q=(q=q+F+Ra(z=z+W|0,W)|0)+L+Ra(z=z+D|0,D)|0)+P+Ra(z=z+O|0,O)|0;var V=N+B|0,K=U+R+Ra(V,N)|0;u=c,b=m,c=a,m=y,a=s,y=p,s=o+q+Ra(p=h+z|0,h)|0,o=i,h=l,i=n,l=f,n=r,f=d,r=q+K+Ra(d=z+V|0,z)|0}this._al=this._al+d|0,this._bl=this._bl+f|0,this._cl=this._cl+l|0,this._dl=this._dl+h|0,this._el=this._el+p|0,this._fl=this._fl+y|0,this._gl=this._gl+m|0,this._hl=this._hl+b|0,this._ah=this._ah+r+Ra(this._al,d)|0,this._bh=this._bh+n+Ra(this._bl,f)|0,this._ch=this._ch+i+Ra(this._cl,l)|0,this._dh=this._dh+o+Ra(this._dl,h)|0,this._eh=this._eh+s+Ra(this._el,p)|0,this._fh=this._fh+a+Ra(this._fl,y)|0,this._gh=this._gh+c+Ra(this._gl,m)|0,this._hh=this._hh+u+Ra(this._hl,b)|0},Ea.prototype._hash=function(){var e=wa.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var Ba=Ea,Ua=pi,Na=Ba,ja=Ps,Ca=di.Buffer,La=new Array(160);function Da(){this.init(),this._w=La,ja.call(this,128,112)}Ua(Da,Na),Da.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Da.prototype._hash=function(){var e=Ca.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var Fa=Da,Wa=Is.exports=function(e){e=e.toLowerCase();var t=Wa[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};Wa.sha=Fs,Wa.sha1=Ys,Wa.sha224=ba,Wa.sha256=da,Wa.sha384=Fa,Wa.sha512=Ba;var za=Is.exports,qa=Ka,Va=Mi.EventEmitter;function Ka(){Va.call(this)}pi(Ka,Va),Ka.Readable=ko(),Ka.Writable=$i(),Ka.Duplex=eo(),Ka.Transform=Ao,Ka.PassThrough=Co,Ka.finished=So,Ka.pipeline=Zo,Ka.Stream=Ka,Ka.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),!e._isStdio&&(!t||!1!==t.end)&&(r.on("end",s),r.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===Va.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",c),e.on("error",c),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};var Za=di.Buffer,Ha=qa.Transform,Ga=to.StringDecoder;function Ja(e){Ha.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}pi(Ja,Ha),Ja.prototype.update=function(e,t,r){"string"==typeof e&&(e=Za.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},Ja.prototype.setAutoPadding=function(){},Ja.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},Ja.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},Ja.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},Ja.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},Ja.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},Ja.prototype._finalOrDigest=function(e){var t=this.__final()||Za.alloc(0);return e&&(t=this._toString(t,e,!0)),t},Ja.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new Ga(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var Qa,Ya,Xa=Ja;function $a(){if(Ya)return Qa;Ya=1;var e=cs,t=xs,r=za,n=Xa;function i(e){n.call(this,"digest"),this._hash=e}return pi(i,n),i.prototype._update=function(e){this._hash.update(e)},i.prototype._final=function(){return this._hash.digest()},Qa=function(n){return"md5"===(n=n.toLowerCase())?new e:"rmd160"===n||"ripemd160"===n?new t:new i(r(n))}}var ec=pi,tc=di.Buffer,rc=Xa,nc=tc.alloc(128),ic=64;function oc(e,t){rc.call(this,"digest"),"string"==typeof t&&(t=tc.from(t)),this._alg=e,this._key=t,t.length>ic?t=e(t):t.length<ic&&(t=tc.concat([t,nc],ic));for(var r=this._ipad=tc.allocUnsafe(ic),n=this._opad=tc.allocUnsafe(ic),i=0;i<ic;i++)r[i]=54^t[i],n[i]=92^t[i];this._hash=[r]}ec(oc,rc),oc.prototype._update=function(e){this._hash.push(e)},oc.prototype._final=function(){var e=this._alg(tc.concat(this._hash));return this._alg(tc.concat([this._opad,e]))};var sc=cs,ac=function(e){return(new sc).update(e).digest()},cc=pi,uc=oc,dc=Xa,fc=di.Buffer,lc=ac,hc=xs,pc=za,yc=fc.alloc(128);function mc(e,t){dc.call(this,"digest"),"string"==typeof t&&(t=fc.from(t));var r="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>r)?t=("rmd160"===e?new hc:pc(e)).update(t).digest():t.length<r&&(t=fc.concat([t,yc],r));for(var n=this._ipad=fc.allocUnsafe(r),i=this._opad=fc.allocUnsafe(r),o=0;o<r;o++)n[o]=54^t[o],i[o]=92^t[o];this._hash="rmd160"===e?new hc:pc(e),this._hash.update(n)}cc(mc,dc),mc.prototype._update=function(e){this._hash.update(e)},mc.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new hc:pc(this._alg)).update(this._opad).update(e).digest()};var bc=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new mc("rmd160",t):"md5"===e?new uc(lc,t):new mc(e,t)};const gc=d({__proto__:null,default:cr(bc)},[bc]),vc={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var wc,_c;var Sc,Ec,kc,Ac,xc,Ic,Tc,Oc,Pc,Mc,Rc,Bc={};function Uc(){if(Ec)return Sc;Ec=1;var e=Math.pow(2,30)-1;return Sc=function(t,r){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>e||r!=r)throw new TypeError("Bad key length")}}function Nc(){if(Ac)return kc;var e;if(Ac=1,ar.process&&ar.process.browser)e="utf-8";else if(ar.process&&ar.process.version){e=parseInt(I.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else e="utf-8";return kc=e}function jc(){if(Ic)return xc;Ic=1;var e=di.Buffer;return xc=function(t,r,n){if(e.isBuffer(t))return t;if("string"==typeof t)return e.from(t,r);if(ArrayBuffer.isView(t))return e.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}}function Cc(){if(Oc)return Tc;Oc=1;var e=ac,t=xs,r=za,n=di.Buffer,i=Uc(),o=Nc(),s=jc(),a=n.alloc(128),c={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function u(i,o,s){var u=function(n){function i(e){return r(n).update(e).digest()}function o(e){return(new t).update(e).digest()}return"rmd160"===n||"ripemd160"===n?o:"md5"===n?e:i}(i),d="sha512"===i||"sha384"===i?128:64;o.length>d?o=u(o):o.length<d&&(o=n.concat([o,a],d));for(var f=n.allocUnsafe(d+c[i]),l=n.allocUnsafe(d+c[i]),h=0;h<d;h++)f[h]=54^o[h],l[h]=92^o[h];var p=n.allocUnsafe(d+s+4);f.copy(p,0,0,d),this.ipad1=p,this.ipad2=f,this.opad=l,this.alg=i,this.blocksize=d,this.hash=u,this.size=c[i]}return u.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},Tc=function(e,t,r,a,d){i(r,a);var f=new u(d=d||"sha1",e=s(e,o,"Password"),(t=s(t,o,"Salt")).length),l=n.allocUnsafe(a),h=n.allocUnsafe(t.length+4);t.copy(h,0,0,t.length);for(var p=0,y=c[d],m=Math.ceil(a/y),b=1;b<=m;b++){h.writeUInt32BE(b,t.length);for(var g=f.run(h,f.ipad1),v=g,w=1;w<r;w++){v=f.run(v,f.ipad2);for(var _=0;_<y;_++)g[_]^=v[_]}g.copy(l,p),p+=y}return l}}function Lc(){if(Mc)return Pc;Mc=1;var e,t,r=di.Buffer,n=Uc(),i=Nc(),o=Cc(),s=jc(),a=ar.crypto&&ar.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},u=[];function d(){return t||(t=ar.process&&ar.process.nextTick?ar.process.nextTick:ar.queueMicrotask?ar.queueMicrotask:ar.setImmediate?ar.setImmediate:ar.setTimeout)}function f(e,t,n,i,o){return a.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return a.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:o}},e,i<<3)})).then((function(e){return r.from(e)}))}return Pc=function(t,l,h,p,y,m){"function"==typeof y&&(m=y,y=void 0);var b=c[(y=y||"sha1").toLowerCase()];if(b&&"function"==typeof ar.Promise){if(n(h,p),t=s(t,i,"Password"),l=s(l,i,"Salt"),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){d()((function(){t(null,e)}))}),(function(e){d()((function(){t(e)}))}))}(function(t){if(ar.process&&!ar.process.browser||!a||!a.importKey||!a.deriveBits)return Promise.resolve(!1);if(void 0!==u[t])return u[t];var n=f(e=e||r.alloc(8),e,10,128,t).then((function(){return!0})).catch((function(){return!1}));return u[t]=n,n}(b).then((function(e){return e?f(t,l,h,p,b):o(t,l,h,p,y)})),m)}else d()((function(){var e;try{e=o(t,l,h,p,y)}catch(e){return m(e)}m(null,e)}))}}function Dc(){return Rc||(Rc=1,Bc.pbkdf2=Lc(),Bc.pbkdf2Sync=Cc()),Bc}var Fc,Wc={},zc={},qc={};function Vc(){if(Fc)return qc;Fc=1,qc.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},qc.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},qc.ip=function(e,t,r,n){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1}r[n+0]=i>>>0,r[n+1]=o>>>0},qc.rip=function(e,t,r,n){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=t>>>a+s&1,i<<=1,i|=e>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=t>>>a+s&1,o<<=1,o|=e>>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},qc.pc1=function(e,t,r,n){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1}for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},qc.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var e=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];qc.pc2=function(t,r,n,i){for(var o=0,s=0,a=e.length>>>1,c=0;c<a;c++)o<<=1,o|=t>>>e[c]&1;for(c=a;c<e.length;c++)s<<=1,s|=r>>>e[c]&1;n[i+0]=o>>>0,n[i+1]=s>>>0},qc.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var t=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];qc.substitute=function(e,r){for(var n=0,i=0;i<4;i++){n<<=4,n|=t[64*i+(e>>>18-6*i&63)]}for(i=0;i<4;i++){n<<=4,n|=t[256+64*i+(r>>>18-6*i&63)]}return n>>>0};var r=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return qc.permute=function(e){for(var t=0,n=0;n<r.length;n++)t<<=1,t|=e>>>r[n]&1;return t>>>0},qc.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],o=0;o<t;o+=r)i.push(n.slice(o,o+r));return i.join(" ")},qc}var Kc,Zc,Hc,Gc,Jc=Qc;function Qc(e,t){if(!e)throw new Error(t||"Assertion failed")}function Yc(){if(Zc)return Kc;Zc=1;var e=Jc;function t(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==e.padding}return Kc=t,t.prototype._init=function(){},t.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},t.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},t.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},t.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},t.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},t.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},t.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},t.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},t.prototype._unpad=function(e){return e},t.prototype._finalDecrypt=function(){e.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)},Kc}function Xc(){if(Gc)return Hc;Gc=1;var e=Jc,t=pi,r=Vc(),n=Yc();function i(){this.tmp=new Array(2),this.keys=null}function o(e){n.call(this,e);var t=new i;this._desState=t,this.deriveKeys(t,e.key)}t(o,n),Hc=o,o.create=function(e){return new o(e)};var s=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return o.prototype.deriveKeys=function(t,n){t.keys=new Array(32),e.equal(n.length,this.blockSize,"Invalid key length");var i=r.readUInt32BE(n,0),o=r.readUInt32BE(n,4);r.pc1(i,o,t.tmp,0),i=t.tmp[0],o=t.tmp[1];for(var a=0;a<t.keys.length;a+=2){var c=s[a>>>1];i=r.r28shl(i,c),o=r.r28shl(o,c),r.pc2(i,o,t.keys,a)}},o.prototype._update=function(e,t,n,i){var o=this._desState,s=r.readUInt32BE(e,t),a=r.readUInt32BE(e,t+4);r.ip(s,a,o.tmp,0),s=o.tmp[0],a=o.tmp[1],"encrypt"===this.type?this._encrypt(o,s,a,o.tmp,0):this._decrypt(o,s,a,o.tmp,0),s=o.tmp[0],a=o.tmp[1],r.writeUInt32BE(n,s,i),r.writeUInt32BE(n,a,i+4)},o.prototype._pad=function(e,t){if(!1===this.padding)return!1;for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},o.prototype._unpad=function(t){if(!1===this.padding)return t;for(var r=t[t.length-1],n=t.length-r;n<t.length;n++)e.equal(t[n],r);return t.slice(0,t.length-r)},o.prototype._encrypt=function(e,t,n,i,o){for(var s=t,a=n,c=0;c<e.keys.length;c+=2){var u=e.keys[c],d=e.keys[c+1];r.expand(a,e.tmp,0),u^=e.tmp[0],d^=e.tmp[1];var f=r.substitute(u,d),l=a;a=(s^r.permute(f))>>>0,s=l}r.rip(a,s,i,o)},o.prototype._decrypt=function(e,t,n,i,o){for(var s=n,a=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],d=e.keys[c+1];r.expand(s,e.tmp,0),u^=e.tmp[0],d^=e.tmp[1];var f=r.substitute(u,d),l=s;s=(a^r.permute(f))>>>0,a=l}r.rip(s,a,i,o)},Hc}Qc.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var $c,eu,tu,ru,nu,iu,ou={};function su(){return ru||(ru=1,zc.utils=Vc(),zc.Cipher=Yc(),zc.DES=Xc(),zc.CBC=function(){if($c)return ou;$c=1;var e=Jc,t=pi,r={};function n(t){e.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var r=0;r<this.iv.length;r++)this.iv[r]=t[r]}return ou.instantiate=function(e){function n(t){e.call(this,t),this._cbcInit()}t(n,e);for(var i=Object.keys(r),o=0;o<i.length;o++){var s=i[o];n.prototype[s]=r[s]}return n.create=function(e){return new n(e)},n},r._cbcInit=function(){var e=new n(this.options.iv);this._cbcState=e},r._update=function(e,t,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=e[t+a];for(o._update.call(this,s,0,r,n),a=0;a<this.blockSize;a++)s[a]=r[n+a]}else{for(o._update.call(this,e,t,r,n),a=0;a<this.blockSize;a++)r[n+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=e[t+a]}},ou}(),zc.EDE=function(){if(tu)return eu;tu=1;var e=Jc,t=pi,r=Yc(),n=Xc();function i(t,r){e.equal(r.length,24,"Invalid key length");var i=r.slice(0,8),o=r.slice(8,16),s=r.slice(16,24);this.ciphers="encrypt"===t?[n.create({type:"encrypt",key:i}),n.create({type:"decrypt",key:o}),n.create({type:"encrypt",key:s})]:[n.create({type:"decrypt",key:s}),n.create({type:"encrypt",key:o}),n.create({type:"decrypt",key:i})]}function o(e){r.call(this,e);var t=new i(this.type,this.options.key);this._edeState=t}return t(o,r),eu=o,o.create=function(e){return new o(e)},o.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},o.prototype._pad=n.prototype._pad,o.prototype._unpad=n.prototype._unpad,eu}()),zc}var au,cu={},uu={},du={};var fu,lu,hu,pu={};function yu(){return lu||(lu=1,fu=function(e,t){for(var r=Math.min(e.length,t.length),n=new Hn(r),i=0;i<r;++i)n[i]=e[i]^t[i];return n}),fu}function mu(){if(hu)return pu;hu=1;var e=yu();return pu.encrypt=function(t,r){var n=e(r,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},pu.decrypt=function(t,r){var n=t._prev;t._prev=r;var i=t._cipher.decryptBlock(r);return e(i,n)},pu}var bu,gu={};function vu(){if(bu)return gu;bu=1;var e=di.Buffer,t=yu();function r(r,n,i){var o=n.length,s=t(n,r._cache);return r._cache=r._cache.slice(o),r._prev=e.concat([r._prev,i?n:s]),s}return gu.encrypt=function(t,n,i){for(var o,s=e.allocUnsafe(0);n.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=e.allocUnsafe(0)),!(t._cache.length<=n.length)){s=e.concat([s,r(t,n,i)]);break}o=t._cache.length,s=e.concat([s,r(t,n.slice(0,o),i)]),n=n.slice(o)}return s},gu}var wu,_u={};function Su(){if(wu)return _u;wu=1;var e=di.Buffer;function t(t,r,n){var i=t._cipher.encryptBlock(t._prev)[0]^r;return t._prev=e.concat([t._prev.slice(1),e.from([n?r:i])]),i}return _u.encrypt=function(r,n,i){for(var o=n.length,s=e.allocUnsafe(o),a=-1;++a<o;)s[a]=t(r,n[a],i);return s},_u}var Eu,ku={};function Au(){if(Eu)return ku;Eu=1;var e=di.Buffer;function t(e,t,n){for(var i,o,s=-1,a=0;++s<8;)i=t&1<<7-s?128:0,a+=(128&(o=e._cipher.encryptBlock(e._prev)[0]^i))>>s%8,e._prev=r(e._prev,n?i:o);return a}function r(t,r){var n=t.length,i=-1,o=e.allocUnsafe(t.length);for(t=e.concat([t,e.from([r])]);++i<n;)o[i]=t[i]<<1|t[i+1]>>7;return o}return ku.encrypt=function(r,n,i){for(var o=n.length,s=e.allocUnsafe(o),a=-1;++a<o;)s[a]=t(r,n[a],i);return s},ku}var xu,Iu={};function Tu(){if(xu)return Iu;xu=1;var e=yu();function t(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}return Iu.encrypt=function(r,n){for(;r._cache.length<n.length;)r._cache=Hn.concat([r._cache,t(r)]);var i=r._cache.slice(0,n.length);return r._cache=r._cache.slice(n.length),e(n,i)},Iu}var Ou,Pu,Mu,Ru={};function Bu(){if(Pu)return Ou;return Pu=1,Ou=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}}function Uu(){if(Mu)return Ru;Mu=1;var e=yu(),t=di.Buffer,r=Bu();function n(e){var t=e._cipher.encryptBlockRaw(e._prev);return r(e._prev),t}return Ru.encrypt=function(r,i){var o=Math.ceil(i.length/16),s=r._cache.length;r._cache=t.concat([r._cache,t.allocUnsafe(16*o)]);for(var a=0;a<o;a++){var c=n(r),u=s+16*a;r._cache.writeUInt32BE(c[0],u+0),r._cache.writeUInt32BE(c[1],u+4),r._cache.writeUInt32BE(c[2],u+8),r._cache.writeUInt32BE(c[3],u+12)}var d=r._cache.slice(0,i.length);return r._cache=r._cache.slice(i.length),e(i,d)},Ru}const Nu={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var ju,Cu;function Lu(){if(Cu)return ju;Cu=1;var e={ECB:(au||(au=1,du.encrypt=function(e,t){return e._cipher.encryptBlock(t)},du.decrypt=function(e,t){return e._cipher.decryptBlock(t)}),du),CBC:mu(),CFB:vu(),CFB8:Su(),CFB1:Au(),OFB:Tu(),CTR:Uu(),GCM:Uu()},t=Nu;for(var r in t)t[r].module=e[t[r].mode];return ju=t}var Du,Fu,Wu,zu,qu,Vu,Ku,Zu,Hu,Gu,Ju={};function Qu(){if(Du)return Ju;Du=1;var e=di.Buffer;function t(t){e.isBuffer(t)||(t=e.from(t));for(var r=t.length/4|0,n=new Array(r),i=0;i<r;i++)n[i]=t.readUInt32BE(4*i);return n}function r(e){for(;0<e.length;e++)e[0]=0}function n(e,t,r,n,i){for(var o,s,a,c,u=r[0],d=r[1],f=r[2],l=r[3],h=e[0]^t[0],p=e[1]^t[1],y=e[2]^t[2],m=e[3]^t[3],b=4,g=1;g<i;g++)o=u[h>>>24]^d[p>>>16&255]^f[y>>>8&255]^l[255&m]^t[b++],s=u[p>>>24]^d[y>>>16&255]^f[m>>>8&255]^l[255&h]^t[b++],a=u[y>>>24]^d[m>>>16&255]^f[h>>>8&255]^l[255&p]^t[b++],c=u[m>>>24]^d[h>>>16&255]^f[p>>>8&255]^l[255&y]^t[b++],h=o,p=s,y=a,m=c;return o=(n[h>>>24]<<24|n[p>>>16&255]<<16|n[y>>>8&255]<<8|n[255&m])^t[b++],s=(n[p>>>24]<<24|n[y>>>16&255]<<16|n[m>>>8&255]<<8|n[255&h])^t[b++],a=(n[y>>>24]<<24|n[m>>>16&255]<<16|n[h>>>8&255]<<8|n[255&p])^t[b++],c=(n[m>>>24]<<24|n[h>>>16&255]<<16|n[p>>>8&255]<<8|n[255&y])^t[b++],[o>>>=0,s>>>=0,a>>>=0,c>>>=0]}var i=[0,1,2,4,8,16,32,64,128,27,54],o=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,c=0;c<256;++c){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99,r[s]=u,n[u]=s;var d=e[s],f=e[d],l=e[f],h=257*e[u]^16843008*u;i[0][s]=h<<24|h>>>8,i[1][s]=h<<16|h>>>16,i[2][s]=h<<8|h>>>24,i[3][s]=h,h=16843009*l^65537*f^257*d^16843008*s,o[0][u]=h<<24|h>>>8,o[1][u]=h<<16|h>>>16,o[2][u]=h<<8|h>>>24,o[3][u]=h,0===s?s=a=1:(s=d^e[e[e[l^d]]],a^=e[e[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function s(e){this._key=t(e),this._reset()}return s.blockSize=16,s.keySize=32,s.prototype.blockSize=s.blockSize,s.prototype.keySize=s.keySize,s.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),s=[],a=0;a<t;a++)s[a]=e[a];for(a=t;a<n;a++){var c=s[a-1];a%t==0?(c=c<<8|c>>>24,c=o.SBOX[c>>>24]<<24|o.SBOX[c>>>16&255]<<16|o.SBOX[c>>>8&255]<<8|o.SBOX[255&c],c^=i[a/t|0]<<24):t>6&&a%t==4&&(c=o.SBOX[c>>>24]<<24|o.SBOX[c>>>16&255]<<16|o.SBOX[c>>>8&255]<<8|o.SBOX[255&c]),s[a]=s[a-t]^c}for(var u=[],d=0;d<n;d++){var f=n-d,l=s[f-(d%4?0:4)];u[d]=d<4||f<=4?l:o.INV_SUB_MIX[0][o.SBOX[l>>>24]]^o.INV_SUB_MIX[1][o.SBOX[l>>>16&255]]^o.INV_SUB_MIX[2][o.SBOX[l>>>8&255]]^o.INV_SUB_MIX[3][o.SBOX[255&l]]}this._nRounds=r,this._keySchedule=s,this._invKeySchedule=u},s.prototype.encryptBlockRaw=function(e){return n(e=t(e),this._keySchedule,o.SUB_MIX,o.SBOX,this._nRounds)},s.prototype.encryptBlock=function(t){var r=this.encryptBlockRaw(t),n=e.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[1],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[3],12),n},s.prototype.decryptBlock=function(r){var i=(r=t(r))[1];r[1]=r[3],r[3]=i;var s=n(r,this._invKeySchedule,o.INV_SUB_MIX,o.INV_SBOX,this._nRounds),a=e.allocUnsafe(16);return a.writeUInt32BE(s[0],0),a.writeUInt32BE(s[3],4),a.writeUInt32BE(s[2],8),a.writeUInt32BE(s[1],12),a},s.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},Ju.AES=s,Ju}function Yu(){if(qu)return zu;qu=1;var e=Qu(),t=di.Buffer,r=Xa,n=pi,i=function(){if(Wu)return Fu;Wu=1;var e=di.Buffer,t=e.alloc(16,0);function r(t){var r=e.allocUnsafe(16);return r.writeUInt32BE(t[0]>>>0,0),r.writeUInt32BE(t[1]>>>0,4),r.writeUInt32BE(t[2]>>>0,8),r.writeUInt32BE(t[3]>>>0,12),r}function n(t){this.h=t,this.state=e.alloc(16,0),this.cache=e.allocUnsafe(0)}return n.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},n.prototype._multiply=function(){for(var e,t,n=function(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}(this.h),i=[0,0,0,0],o=-1;++o<128;){for(!!(this.state[~~(o/8)]&1<<7-o%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),t=!!(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,t&&(n[0]=n[0]^225<<24)}this.state=r(i)},n.prototype.update=function(t){this.cache=e.concat([this.cache,t]);for(var r;this.cache.length>=16;)r=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(r)},n.prototype.final=function(n,i){return this.cache.length&&this.ghash(e.concat([this.cache,t],16)),this.ghash(r([0,n,0,i])),this.state},Fu=n}(),o=yu(),s=Bu();function a(n,o,a,c){r.call(this);var u=t.alloc(4,0);this._cipher=new e.AES(o);var d=this._cipher.encryptBlock(u);this._ghash=new i(d),a=function(e,r,n){if(12===r.length)return e._finID=t.concat([r,t.from([0,0,0,1])]),t.concat([r,t.from([0,0,0,2])]);var o=new i(n),a=r.length,c=a%16;o.update(r),c&&(c=16-c,o.update(t.alloc(c,0))),o.update(t.alloc(8,0));var u=8*a,d=t.alloc(8);d.writeUIntBE(u,0,8),o.update(d),e._finID=o.state;var f=t.from(e._finID);return s(f),f}(this,a,d),this._prev=t.from(a),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=c,this._alen=0,this._len=0,this._mode=n,this._authTag=null,this._called=!1}return n(a,r),a.prototype._update=function(e){if(!this._called&&this._alen){var r=16-this._alen%16;r<16&&(r=t.alloc(r,0),this._ghash.update(r))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},a.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=o(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},a.prototype.getAuthTag=function(){if(this._decrypt||!t.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},a.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},a.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},zu=a}function Xu(){if(Ku)return Vu;Ku=1;var e=Qu(),t=di.Buffer,r=Xa;function n(n,i,o,s){r.call(this),this._cipher=new e.AES(i),this._prev=t.from(o),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=s,this._mode=n}return pi(n,r),n.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()},Vu=n}function $u(){if(Hu)return Zu;Hu=1;var e=di.Buffer,t=cs;return Zu=function(r,n,i,o){if(e.isBuffer(r)||(r=e.from(r,"binary")),n&&(e.isBuffer(n)||(n=e.from(n,"binary")),8!==n.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=i/8,a=e.alloc(s),c=e.alloc(o||0),u=e.alloc(0);s>0||o>0;){var d=new t;d.update(u),d.update(r),n&&d.update(n),u=d.digest();var f=0;if(s>0){var l=a.length-s;f=Math.min(s,u.length),u.copy(a,l,0,f),s-=f}if(f<u.length&&o>0){var h=c.length-o,p=Math.min(o,u.length-f);u.copy(c,h,f,f+p),o-=p}}return u.fill(0),{key:a,iv:c}}}var ed,td,rd={};function nd(){if(ed)return rd;ed=1;var e=Yu(),t=di.Buffer,r=Lu(),n=Xu(),i=Xa,o=Qu(),s=$u();function a(e,r,n){i.call(this),this._cache=new c,this._last=void 0,this._cipher=new o.AES(r),this._prev=t.from(n),this._mode=e,this._autopadding=!0}function c(){this.cache=t.allocUnsafe(0)}function u(i,o,s){var c=r[i.toLowerCase()];if(!c)throw new TypeError("invalid suite type");if("string"==typeof s&&(s=t.from(s)),"GCM"!==c.mode&&s.length!==c.iv)throw new TypeError("invalid iv length "+s.length);if("string"==typeof o&&(o=t.from(o)),o.length!==c.key/8)throw new TypeError("invalid key length "+o.length);return"stream"===c.type?new n(c.module,o,s,!0):"auth"===c.type?new e(c.module,o,s,!0):new a(c.module,o,s)}return pi(a,i),a.prototype._update=function(e){this._cache.add(e);for(var r,n,i=[];r=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,r),i.push(n);return t.concat(i)},a.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},a.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},c.prototype.add=function(e){this.cache=t.concat([this.cache,e])},c.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},c.prototype.flush=function(){if(this.cache.length)return this.cache},rd.createDecipher=function(e,t){var n=r[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=s(t,!1,n.key,n.iv);return u(e,i.key,i.iv)},rd.createDecipheriv=u,rd}function id(){if(td)return cu;td=1;var e=function(){if(Gu)return uu;Gu=1;var e=Lu(),t=Yu(),r=di.Buffer,n=Xu(),i=Xa,o=Qu(),s=$u();function a(e,t,n){i.call(this),this._cache=new u,this._cipher=new o.AES(t),this._prev=r.from(n),this._mode=e,this._autopadding=!0}pi(a,i),a.prototype._update=function(e){this._cache.add(e);for(var t,n,i=[];t=this._cache.get();)n=this._mode.encrypt(this,t),i.push(n);return r.concat(i)};var c=r.alloc(16,16);function u(){this.cache=r.allocUnsafe(0)}function d(i,o,s){var c=e[i.toLowerCase()];if(!c)throw new TypeError("invalid suite type");if("string"==typeof o&&(o=r.from(o)),o.length!==c.key/8)throw new TypeError("invalid key length "+o.length);if("string"==typeof s&&(s=r.from(s)),"GCM"!==c.mode&&s.length!==c.iv)throw new TypeError("invalid iv length "+s.length);return"stream"===c.type?new n(c.module,o,s):"auth"===c.type?new t(c.module,o,s):new a(c.module,o,s)}return a.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(c))throw this._cipher.scrub(),new Error("data not multiple of block length")},a.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},u.prototype.add=function(e){this.cache=r.concat([this.cache,e])},u.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},u.prototype.flush=function(){for(var e=16-this.cache.length,t=r.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return r.concat([this.cache,t])},uu.createCipheriv=d,uu.createCipher=function(t,r){var n=e[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=s(r,!1,n.key,n.iv);return d(t,i.key,i.iv)},uu}(),t=nd(),r=Nu;return cu.createCipher=cu.Cipher=e.createCipher,cu.createCipheriv=cu.Cipheriv=e.createCipheriv,cu.createDecipher=cu.Decipher=t.createDecipher,cu.createDecipheriv=cu.Decipheriv=t.createDecipheriv,cu.listCiphers=cu.getCiphers=function(){return Object.keys(r)},cu}var od,sd,ad={};function cd(){if(sd)return Wc;sd=1;var e=function(){if(iu)return nu;iu=1;var e=Xa,t=su(),r=pi,n=di.Buffer,i={"des-ede3-cbc":t.CBC.instantiate(t.EDE),"des-ede3":t.EDE,"des-ede-cbc":t.CBC.instantiate(t.EDE),"des-ede":t.EDE,"des-cbc":t.CBC.instantiate(t.DES),"des-ecb":t.DES};function o(t){e.call(this);var r,o=t.mode.toLowerCase(),s=i[o];r=t.decrypt?"decrypt":"encrypt";var a=t.key;n.isBuffer(a)||(a=n.from(a)),("des-ede"===o||"des-ede-cbc"===o)&&(a=n.concat([a,a.slice(0,8)]));var c=t.iv;n.isBuffer(c)||(c=n.from(c)),this._des=s.create({key:a,iv:c,type:r})}return i.des=i["des-cbc"],i.des3=i["des-ede3-cbc"],nu=o,r(o,e),o.prototype._update=function(e){return n.from(this._des.update(e))},o.prototype._final=function(){return n.from(this._des.final())},nu}(),t=id(),r=Lu(),n=(od||(od=1,function(e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}}(ad)),ad),i=$u();function o(i,o,s){if(i=i.toLowerCase(),r[i])return t.createCipheriv(i,o,s);if(n[i])return new e({key:o,iv:s,mode:i});throw new TypeError("invalid suite type")}function s(i,o,s){if(i=i.toLowerCase(),r[i])return t.createDecipheriv(i,o,s);if(n[i])return new e({key:o,iv:s,mode:i,decrypt:!0});throw new TypeError("invalid suite type")}return Wc.createCipher=Wc.Cipher=function(e,t){var s,a;if(e=e.toLowerCase(),r[e])s=r[e].key,a=r[e].iv;else{if(!n[e])throw new TypeError("invalid suite type");s=8*n[e].key,a=n[e].iv}var c=i(t,!1,s,a);return o(e,c.key,c.iv)},Wc.createCipheriv=Wc.Cipheriv=o,Wc.createDecipher=Wc.Decipher=function(e,t){var o,a;if(e=e.toLowerCase(),r[e])o=r[e].key,a=r[e].iv;else{if(!n[e])throw new TypeError("invalid suite type");o=8*n[e].key,a=n[e].iv}var c=i(t,!1,o,a);return s(e,c.key,c.iv)},Wc.createDecipheriv=Wc.Decipheriv=s,Wc.listCiphers=Wc.getCiphers=function(){return Object.keys(n).concat(t.getCiphers())},Wc}var ud={},dd={exports:{}};!function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:Bi.Buffer}catch{}function s(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function a(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function c(e,t,n,i){for(var o=0,s=0,a=Math.min(e.length,n),c=t;c<a;c++){var u=e.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<i,"Invalid character"),o+=s}return o}function u(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,d=r;d<a;d+=n)u=c(e,d,d+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=c(e,d,e.length,t),d=0;d<s;d++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){u(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{i.prototype.inspect=d}else i.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?f[6-c.length]+c+n:c+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=l[e],d=h[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modrn(d).toString(e);n=(p=p.idivn(d)).isZero()?y+n:f[u-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var d=c>>>26,f=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;d+=(s=(i=0|e.words[p])*(o=0|t.words[h])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,c=0|d}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}i.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return r(!(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return r(!(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return r(!(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,d=0|s[0],f=8191&d,l=d>>>13,h=0|s[1],p=8191&h,y=h>>>13,m=0|s[2],b=8191&m,g=m>>>13,v=0|s[3],w=8191&v,_=v>>>13,S=0|s[4],E=8191&S,k=S>>>13,A=0|s[5],x=8191&A,I=A>>>13,T=0|s[6],O=8191&T,P=T>>>13,M=0|s[7],R=8191&M,B=M>>>13,U=0|s[8],N=8191&U,j=U>>>13,C=0|s[9],L=8191&C,D=C>>>13,F=0|a[0],W=8191&F,z=F>>>13,q=0|a[1],V=8191&q,K=q>>>13,Z=0|a[2],H=8191&Z,G=Z>>>13,J=0|a[3],Q=8191&J,Y=J>>>13,X=0|a[4],$=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,de=0|a[8],fe=8191&de,le=de>>>13,he=0|a[9],pe=8191&he,ye=he>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(u+(n=Math.imul(f,W))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(l,W)|0))<<13)|0;u=((o=Math.imul(l,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,W),i=(i=Math.imul(p,z))+Math.imul(y,W)|0,o=Math.imul(y,z);var be=(u+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(l,V)|0))<<13)|0;u=((o=o+Math.imul(l,K)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,W),i=(i=Math.imul(b,z))+Math.imul(g,W)|0,o=Math.imul(g,z),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,K)|0;var ge=(u+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(l,H)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(w,W),i=(i=Math.imul(w,z))+Math.imul(_,W)|0,o=Math.imul(_,z),n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,K)|0,n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,G)|0;var ve=(u+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(l,Q)|0))<<13)|0;u=((o=o+Math.imul(l,Y)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,W),i=(i=Math.imul(E,z))+Math.imul(k,W)|0,o=Math.imul(k,z),n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(b,H)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(g,H)|0,o=o+Math.imul(g,G)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,Y)|0;var we=(u+(n=n+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(l,$)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,W),i=(i=Math.imul(x,z))+Math.imul(I,W)|0,o=Math.imul(I,z),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,K)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,K)|0,n=n+Math.imul(w,H)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,Y)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,ee)|0;var _e=(u+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(O,W),i=(i=Math.imul(O,z))+Math.imul(P,W)|0,o=Math.imul(P,z),n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(E,H)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,G)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Se=(u+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,se)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(R,W),i=(i=Math.imul(R,z))+Math.imul(B,W)|0,o=Math.imul(B,z),n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,K)|0,n=n+Math.imul(x,H)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,Y)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Ee=(u+(n=n+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,z))+Math.imul(j,W)|0,o=Math.imul(j,z),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,K)|0,n=n+Math.imul(O,H)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(P,H)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,se)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0;var ke=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(l,fe)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,W),i=(i=Math.imul(L,z))+Math.imul(D,W)|0,o=Math.imul(D,z),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(j,V)|0,o=o+Math.imul(j,K)|0,n=n+Math.imul(R,H)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(b,ce)|0,i=(i=i+Math.imul(b,ue)|0)+Math.imul(g,ce)|0,o=o+Math.imul(g,ue)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,le)|0;var Ae=(u+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,K))+Math.imul(D,V)|0,o=Math.imul(D,K),n=n+Math.imul(N,H)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(j,H)|0,o=o+Math.imul(j,G)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(P,$)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(b,fe)|0,i=(i=i+Math.imul(b,le)|0)+Math.imul(g,fe)|0,o=o+Math.imul(g,le)|0;var xe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,H),i=(i=Math.imul(L,G))+Math.imul(D,H)|0,o=Math.imul(D,G),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,Y)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,Y)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,le)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,le)|0;var Ie=(u+(n=n+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,ye)|0)+Math.imul(g,pe)|0))<<13)|0;u=((o=o+Math.imul(g,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,Y))+Math.imul(D,Q)|0,o=Math.imul(D,Y),n=n+Math.imul(N,$)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,le)|0)+Math.imul(k,fe)|0,o=o+Math.imul(k,le)|0;var Te=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,$),i=(i=Math.imul(L,ee))+Math.imul(D,$)|0,o=Math.imul(D,ee),n=n+Math.imul(N,re)|0,i=(i=i+Math.imul(N,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,ue)|0)+Math.imul(P,ce)|0,o=o+Math.imul(P,ue)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,le)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,le)|0;var Oe=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ye)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(D,re)|0,o=Math.imul(D,ne),n=n+Math.imul(N,oe)|0,i=(i=i+Math.imul(N,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,le)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,le)|0;var Pe=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,oe),i=(i=Math.imul(L,se))+Math.imul(D,oe)|0,o=Math.imul(D,se),n=n+Math.imul(N,ce)|0,i=(i=i+Math.imul(N,ue)|0)+Math.imul(j,ce)|0,o=o+Math.imul(j,ue)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(B,fe)|0,o=o+Math.imul(B,le)|0;var Me=(u+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(P,pe)|0))<<13)|0;u=((o=o+Math.imul(P,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(L,ce),i=(i=Math.imul(L,ue))+Math.imul(D,ce)|0,o=Math.imul(D,ue),n=n+Math.imul(N,fe)|0,i=(i=i+Math.imul(N,le)|0)+Math.imul(j,fe)|0,o=o+Math.imul(j,le)|0;var Re=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(B,pe)|0))<<13)|0;u=((o=o+Math.imul(B,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,fe),i=(i=Math.imul(L,le))+Math.imul(D,fe)|0,o=Math.imul(D,le);var Be=(u+(n=n+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,ye)|0)+Math.imul(j,pe)|0))<<13)|0;u=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Ue=(u+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,ye))+Math.imul(D,pe)|0))<<13)|0;return u=((o=Math.imul(D,ye))+(i>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,c[0]=me,c[1]=be,c[2]=ge,c[3]=ve,c[4]=we,c[5]=_e,c[6]=Se,c[7]=Ee,c[8]=ke,c[9]=Ae,c[10]=xe,c[11]=Ie,c[12]=Te,c[13]=Oe,c[14]=Pe,c[15]=Me,c[16]=Re,c[17]=Be,c[18]=Ue,0!==u&&(c[19]=u,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var d=o-u,f=(0|e.words[d])*(0|t.words[u]),l=67108863&f;a=67108863&(l=l+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function b(e,t,r){return m(e,t,r)}Math.imul||(y=p),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?p(this,e,t):r<1024?m(this,e,t):b(this,e,t)},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),b(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<n;this.words[t]=c|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0!==s)if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var d=0;for(u=this.length-1;u>=0&&(0!==d||u>=i);u--){var f=0|this.words[u];this.words[u]=d<<26-o|f>>>o,d=f&a}return c&&0!==d&&(c.words[c.length++]=d),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o=e.length+n;this._expand(o);var s,a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var c=(0|e.words[i])*t;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,s=0|o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,c=n.length-o.length;if("mod"!==t){(a=new i(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var d=n.clone()._ishlnsubmul(o,1,c);0===d.negative&&(n=d,a&&(a.words[c]=1));for(var f=c-1;f>=0;f--){var l=67108864*(0|n.words[o.length+f])+(0|n.words[o.length+f-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(o,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var o,s,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),c=new i(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var d=n.clone(),f=t.clone();!t.isZero();){for(var l=0,h=1;!(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(d),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(d),c.isub(f)),a.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a),s.isub(c)):(n.isub(t),a.isub(o),c.isub(s))}return{a:a,b:c,gcd:n.iushln(u)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t,n=this,o=e.clone();n=0!==n.negative?n.umod(e):n.clone();for(var s=new i(1),a=new i(0),c=o.clone();n.cmpn(1)>0&&o.cmpn(1)>0;){for(var u=0,d=1;!(n.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(n.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,l=1;!(o.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(o.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);n.cmp(o)>=0?(n.isub(o),s.isub(a)):(o.isub(n),a.isub(s))}return(t=0===n.cmpn(1)?s:a).cmpn(0)<0&&t.iadd(e),t},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return!(1&this.words[0])},i.prototype.isOdd=function(){return!(1&~this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new k(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},n(w,v),w.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(_,v),n(S,v),n(E,v),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new _;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return g[e]=t,t},k.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){r(!(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(u(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);0!==this.pow(d,u).cmp(c);)d.redIAdd(c);for(var f=this.pow(d,o),l=this.pow(e,o.addn(1).iushrn(1)),h=this.pow(e,o),p=s;0!==h.cmp(a);){for(var y=h,m=0;0!==y.cmp(a);m++)y=y.redSqr();r(m<p);var b=this.pow(f,new i(1).iushln(p-m-1));l=l.redMul(b),f=b.redSqr(),h=h.redMul(f),p=m}return l},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],d=c-1;d>=0;d--){var f=u>>d&1;(o!==r[0]&&(o=this.sqr(o)),0!==f||0!==s)?(s<<=1,s|=f,(4===++a||0===n&&0===d)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}c=26}return o},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new A(e)},n(A,k),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,ar)}(dd);var fd=dd.exports;const ld=cr(fd);var hd,pd,yd,md,bd,gd={exports:{}};function vd(){if(hd)return gd.exports;var e;function t(e){this.rand=e}if(hd=1,gd.exports=function(r){return e||(e=new t(null)),e.generate(r)},gd.exports.Rand=t,t.prototype.generate=function(e){return this._rand(e)},t.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=Ah();if("function"!=typeof r.randomBytes)throw new Error("Not supported");t.prototype._rand=function(e){return r.randomBytes(e)}}catch{}return gd.exports}function wd(){if(yd)return pd;yd=1;var e=fd,t=vd();function r(e){this.rand=e||new t.Rand}return pd=r,r.create=function(e){return new r(e)},r.prototype._randbelow=function(t){var r=t.bitLength(),n=Math.ceil(r/8);do{var i=new e(this.rand.generate(n))}while(i.cmp(t)>=0);return i},r.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},r.prototype.test=function(t,r,n){var i=t.bitLength(),o=e.mont(t),s=new e(1).toRed(o);r||(r=Math.max(1,i/48|0));for(var a=t.subn(1),c=0;!a.testn(c);c++);for(var u=t.shrn(c),d=a.toRed(o);r>0;r--){var f=this._randrange(new e(2),a);n&&n(f);var l=f.toRed(o).redPow(u);if(0!==l.cmp(s)&&0!==l.cmp(d)){for(var h=1;h<c;h++){if(0===(l=l.redSqr()).cmp(s))return!1;if(0===l.cmp(d))break}if(h===c)return!1}}return!0},r.prototype.getDivisor=function(t,r){var n=t.bitLength(),i=e.mont(t),o=new e(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var s=t.subn(1),a=0;!s.testn(a);a++);for(var c=t.shrn(a),u=s.toRed(i);r>0;r--){var d=this._randrange(new e(2),s),f=t.gcd(d);if(0!==f.cmpn(1))return f;var l=d.toRed(i).redPow(c);if(0!==l.cmp(o)&&0!==l.cmp(u)){for(var h=1;h<a;h++){if(0===(l=l.redSqr()).cmp(o))return l.fromRed().subn(1).gcd(t);if(0===l.cmp(u))break}if(h===a)return(l=l.redSqr()).fromRed().subn(1).gcd(t)}}return!1},pd}function _d(){if(bd)return md;bd=1;var e=fi();md=p,p.simpleSieve=l,p.fermatTest=h;var t=fd,r=new t(24),n=new(wd()),i=new t(1),o=new t(2),s=new t(5);new t(16),new t(8);var a=new t(10),c=new t(3);new t(7);var u=new t(11),d=new t(4);new t(12);var f=null;function l(e){for(var t=function(){if(null!==f)return f;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return f=e,e}(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function h(e){var r=t.mont(e);return 0===o.toRed(r).redPow(e.subn(1)).fromRed().cmpn(1)}function p(f,p){if(f<16)return new t(2===p||5===p?[140,123]:[140,39]);p=new t(p);for(var y,m;;){for(y=new t(e(Math.ceil(f/8)));y.bitLength()>f;)y.ishrn(1);if(y.isEven()&&y.iadd(i),y.testn(1)||y.iadd(o),p.cmp(o)){if(!p.cmp(s))for(;y.mod(a).cmp(c);)y.iadd(d)}else for(;y.mod(r).cmp(u);)y.iadd(d);if(l(m=y.shrn(1))&&l(y)&&h(m)&&h(y)&&n.test(m)&&n.test(y))return y}}return md}const Sd={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}};var Ed,kd,Ad;function xd(){if(kd)return Ed;kd=1;var e=fd,t=new(wd()),r=new e(24),n=new e(11),i=new e(10),o=new e(3),s=new e(7),a=_d(),c=fi();function u(t,r){return r=r||"utf8",Hn.isBuffer(t)||(t=new Hn(t,r)),this._pub=new e(t),this}function d(t,r){return r=r||"utf8",Hn.isBuffer(t)||(t=new Hn(t,r)),this._priv=new e(t),this}Ed=l;var f={};function l(t,r,n){this.setGenerator(r),this.__prime=new e(t),this._prime=e.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=u,this.setPrivateKey=d):this._primeCode=8}function h(e,t){var r=new Hn(e.toArray());return t?r.toString(t):r}return Object.defineProperty(l.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,c){var u=c.toString("hex"),d=[u,e.toString(16)].join("_");if(d in f)return f[d];var l,h=0;if(e.isEven()||!a.simpleSieve||!a.fermatTest(e)||!t.test(e))return h+=1,h+="02"===u||"05"===u?8:4,f[d]=h,h;switch(t.test(e.shrn(1))||(h+=2),u){case"02":e.mod(r).cmp(n)&&(h+=8);break;case"05":(l=e.mod(i)).cmp(o)&&l.cmp(s)&&(h+=8);break;default:h+=4}return f[d]=h,h}(this.__prime,this.__gen)),this._primeCode}}),l.prototype.generateKeys=function(){return this._priv||(this._priv=new e(c(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},l.prototype.computeSecret=function(t){var r=(t=(t=new e(t)).toRed(this._prime)).redPow(this._priv).fromRed(),n=new Hn(r.toArray()),i=this.getPrime();if(n.length<i.length){var o=new Hn(i.length-n.length);o.fill(0),n=Hn.concat([o,n])}return n},l.prototype.getPublicKey=function(e){return h(this._pub,e)},l.prototype.getPrivateKey=function(e){return h(this._priv,e)},l.prototype.getPrime=function(e){return h(this.__prime,e)},l.prototype.getGenerator=function(e){return h(this._gen,e)},l.prototype.setGenerator=function(t,r){return r=r||"utf8",Hn.isBuffer(t)||(t=new Hn(t,r)),this.__gen=t,this._gen=new e(t),this},Ed}var Id,Td,Od={exports:{}};function Pd(){if(Td)return Id;Td=1;var e=fd,t=fi();function r(r){var n,i=r.modulus.byteLength();do{n=new e(t(i))}while(n.cmp(r.modulus)>=0||!n.umod(r.prime1)||!n.umod(r.prime2));return n}function n(t,n){var i=function(t){var n=r(t);return{blinder:n.toRed(e.mont(t.modulus)).redPow(new e(t.publicExponent)).fromRed(),unblinder:n.invm(t.modulus)}}(n),o=n.modulus.byteLength(),s=new e(t).mul(i.blinder).umod(n.modulus),a=s.toRed(e.mont(n.prime1)),c=s.toRed(e.mont(n.prime2)),u=n.coefficient,d=n.prime1,f=n.prime2,l=a.redPow(n.exponent1).fromRed(),h=c.redPow(n.exponent2).fromRed(),p=l.isub(h).imul(u).umod(d).imul(f);return h.iadd(p).imul(i.unblinder).umod(n.modulus).toArrayLike(Hn,"be",o)}return n.getr=r,Id=n}var Md={};const Rd={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}};var Bd,Ud,Nd={},jd={};function Cd(){return Bd||(Bd=1,function(e){var t=e;function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}(jd)),jd}function Ld(){return Ud||(Ud=1,function(e){var t=e,r=fd,n=Jc,i=Cd();t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode,t.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,c=o.andln(i-1);o.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),1&c?s=3!==(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c:s=0,r[0].push(s),1&u?a=3!==(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u:a=0,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new r(e,"hex","le")}}(Nd)),Nd}var Dd,Fd,Wd,zd,qd,Vd,Kd,Zd,Hd,Gd={};function Jd(){if(Fd)return Dd;Fd=1;var e=fd,t=Ld(),r=t.getNAF,n=t.getJSF,i=t.assert;function o(t,r){this.type=t,this.p=new e(r.p,16),this.red=r.prime?e.red(r.prime):e.mont(this.p),this.zero=new e(0).toRed(this.red),this.one=new e(1).toRed(this.red),this.two=new e(2).toRed(this.red),this.n=r.n&&new e(r.n,16),this.g=r.g&&this.pointFromJSON(r.g,r.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function s(e,t){this.curve=e,this.type=t,this.precomputed=null}return Dd=o,o.prototype.point=function(){throw new Error("Not implemented")},o.prototype.validate=function(){throw new Error("Not implemented")},o.prototype._fixedNafMul=function(e,t){i(e.precomputed);var n=e._getDoubles(),o=r(t,1,this._bitLength),s=(1<<n.step+1)-(n.step%2==0?2:1);s/=3;var a,c,u=[];for(a=0;a<o.length;a+=n.step){c=0;for(var d=a+n.step-1;d>=a;d--)c=(c<<1)+o[d];u.push(c)}for(var f=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<u.length;a++)(c=u[a])===h?l=l.mixedAdd(n.points[a]):c===-h&&(l=l.mixedAdd(n.points[a].neg()));f=f.add(l)}return f.toP()},o.prototype._wnafMul=function(e,t){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var s=o.points,a=r(t,n,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var d=0;u>=0&&0===a[u];u--)d++;if(u>=0&&d++,c=c.dblp(d),u<0)break;var f=a[u];i(0!==f),c="affine"===e.type?f>0?c.mixedAdd(s[f-1>>1]):c.mixedAdd(s[-f-1>>1].neg()):f>0?c.add(s[f-1>>1]):c.add(s[-f-1>>1].neg())}return"affine"===e.type?c.toP():c},o.prototype._wnafMulAdd=function(e,t,i,o,s){var a,c,u,d=this._wnafT1,f=this._wnafT2,l=this._wnafT3,h=0;for(a=0;a<o;a++){var p=(u=t[a])._getNAFPoints(e);d[a]=p.wnd,f[a]=p.points}for(a=o-1;a>=1;a-=2){var y=a-1,m=a;if(1===d[y]&&1===d[m]){var b=[t[y],null,null,t[m]];0===t[y].y.cmp(t[m].y)?(b[1]=t[y].add(t[m]),b[2]=t[y].toJ().mixedAdd(t[m].neg())):0===t[y].y.cmp(t[m].y.redNeg())?(b[1]=t[y].toJ().mixedAdd(t[m]),b[2]=t[y].add(t[m].neg())):(b[1]=t[y].toJ().mixedAdd(t[m]),b[2]=t[y].toJ().mixedAdd(t[m].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=n(i[y],i[m]);for(h=Math.max(v[0].length,h),l[y]=new Array(h),l[m]=new Array(h),c=0;c<h;c++){var w=0|v[0][c],_=0|v[1][c];l[y][c]=g[3*(w+1)+(_+1)],l[m][c]=0,f[y]=b}}else l[y]=r(i[y],d[y],this._bitLength),l[m]=r(i[m],d[m],this._bitLength),h=Math.max(l[y].length,h),h=Math.max(l[m].length,h)}var S=this.jpoint(null,null,null),E=this._wnafT4;for(a=h;a>=0;a--){for(var k=0;a>=0;){var A=!0;for(c=0;c<o;c++)E[c]=0|l[c][a],0!==E[c]&&(A=!1);if(!A)break;k++,a--}if(a>=0&&k++,S=S.dblp(k),a<0)break;for(c=0;c<o;c++){var x=E[c];0!==x&&(x>0?u=f[c][x-1>>1]:x<0&&(u=f[c][-x-1>>1].neg()),S="affine"===u.type?S.mixedAdd(u):S.add(u))}}for(a=0;a<o;a++)f[a]=null;return s?S:S.toP()},o.BasePoint=s,s.prototype.eq=function(){throw new Error("Not implemented")},s.prototype.validate=function(){return this.curve.validate(this)},o.prototype.decodePoint=function(e,r){e=t.toArray(e,r);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?i(e[e.length-1]%2==0):7===e[0]&&i(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},s.prototype.encodeCompressed=function(e){return this.encode(e,!0)},s.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},s.prototype.encode=function(e,r){return t.encode(this._encode(r),e)},s.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},s.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},s.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},s.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},s.prototype._getBeta=function(){return null},s.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t},Dd}function Qd(){return Hd||(Hd=1,function(e){var t=e;t.base=Jd(),t.short=function(){if(zd)return Wd;zd=1;var e=Ld(),t=fd,r=pi,n=Jd(),i=e.assert;function o(e){n.call(this,"short",e),this.a=new t(e.a,16).toRed(this.red),this.b=new t(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function s(e,r,i,o){n.BasePoint.call(this,e,"affine"),null===r&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new t(r,16),this.y=new t(i,16),o&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function a(e,r,i,o){n.BasePoint.call(this,e,"jacobian"),null===r&&null===i&&null===o?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t(0)):(this.x=new t(r,16),this.y=new t(i,16),this.z=new t(o,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return r(o,n),Wd=o,o.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var r,n;if(e.beta)r=new t(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);r=(r=o[0].cmp(o[1])<0?o[0]:o[1]).toRed(this.red)}if(e.lambda)n=new t(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))?n=s[0]:(n=s[1],i(0===this.g.mul(n).x.cmp(this.g.x.redMul(r))))}return{beta:r,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new t(e.a,16),b:new t(e.b,16)}})):this._getEndoBasis(n)}}},o.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:t.mont(e),n=new t(2).toRed(r).redInvm(),i=n.redNeg(),o=new t(3).toRed(r).redNeg().redSqrt().redMul(n);return[i.redAdd(o).fromRed(),i.redSub(o).fromRed()]},o.prototype._getEndoBasis=function(e){for(var r,n,i,o,s,a,c,u,d,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),p=new t(1),y=new t(0),m=new t(0),b=new t(1),g=0;0!==l.cmpn(0);){var v=h.div(l);u=h.sub(v.mul(l)),d=m.sub(v.mul(p));var w=b.sub(v.mul(y));if(!i&&u.cmp(f)<0)r=c.neg(),n=p,i=u.neg(),o=d;else if(i&&2==++g)break;c=u,h=l,l=u,m=p,p=d,b=y,y=w}s=u.neg(),a=d;var _=i.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=r,a=n),i.negative&&(i=i.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:i,b:o},{a:s,b:a}]},o.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:c.add(u).neg()}},o.prototype.pointFromX=function(e,r){(e=new t(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(0!==i.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)},o.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},o.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*o]=a,n[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),d=0;d<2*o;d++)n[d]=null,i[d]=null;return u},r(s,n.BasePoint),o.prototype.point=function(e,t,r){return new s(this,e,t,r)},o.prototype.pointFromJSON=function(e,t){return s.fromJSON(this,e,t)},s.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},s.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},s.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.inf},s.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},s.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},s.prototype.getX=function(){return this.x.fromRed()},s.prototype.getY=function(){return this.y.fromRed()},s.prototype.mul=function(e){return e=new t(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},s.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},s.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},s.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},s.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},s.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},r(a,n.BasePoint),o.prototype.jpoint=function(e,t,r){return new a(this,e,t,r)},a.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},a.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},a.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),d=u.redMul(a),f=n.redMul(u),l=c.redSqr().redIAdd(d).redISub(f).redISub(f),h=c.redMul(f.redISub(l)).redISub(o.redMul(d)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(l,h,p)},a.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),d=r.redMul(c),f=a.redSqr().redIAdd(u).redISub(d).redISub(d),l=a.redMul(d.redISub(f)).redISub(i.redMul(u)),h=this.z.redMul(s);return this.curve.jpoint(f,l,h)},a.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var d=o.redSqr(),f=u.redSqr(),l=f.redSqr(),h=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(c)),p=o.redMul(f),y=h.redSqr().redISub(p.redAdd(p)),m=p.redISub(y),b=h.redMul(m);b=b.redIAdd(b).redISub(l);var g=u.redMul(a);t+1<e&&(c=c.redMul(l)),o=y,a=g,u=b}return this.curve.jpoint(o,u.redMul(i),a)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},a.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(d).redISub(l);h=h.redIAdd(h);var p=d.redAdd(d).redIAdd(d),y=p.redSqr(),m=l.redIAdd(l);m=(m=m.redIAdd(m)).redIAdd(m),e=y.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},a.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),h=this.x.redSub(d).redMul(this.x.redAdd(d));h=h.redAdd(h).redIAdd(h);var p=l.redIAdd(l),y=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(d);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=h.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},a.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),d=a.redSqr().redISub(u.redAdd(u)),f=u.redISub(d),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=a.redMul(f).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(d,h,p)},a.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),d=t.redMul(u);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.x.redMul(a).redISub(d);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,l,h)},a.prototype.mul=function(e,r){return e=new t(e,r),this.curve._wnafMul(this,e)},a.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},a.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},a.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},a.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Wd}(),t.mont=function(){if(Vd)return qd;Vd=1;var e=fd,t=pi,r=Jd(),n=Ld();function i(t){r.call(this,"mont",t),this.a=new e(t.a,16).toRed(this.red),this.b=new e(t.b,16).toRed(this.red),this.i4=new e(4).toRed(this.red).redInvm(),this.two=new e(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function o(t,n,i){r.BasePoint.call(this,t,"projective"),null===n&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new e(n,16),this.z=new e(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return t(i,r),qd=i,i.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},t(o,r.BasePoint),i.prototype.decodePoint=function(e,t){return this.point(n.toArray(e,t),1)},i.prototype.point=function(e,t){return new o(this,e,t)},i.prototype.pointFromJSON=function(e){return o.fromJSON(this,e)},o.prototype.precompute=function(){},o.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},o.fromJSON=function(e,t){return new o(e,t[0],t[1]||e.one)},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},o.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},o.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),c=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,c)},o.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},o.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},o.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},qd}(),t.edwards=function(){if(Zd)return Kd;Zd=1;var e=Ld(),t=fd,r=pi,n=Jd(),i=e.assert;function o(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,n.call(this,"edwards",e),this.a=new t(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new t(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new t(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function s(e,r,i,o,s){n.BasePoint.call(this,e,"projective"),null===r&&null===i&&null===o?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new t(r,16),this.y=new t(i,16),this.z=o?new t(o,16):this.curve.one,this.t=s&&new t(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return r(o,n),Kd=o,o.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},o.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},o.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},o.prototype.pointFromX=function(e,r){(e=new t(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(r&&!c||!r&&c)&&(a=a.redNeg()),this.point(e,a)},o.prototype.pointFromY=function(e,r){(e=new t(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)},o.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},r(s,n.BasePoint),o.prototype.pointFromJSON=function(e){return s.fromJSON(this,e)},o.prototype.point=function(e,t,r,n){return new s(this,e,t,r,n)},s.fromJSON=function(e,t){return new s(e,t[0],t[1],t[2])},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},s.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),c=i.redMul(s),u=o.redMul(a),d=i.redMul(a),f=s.redMul(o);return this.curve.point(c,u,f,d)},s.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(a)).redAdd(c);this.zOne?(e=s.redSub(a).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=s.redSub(a).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},s.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},s.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),c=r.redAdd(t),u=o.redMul(s),d=a.redMul(c),f=o.redMul(c),l=s.redMul(a);return this.curve.point(u,d,l,f)},s.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),c=i.redSub(a),u=i.redAdd(a),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),f=n.redMul(c).redMul(d);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,r)},s.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},s.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},s.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},s.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},s.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},s.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},s.prototype.getY=function(){return this.normalize(),this.y.fromRed()},s.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},s.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},s.prototype.toP=s.prototype.normalize,s.prototype.mixedAdd=s.prototype.add,Kd}()}(Gd)),Gd}var Yd,Xd={},$d={},ef={};function tf(){if(Yd)return ef;Yd=1;var e=Jc,t=pi;function r(e,t){return!(55296!=(64512&e.charCodeAt(t))||t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function n(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function i(e){return 1===e.length?"0"+e:e}function o(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}return ef.inherits=t,ef.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),o=0;o<e.length;o+=2)n.push(parseInt(e[o]+e[o+1],16))}else for(var i=0,o=0;o<e.length;o++){var s=e.charCodeAt(o);s<128?n[i++]=s:s<2048?(n[i++]=s>>6|192,n[i++]=63&s|128):r(e,o)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++o)),n[i++]=s>>18|240,n[i++]=s>>12&63|128,n[i++]=s>>6&63|128,n[i++]=63&s|128):(n[i++]=s>>12|224,n[i++]=s>>6&63|128,n[i++]=63&s|128)}else for(o=0;o<e.length;o++)n[o]=0|e[o];return n},ef.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t},ef.htonl=n,ef.toHex32=function(e,t){for(var r="",i=0;i<e.length;i++){var s=e[i];"little"===t&&(s=n(s)),r+=o(s.toString(16))}return r},ef.zero2=i,ef.zero8=o,ef.join32=function(t,r,n,i){var o=n-r;e(o%4==0);for(var s=new Array(o/4),a=0,c=r;a<s.length;a++,c+=4){var u;u="big"===i?t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],s[a]=u>>>0}return s},ef.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},ef.rotr32=function(e,t){return e>>>t|e<<32-t},ef.rotl32=function(e,t){return e<<t|e>>>32-t},ef.sum32=function(e,t){return e+t>>>0},ef.sum32_3=function(e,t,r){return e+t+r>>>0},ef.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},ef.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},ef.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},ef.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},ef.sum64_lo=function(e,t,r,n){return t+n>>>0},ef.sum64_4_hi=function(e,t,r,n,i,o,s,a){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},ef.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},ef.sum64_5_hi=function(e,t,r,n,i,o,s,a,c,u){var d=0,f=t;return d+=(f=f+n>>>0)<t?1:0,d+=(f=f+o>>>0)<o?1:0,d+=(f=f+a>>>0)<a?1:0,e+r+i+s+c+(d+=(f=f+u>>>0)<u?1:0)>>>0},ef.sum64_5_lo=function(e,t,r,n,i,o,s,a,c,u){return t+n+o+a+u>>>0},ef.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},ef.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},ef.shr64_hi=function(e,t,r){return e>>>r},ef.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},ef}var rf,nf={};function of(){if(rf)return nf;rf=1;var e=tf(),t=Jc;function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return nf.BlockHash=r,r.prototype.update=function(t,r){if(t=e.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=e.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},r.prototype.digest=function(e){return this.update(this._pad()),t(null===this.pending),this._digest(e)},r.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n},nf}var sf,af,cf,uf,df,ff,lf,hf,pf,yf,mf,bf,gf={},vf={};function wf(){if(sf)return vf;sf=1;var e=tf().rotr32;function t(e,t,r){return e&t^~e&r}function r(e,t,r){return e&t^e&r^t&r}function n(e,t,r){return e^t^r}return vf.ft_1=function(e,i,o,s){return 0===e?t(i,o,s):1===e||3===e?n(i,o,s):2===e?r(i,o,s):void 0},vf.ch32=t,vf.maj32=r,vf.p32=n,vf.s0_256=function(t){return e(t,2)^e(t,13)^e(t,22)},vf.s1_256=function(t){return e(t,6)^e(t,11)^e(t,25)},vf.g0_256=function(t){return e(t,7)^e(t,18)^t>>>3},vf.g1_256=function(t){return e(t,17)^e(t,19)^t>>>10},vf}function _f(){if(df)return uf;df=1;var e=tf(),t=of(),r=wf(),n=Jc,i=e.sum32,o=e.sum32_4,s=e.sum32_5,a=r.ch32,c=r.maj32,u=r.s0_256,d=r.s1_256,f=r.g0_256,l=r.g1_256,h=t.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}return e.inherits(y,h),uf=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var r=this.W,h=0;h<16;h++)r[h]=e[t+h];for(;h<r.length;h++)r[h]=o(l(r[h-2]),r[h-7],f(r[h-15]),r[h-16]);var p=this.h[0],y=this.h[1],m=this.h[2],b=this.h[3],g=this.h[4],v=this.h[5],w=this.h[6],_=this.h[7];for(n(this.k.length===r.length),h=0;h<r.length;h++){var S=s(_,d(g),a(g,v,w),this.k[h],r[h]),E=i(u(p),c(p,y,m));_=w,w=v,v=g,g=i(b,S),b=m,m=y,y=p,p=i(S,E)}this.h[0]=i(this.h[0],p),this.h[1]=i(this.h[1],y),this.h[2]=i(this.h[2],m),this.h[3]=i(this.h[3],b),this.h[4]=i(this.h[4],g),this.h[5]=i(this.h[5],v),this.h[6]=i(this.h[6],w),this.h[7]=i(this.h[7],_)},y.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"big"):e.split32(this.h,"big")},uf}function Sf(){if(pf)return hf;pf=1;var e=tf(),t=of(),r=Jc,n=e.rotr64_hi,i=e.rotr64_lo,o=e.shr64_hi,s=e.shr64_lo,a=e.sum64,c=e.sum64_hi,u=e.sum64_lo,d=e.sum64_4_hi,f=e.sum64_4_lo,l=e.sum64_5_hi,h=e.sum64_5_lo,p=t.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m(){if(!(this instanceof m))return new m;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function b(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function g(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function v(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function w(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function _(e,t){var r=n(e,t,28)^n(t,e,2)^n(t,e,7);return r<0&&(r+=4294967296),r}function S(e,t){var r=i(e,t,28)^i(t,e,2)^i(t,e,7);return r<0&&(r+=4294967296),r}function E(e,t){var r=n(e,t,14)^n(e,t,18)^n(t,e,9);return r<0&&(r+=4294967296),r}function k(e,t){var r=i(e,t,14)^i(e,t,18)^i(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=n(e,t,1)^n(e,t,8)^o(e,t,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=i(e,t,1)^i(e,t,8)^s(e,t,7);return r<0&&(r+=4294967296),r}function I(e,t){var r=n(e,t,19)^n(t,e,29)^o(e,t,6);return r<0&&(r+=4294967296),r}function T(e,t){var r=i(e,t,19)^i(t,e,29)^s(e,t,6);return r<0&&(r+=4294967296),r}return e.inherits(m,p),hf=m,m.blockSize=1024,m.outSize=512,m.hmacStrength=192,m.padLength=128,m.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=I(r[n-4],r[n-3]),o=T(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],c=A(r[n-30],r[n-29]),u=x(r[n-30],r[n-29]),l=r[n-32],h=r[n-31];r[n]=d(i,o,s,a,c,u,l,h),r[n+1]=f(i,o,s,a,c,u,l,h)}},m.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],o=this.h[1],s=this.h[2],d=this.h[3],f=this.h[4],p=this.h[5],y=this.h[6],m=this.h[7],A=this.h[8],x=this.h[9],I=this.h[10],T=this.h[11],O=this.h[12],P=this.h[13],M=this.h[14],R=this.h[15];r(this.k.length===n.length);for(var B=0;B<n.length;B+=2){var U=M,N=R,j=E(A,x),C=k(A,x),L=b(A,x,I,T,O),D=g(A,x,I,T,O,P),F=this.k[B],W=this.k[B+1],z=n[B],q=n[B+1],V=l(U,N,j,C,L,D,F,W,z,q),K=h(U,N,j,C,L,D,F,W,z,q);U=_(i,o),N=S(i,o),j=v(i,o,s,d,f),C=w(i,o,s,d,f,p);var Z=c(U,N,j,C),H=u(U,N,j,C);M=O,R=P,O=I,P=T,I=A,T=x,A=c(y,m,V,K),x=u(m,m,V,K),y=f,m=p,f=s,p=d,s=i,d=o,i=c(V,K,Z,H),o=u(V,K,Z,H)}a(this.h,0,i,o),a(this.h,2,s,d),a(this.h,4,f,p),a(this.h,6,y,m),a(this.h,8,A,x),a(this.h,10,I,T),a(this.h,12,O,P),a(this.h,14,M,R)},m.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"big"):e.split32(this.h,"big")},hf}function Ef(){return bf||(bf=1,gf.sha1=function(){if(cf)return af;cf=1;var e=tf(),t=of(),r=wf(),n=e.rotl32,i=e.sum32,o=e.sum32_5,s=r.ft_1,a=t.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(u,a),af=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.W,a=0;a<16;a++)r[a]=e[t+a];for(;a<r.length;a++)r[a]=n(r[a-3]^r[a-8]^r[a-14]^r[a-16],1);var u=this.h[0],d=this.h[1],f=this.h[2],l=this.h[3],h=this.h[4];for(a=0;a<r.length;a++){var p=~~(a/20),y=o(n(u,5),s(p,d,f,l),h,r[a],c[p]);h=l,l=f,f=n(d,30),d=u,u=y}this.h[0]=i(this.h[0],u),this.h[1]=i(this.h[1],d),this.h[2]=i(this.h[2],f),this.h[3]=i(this.h[3],l),this.h[4]=i(this.h[4],h)},u.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"big"):e.split32(this.h,"big")},af}(),gf.sha224=function(){if(lf)return ff;lf=1;var e=tf(),t=_f();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),ff=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},ff}(),gf.sha256=_f(),gf.sha384=function(){if(mf)return yf;mf=1;var e=tf(),t=Sf();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),yf=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},yf}(),gf.sha512=Sf()),gf}var kf,Af,xf,If,Tf,Of,Pf,Mf,Rf,Bf,Uf,Nf,jf,Cf,Lf,Df,Ff,Wf,zf,qf,Vf,Kf,Zf={};function Hf(){return If||(If=1,function(e){var t=e;t.utils=tf(),t.common=of(),t.sha=Ef(),t.ripemd=function(){if(kf)return Zf;kf=1;var e=tf(),t=of(),r=e.rotl32,n=e.sum32,i=e.sum32_3,o=e.sum32_4,s=t.BlockHash;function a(){if(!(this instanceof a))return new a;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function c(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function u(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}e.inherits(a,s),Zf.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(e,t){for(var s=this.h[0],a=this.h[1],p=this.h[2],y=this.h[3],m=this.h[4],b=s,g=a,v=p,w=y,_=m,S=0;S<80;S++){var E=n(r(o(s,c(S,a,p,y),e[d[S]+t],(k=S)<=15?0:k<=31?1518500249:k<=47?1859775393:k<=63?2400959708:2840853838),l[S]),m);s=m,m=y,y=r(p,10),p=a,a=E,E=n(r(o(b,c(79-S,g,v,w),e[f[S]+t],u(S)),h[S]),_),b=_,_=w,w=r(v,10),v=g,g=E}var k;E=i(this.h[1],p,w),this.h[1]=i(this.h[2],y,_),this.h[2]=i(this.h[3],m,b),this.h[3]=i(this.h[4],s,g),this.h[4]=i(this.h[0],a,v),this.h[0]=E},a.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"little"):e.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Zf}(),t.hmac=function(){if(xf)return Af;xf=1;var e=tf(),t=Jc;function r(t,n,i){if(!(this instanceof r))return new r(t,n,i);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(n,i))}return Af=r,r.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),t(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=(new this.Hash).update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=(new this.Hash).update(e)},r.prototype.update=function(e,t){return this.inner.update(e,t),this},r.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},Af}(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}($d)),$d}function Gf(){return Pf||(Pf=1,function(e){var t,r=e,n=Hf(),i=Qd(),o=Ld().assert;function s(e){"short"===e.type?this.curve=new i.short(e):"edwards"===e.type?this.curve=new i.edwards(e):this.curve=new i.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new s(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{Of||(Of=1,Tf={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),t=Tf}catch{t=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}(Xd)),Xd}function Jf(){if(Lf)return Cf;Lf=1;var e=fd,t=function(){if(Rf)return Mf;Rf=1;var e=Hf(),t=Cd(),r=Jc;function n(e){if(!(this instanceof n))return new n(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var i=t.toArray(e.entropy,e.entropyEnc||"hex"),o=t.toArray(e.nonce,e.nonceEnc||"hex"),s=t.toArray(e.pers,e.persEnc||"hex");r(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(i,o,s)}return Mf=n,n.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new e.hmac(this.hash,this.K)},n.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(e,n,i,o){"string"!=typeof n&&(o=i,i=n,n=null),e=t.toArray(e,n),i=t.toArray(i,o),r(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},n.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof r&&(i=n,n=r,r=null),n&&(n=t.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,t.encode(s,r)},Mf}(),r=Ld(),n=Gf(),i=vd(),o=r.assert,s=function(){if(Uf)return Bf;Uf=1;var e=fd,t=Ld().assert;function r(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}return Bf=r,r.fromPublic=function(e,t,n){return t instanceof r?t:new r(e,{pub:t,pubEnc:n})},r.fromPrivate=function(e,t,n){return t instanceof r?t:new r(e,{priv:t,privEnc:n})},r.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},r.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(t,r){this.priv=new e(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(e,r){if(e.x||e.y)return"mont"===this.ec.curve.type?t(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&t(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,r)},r.prototype.derive=function(e){return e.validate()||t(e.validate(),"public point not validated"),e.mul(this.priv).getX()},r.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},r.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},Bf}(),a=function(){if(jf)return Nf;jf=1;var e=fd,t=Ld(),r=t.assert;function n(t,i){if(t instanceof n)return t;this._importDER(t,i)||(r(t.r&&t.s,"Signature without r or s"),this.r=new e(t.r,16),this.s=new e(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function i(){this.place=0}function o(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function s(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function a(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}return Nf=n,n.prototype._importDER=function(r,n){r=t.toArray(r,n);var s=new i;if(48!==r[s.place++])return!1;var a=o(r,s);if(!1===a||a+s.place!==r.length||2!==r[s.place++])return!1;var c=o(r,s);if(!1===c)return!1;var u=r.slice(s.place,c+s.place);if(s.place+=c,2!==r[s.place++])return!1;var d=o(r,s);if(!1===d||r.length!==d+s.place)return!1;var f=r.slice(s.place,d+s.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new e(u),this.s=new e(f),this.recoveryParam=null,!0},n.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&n[0]&&(n=[0].concat(n)),r=s(r),n=s(n);!(n[0]||128&n[1]);)n=n.slice(1);var i=[2];a(i,r.length),(i=i.concat(r)).push(2),a(i,n.length);var o=i.concat(n),c=[48];return a(c,o.length),c=c.concat(o),t.encode(c,e)},Nf}();function c(e){if(!(this instanceof c))return new c(e);"string"==typeof e&&(o(Object.prototype.hasOwnProperty.call(n,e),"Unknown curve "+e),e=n[e]),e instanceof n.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}return Cf=c,c.prototype.keyPair=function(e){return new s(this,e)},c.prototype.keyFromPrivate=function(e,t){return s.fromPrivate(this,e,t)},c.prototype.keyFromPublic=function(e,t){return s.fromPublic(this,e,t)},c.prototype.genKeyPair=function(r){r||(r={});for(var n=new t({hash:this.hash,pers:r.pers,persEnc:r.persEnc||"utf8",entropy:r.entropy||i(this.hash.hmacStrength),entropyEnc:r.entropy&&r.entropyEnc||"utf8",nonce:this.n.toArray()}),o=this.n.byteLength(),s=this.n.sub(new e(2));;){var a=new e(n.generate(o));if(!(a.cmp(s)>0))return a.iaddn(1),this.keyFromPrivate(a)}},c.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},c.prototype.sign=function(r,n,i,o){"object"==typeof i&&(o=i,i=null),o||(o={}),n=this.keyFromPrivate(n,i),r=this._truncateToN(new e(r,16));for(var s=this.n.byteLength(),c=n.getPrivate().toArray("be",s),u=r.toArray("be",s),d=new t({hash:this.hash,entropy:c,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new e(1)),l=0;;l++){var h=o.k?o.k(l):new e(d.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(f)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var y=p.getX(),m=y.umod(this.n);if(0!==m.cmpn(0)){var b=h.invm(this.n).mul(m.mul(n.getPrivate()).iadd(r));if(0!==(b=b.umod(this.n)).cmpn(0)){var g=(p.getY().isOdd()?1:0)|(0!==y.cmp(m)?2:0);return o.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),g^=1),new a({r:m,s:b,recoveryParam:g})}}}}}},c.prototype.verify=function(t,r,n,i){t=this._truncateToN(new e(t,16)),n=this.keyFromPublic(n,i);var o=(r=new a(r,"hex")).r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var c,u=s.invm(this.n),d=u.mul(t).umod(this.n),f=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(c=this.g.jmulAdd(d,n.getPublic(),f)).isInfinity()&&c.eqXToP(o):!(c=this.g.mulAdd(d,n.getPublic(),f)).isInfinity()&&0===c.getX().umod(this.n).cmp(o)},c.prototype.recoverPubKey=function(t,r,n,i){o((3&n)===n,"The recovery param is more than two bits"),r=new a(r,i);var s=this.n,c=new e(t),u=r.r,d=r.s,f=1&n,l=n>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");u=l?this.curve.pointFromX(u.add(this.curve.n),f):this.curve.pointFromX(u,f);var h=r.r.invm(s),p=s.sub(c).mul(h).umod(s),y=d.mul(h).umod(s);return this.g.mulAdd(p,u,y)},c.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new a(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")},Cf}function Qf(){if(Vf)return qf;Vf=1;var e=Hf(),t=Gf(),r=Ld(),n=r.assert,i=r.parseBytes,o=function(){if(Ff)return Df;Ff=1;var e=Ld(),t=e.assert,r=e.parseBytes,n=e.cachedProperty;function i(e,t){this.eddsa=e,this._secret=r(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=r(t.pub)}return i.fromPublic=function(e,t){return t instanceof i?t:new i(e,{pub:t})},i.fromSecret=function(e,t){return t instanceof i?t:new i(e,{secret:t})},i.prototype.secret=function(){return this._secret},n(i,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),n(i,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),n(i,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),n(i,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),n(i,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),n(i,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),i.prototype.sign=function(e){return t(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},i.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},i.prototype.getSecret=function(r){return t(this._secret,"KeyPair is public only"),e.encode(this.secret(),r)},i.prototype.getPublic=function(t){return e.encode(this.pubBytes(),t)},Df=i}(),s=function(){if(zf)return Wf;zf=1;var e=fd,t=Ld(),r=t.assert,n=t.cachedProperty,i=t.parseBytes;function o(t,n){this.eddsa=t,"object"!=typeof n&&(n=i(n)),Array.isArray(n)&&(n={R:n.slice(0,t.encodingLength),S:n.slice(t.encodingLength)}),r(n.R&&n.S,"Signature without R or S"),t.isPoint(n.R)&&(this._R=n.R),n.S instanceof e&&(this._S=n.S),this._Rencoded=Array.isArray(n.R)?n.R:n.Rencoded,this._Sencoded=Array.isArray(n.S)?n.S:n.Sencoded}return n(o,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),n(o,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),n(o,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),n(o,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),o.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},o.prototype.toHex=function(){return t.encode(this.toBytes(),"hex").toUpperCase()},Wf=o}();function a(r){if(n("ed25519"===r,"only tested with ed25519 so far"),!(this instanceof a))return new a(r);r=t[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=e.sha512}return qf=a,a.prototype.sign=function(e,t){e=i(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),o=this.g.mul(n),s=this.encodePoint(o),a=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:o,S:c,Rencoded:s})},a.prototype.verify=function(e,t,r){e=i(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),o=this.hashInt(t.Rencoded(),n.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(n.pub().mul(o)).eq(s)},a.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return r.intFromLE(e.digest()).umod(this.curve.n)},a.prototype.keyFromPublic=function(e){return o.fromPublic(this,e)},a.prototype.keyFromSecret=function(e){return o.fromSecret(this,e)},a.prototype.makeSignature=function(e){return e instanceof s?e:new s(this,e)},a.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},a.prototype.decodePoint=function(e){var t=(e=r.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),i=!!(128&e[t]),o=r.intFromLE(n);return this.curve.pointFromY(o,i)},a.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},a.prototype.decodeInt=function(e){return r.intFromLE(e)},a.prototype.isPoint=function(e){return e instanceof this.pointClass},qf}function Yf(){return Kf||(Kf=1,function(e){var t=e;t.version=Rd.version,t.utils=Ld(),t.rand=vd(),t.curve=Qd(),t.curves=Gf(),t.ec=Jf(),t.eddsa=Qf()}(Md)),Md}var Xf,$f,el={},tl={},rl={},nl={};function il(){if($f)return Xf;$f=1;var e,t=Gn,r=t.Buffer,n={};for(e in t)t.hasOwnProperty(e)&&("SlowBuffer"===e||"Buffer"===e||(n[e]=t[e]));var i=n.Buffer={};for(e in r)r.hasOwnProperty(e)&&("allocUnsafe"===e||"allocUnsafeSlow"===e||(i[e]=r[e]));if(n.Buffer.prototype=r.prototype,(!i.from||i.from===Uint8Array.from)&&(i.from=function(e,t,n){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&typeof e.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return r(e,t,n)}),i.alloc||(i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var i=r(e);return t&&0!==t.length?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i}),!n.kStringMaxLength)try{n.kStringMaxLength=I.binding("buffer").kStringMaxLength}catch{}return n.constants||(n.constants={MAX_LENGTH:n.kMaxLength},n.kStringMaxLength&&(n.constants.MAX_STRING_LENGTH=n.kStringMaxLength)),Xf=n}var ol,sl={};function al(){if(ol)return sl;ol=1;const e=pi;function t(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function r(e,t){this.path=e,this.rethrow(t)}return sl.Reporter=t,t.prototype.isError=function(e){return e instanceof r},t.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},t.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},t.prototype.enterKey=function(e){return this._reporterState.path.push(e)},t.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},t.prototype.leaveKey=function(e,t,r){const n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},t.prototype.path=function(){return this._reporterState.path.join("/")},t.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},t.prototype.leaveObject=function(e){const t=this._reporterState,r=t.obj;return t.obj=e,r},t.prototype.error=function(e){let t;const n=this._reporterState,i=e instanceof r;if(t=i?e:new r(n.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!n.options.partial)throw t;return i||n.errors.push(t),t},t.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},e(r,Error),r.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,r),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this},sl}var cl,ul,dl,fl={};function ll(){if(cl)return fl;cl=1;const e=pi,t=al().Reporter,r=il().Buffer;function n(e,n){t.call(this,n),r.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function i(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return i.isEncoderBuffer(e)||(e=new i(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=r.byteLength(e);else{if(!r.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}return e(n,t),fl.DecoderBuffer=n,n.isDecoderBuffer=function(e){return e instanceof n||"object"==typeof e&&r.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},n.prototype.save=function(){return{offset:this.offset,reporter:t.prototype.save.call(this)}},n.prototype.restore=function(e){const r=new n(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,t.prototype.restore.call(this,e.reporter),r},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},n.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const r=new n(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},n.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},fl.EncoderBuffer=i,i.isEncoderBuffer=function(e){return e instanceof i||"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},i.prototype.join=function(e,t){return e||(e=r.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):r.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e},fl}function hl(){if(dl)return ul;dl=1;const e=al().Reporter,t=ll().EncoderBuffer,r=ll().DecoderBuffer,n=Jc,i=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],o=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(i);function s(e,t,r){const n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}ul=s;const a=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return s.prototype.clone=function(){const e=this._baseState,t={};a.forEach((function(r){t[r]=e[r]}));const r=new this.constructor(t.parent);return r._baseState=t,r},s.prototype._wrap=function(){const e=this._baseState;o.forEach((function(t){this[t]=function(){const r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},s.prototype._init=function(e){const t=this._baseState;n(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),n.equal(t.children.length,1,"Root node can have only one child")},s.prototype._useArgs=function(e){const t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(n(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(n(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);const n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){s.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),i.forEach((function(e){s.prototype[e]=function(){const t=this._baseState,r=Array.prototype.slice.call(arguments);return n(null===t.tag),t.tag=e,this._useArgs(r),this}})),s.prototype.use=function(e){n(e);const t=this._baseState;return n(null===t.use),t.use=e,this},s.prototype.optional=function(){return this._baseState.optional=!0,this},s.prototype.def=function(e){const t=this._baseState;return n(null===t.default),t.default=e,t.optional=!0,this},s.prototype.explicit=function(e){const t=this._baseState;return n(null===t.explicit&&null===t.implicit),t.explicit=e,this},s.prototype.implicit=function(e){const t=this._baseState;return n(null===t.explicit&&null===t.implicit),t.implicit=e,this},s.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},s.prototype.key=function(e){const t=this._baseState;return n(null===t.key),t.key=e,this},s.prototype.any=function(){return this._baseState.any=!0,this},s.prototype.choice=function(e){const t=this._baseState;return n(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},s.prototype.contains=function(e){const t=this._baseState;return n(null===t.use),t.contains=e,this},s.prototype._decode=function(e,t){const n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));let i,o=n.default,s=!0,a=null;if(null!==n.key&&(a=e.enterKey(n.key)),n.optional){let r=null;if(null!==n.explicit?r=n.explicit:null!==n.implicit?r=n.implicit:null!==n.tag&&(r=n.tag),null!==r||n.any){if(s=this._peekTag(e,r,n.any),e.isError(s))return s}else{const r=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),s=!0}catch{s=!1}e.restore(r)}}if(n.obj&&s&&(i=e.enterObject()),s){if(null!==n.explicit){const t=this._decodeTag(e,n.explicit);if(e.isError(t))return t;e=t}const i=e.offset;if(null===n.use&&null===n.choice){let t;n.any&&(t=e.save());const r=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(r))return r;n.any?o=e.raw(t):e=r}if(t&&t.track&&null!==n.tag&&t.track(e.path(),i,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),n.any||(o=null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t)),e.isError(o))return o;if(!n.any&&null===n.choice&&null!==n.children&&n.children.forEach((function(r){r._decode(e,t)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){const i=new r(o);o=this._getUse(n.contains,e._reporterState.obj)._decode(i,t)}}return n.obj&&s&&(o=e.leaveObject(i)),null===n.key||null===o&&!0!==s?null!==a&&e.exitKey(a):e.leaveKey(a,n.key,o),o},s.prototype._decodeGeneric=function(e,t,r){const n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},s.prototype._getUse=function(e,t){const r=this._baseState;return r.useDecoder=this._use(e,t),n(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},s.prototype._decodeChoice=function(e,t){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some((function(o){const s=e.save(),a=r.choice[o];try{const r=a._decode(e,t);if(e.isError(r))return!1;n={type:o,value:r},i=!0}catch{return e.restore(s),!1}return!0}),this),i?n:e.error("Choice not matched")},s.prototype._createEncoderBuffer=function(e){return new t(e,this.reporter)},s.prototype._encode=function(e,t,r){const n=this._baseState;if(null!==n.default&&n.default===e)return;const i=this._encodeValue(e,t,r);return void 0===i||this._skipDefault(i,t,r)?void 0:i},s.prototype._encodeValue=function(t,r,n){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,r||new e);let o=null;if(this.reporter=r,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,r);else if(i.contains)s=this._getUse(i.contains,n)._encode(t,r),a=!0;else if(i.children)s=i.children.map((function(e){if("null_"===e._baseState.tag)return e._encode(null,r,t);if(null===e._baseState.key)return r.error("Child should have a key");const n=r.enterKey(e._baseState.key);if("object"!=typeof t)return r.error("Child expected, but input is not object");const i=e._encode(t[e._baseState.key],r,t);return r.leaveKey(n),i}),this).filter((function(e){return e})),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return r.error("Too many args for : "+i.tag);if(!Array.isArray(t))return r.error("seqof/setof, but data is not Array");const e=this.clone();e._baseState.implicit=null,s=this._createEncoderBuffer(t.map((function(e){const n=this._baseState;return this._getUse(n.args[0],t)._encode(e,r)}),e))}else null!==i.use?o=this._getUse(i.use,n)._encode(t,r):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const e=null!==i.implicit?i.implicit:i.tag,t=null===i.implicit?"universal":"context";null===e?null===i.use&&r.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(e,a,t,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},s.prototype._encodeChoice=function(e,t){const r=this._baseState,i=r.choice[e.type];return i||n(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),i._encode(e.value,t)},s.prototype._encodePrimitive=function(e,t){const r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},s.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},s.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)},ul}var pl,yl,ml,bl,gl,vl,wl={};function _l(){return pl||(pl=1,function(e){function t(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t(e.tag)}(wl)),wl}function Sl(){if(ml)return yl;ml=1;const e=pi,t=il().Buffer,r=hl(),n=_l();function i(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new o,this.tree._init(e.body)}function o(e){r.call(this,"der",e)}function s(e){return e<10?"0"+e:e}return yl=i,i.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},e(o,r),o.prototype._encodeComposite=function(e,r,i,o){const s=function(e,t,r,i){let o;if("seqof"===e?e="seq":"setof"===e&&(e="set"),n.tagByName.hasOwnProperty(e))o=n.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return i.error("Unknown tag: "+e);o=e}return o>=31?i.error("Multi-octet tag encoding unsupported"):(t||(o|=32),o|=n.tagClassByName[r||"universal"]<<6,o)}(e,r,i,this.reporter);if(o.length<128){const e=t.alloc(2);return e[0]=s,e[1]=o.length,this._createEncoderBuffer([e,o])}let a=1;for(let e=o.length;e>=256;e>>=8)a++;const c=t.alloc(2+a);c[0]=s,c[1]=128|a;for(let e=1+a,t=o.length;t>0;e--,t>>=8)c[e]=255&t;return this._createEncoderBuffer([c,o])},o.prototype._encodeStr=function(e,r){if("bitstr"===r)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===r){const r=t.alloc(2*e.length);for(let t=0;t<e.length;t++)r.writeUInt16BE(e.charCodeAt(t),2*t);return this._createEncoderBuffer(r)}return"numstr"===r?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===r?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)||"objDesc"===r?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")},o.prototype._encodeObjid=function(e,r,n){if("string"==typeof e){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let i=0;for(let t=0;t<e.length;t++){let r=e[t];for(i++;r>=128;r>>=7)i++}const o=t.alloc(i);let s=o.length-1;for(let t=e.length-1;t>=0;t--){let r=e[t];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},o.prototype._encodeTime=function(e,t){let r;const n=new Date(e);return"gentime"===t?r=[s(n.getUTCFullYear()),s(n.getUTCMonth()+1),s(n.getUTCDate()),s(n.getUTCHours()),s(n.getUTCMinutes()),s(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[s(n.getUTCFullYear()%100),s(n.getUTCMonth()+1),s(n.getUTCDate()),s(n.getUTCHours()),s(n.getUTCMinutes()),s(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},o.prototype._encodeNull=function(){return this._createEncoderBuffer("")},o.prototype._encodeInt=function(e,r){if("string"==typeof e){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if("number"!=typeof e&&!t.isBuffer(e)){const r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=t.from(r)}if(t.isBuffer(e)){let r=e.length;0===e.length&&r++;const n=t.alloc(r);return e.copy(n),0===e.length&&(n[0]=0),this._createEncoderBuffer(n)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let t=e;t>=256;t>>=8)n++;const i=new Array(n);for(let t=i.length-1;t>=0;t--)i[t]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(t.from(i))},o.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},o.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},o.prototype._skipDefault=function(e,t,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0},yl}function El(){return vl||(vl=1,function(e){const t=e;t.der=Sl(),t.pem=function(){if(gl)return bl;gl=1;const e=pi,t=Sl();function r(e){t.call(this,e),this.enc="pem"}return e(r,t),bl=r,r.prototype.encode=function(e,r){const n=t.prototype.encode.call(this,e).toString("base64"),i=["-----BEGIN "+r.label+"-----"];for(let e=0;e<n.length;e+=64)i.push(n.slice(e,e+64));return i.push("-----END "+r.label+"-----"),i.join("\n")},bl}()}(nl)),nl}var kl,Al,xl,Il,Tl,Ol,Pl={};function Ml(){if(Al)return kl;Al=1;const e=pi,t=fd,r=ll().DecoderBuffer,n=hl(),i=_l();function o(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new s,this.tree._init(e.body)}function s(e){n.call(this,"der",e)}function a(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;const n=i.tagClass[r>>6],o=!(32&r);if(31&~r)r&=31;else{let n=r;for(r=0;!(128&~n);){if(n=e.readUInt8(t),e.isError(n))return n;r<<=7,r|=127&n}}return{cls:n,primitive:o,tag:r,tagStr:i.tag[r]}}function c(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(!(128&n))return n;const i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(let t=0;t<i;t++){n<<=8;const t=e.readUInt8(r);if(e.isError(t))return t;n|=t}return n}return kl=o,o.prototype.decode=function(e,t){return r.isDecoderBuffer(e)||(e=new r(e,t)),this.tree._decode(e,t)},e(s,n),s.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;const n=e.save(),i=a(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},s.prototype._decodeTag=function(e,t,r){const n=a(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;let i=c(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');const o=e.save(),s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(s)?s:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},s.prototype._skipUntilEnd=function(e,t){for(;;){const r=a(e,t);if(e.isError(r))return r;const n=c(e,r.primitive,t);if(e.isError(n))return n;let i;if(i=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===r.tagStr)break}},s.prototype._decodeList=function(e,t,r,n){const i=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const o=r.decode(e,"der",n);if(e.isError(o)&&t)break;i.push(o)}return i},s.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let r="";for(let e=0;e<t.length/2;e++)r+=String.fromCharCode(t.readUInt16BE(2*e));return r}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},s.prototype._decodeObjid=function(e,t,r){let n;const i=[];let o=0,s=0;for(;!e.isEmpty();)s=e.readUInt8(),o<<=7,o|=127&s,128&s||(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,c=i[0]%40;if(n=r?i:[a,c].concat(i.slice(1)),t){let e=t[n.join(" ")];void 0===e&&(e=t[n.join(".")]),void 0!==e&&(n=e)}return n},s.prototype._decodeTime=function(e,t){const r=e.raw().toString();let n,i,o,s,a,c;if("gentime"===t)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),c=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,c,0)},s.prototype._decodeNull=function(){return null},s.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},s.prototype._decodeInt=function(e,r){const n=e.raw();let i=new t(n);return r&&(i=r[i.toString(10)]||i),i},s.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree},kl}function Rl(){return Tl||(Tl=1,function(e){const t=e;t.der=Ml(),t.pem=function(){if(Il)return xl;Il=1;const e=pi,t=il().Buffer,r=Ml();function n(e){r.call(this,e),this.enc="pem"}return e(n,r),xl=n,n.prototype.decode=function(e,n){const i=e.toString().split(/[\r\n]+/g),o=n.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,c=-1;for(let e=0;e<i.length;e++){const t=i[e].match(s);if(null!==t&&t[2]===o){if(-1!==a){if("END"!==t[1])break;c=e;break}if("BEGIN"!==t[1])break;a=e}}if(-1===a||-1===c)throw new Error("PEM section not found for: "+o);const u=i.slice(a+1,c).join("");u.replace(/[^a-z0-9+/=]+/gi,"");const d=t.from(u,"base64");return r.prototype.decode.call(this,d,n)},xl}()}(Pl)),Pl}var Bl,Ul={};var Nl,jl,Cl,Ll,Dl,Fl={};function Wl(){return jl||(jl=1,function(e){const t=e;t.bignum=fd,t.define=(Ol||(Ol=1,function(e){const t=El(),r=Rl(),n=pi;function i(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}e.define=function(e,t){return new i(e,t)},i.prototype._createNamed=function(e){const t=this.name;function r(e){this._initNamed(e,t)}return n(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},i.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r[e])),this.decoders[e]},i.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},i.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(t[e])),this.encoders[e]},i.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}}(rl)),rl).define,t.base=(Bl||(Bl=1,function(e){const t=e;t.Reporter=al().Reporter,t.DecoderBuffer=ll().DecoderBuffer,t.EncoderBuffer=ll().EncoderBuffer,t.Node=hl()}(Ul)),Ul),t.constants=(Nl||(Nl=1,function(e){const t=e;t._reverse=function(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t},t.der=_l()}(Fl)),Fl),t.decoders=Rl(),t.encoders=El()}(tl)),tl}function zl(){if(Dl)return el;Dl=1;var e=Wl();el.certificate=function(){if(Ll)return Cl;Ll=1;var e=Wl(),t=e.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),r=e.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),n=e.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),i=e.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())})),o=e.define("RelativeDistinguishedName",(function(){this.setof(r)})),s=e.define("RDNSequence",(function(){this.seqof(o)})),a=e.define("Name",(function(){this.choice({rdnSequence:this.use(s)})})),c=e.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(t),this.key("notAfter").use(t))})),u=e.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=e.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(n),this.key("issuer").use(a),this.key("validity").use(c),this.key("subject").use(a),this.key("subjectPublicKeyInfo").use(i),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(u).optional())})),f=e.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(n),this.key("signatureValue").bitstr())}));return Cl=f}();var t=e.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));el.RSAPrivateKey=t;var r=e.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));el.RSAPublicKey=r;var n=e.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())}));el.PublicKey=n;var i=e.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),o=e.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(i),this.key("subjectPrivateKey").octstr())}));el.PrivateKey=o;var s=e.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));el.EncryptedPrivateKey=s;var a=e.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));el.DSAPrivateKey=a,el.DSAparam=e.define("DSAparam",(function(){this.int()}));var c=e.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(u),this.key("publicKey").optional().explicit(1).bitstr())}));el.ECPrivateKey=c;var u=e.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));return el.signature=e.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())})),el}const ql={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var Vl,Kl,Zl,Hl;function Gl(){if(Hl)return Zl;Hl=1;var e=zl(),t=ql,r=function(){if(Kl)return Vl;Kl=1;var e=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,t=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,n=$u(),i=id(),o=di.Buffer;return Vl=function(s,a){var c,u=s.toString(),d=u.match(e);if(d){var f="aes"+d[1],l=o.from(d[2],"hex"),h=o.from(d[3].replace(/[\r\n]/g,""),"base64"),p=n(a,l.slice(0,8),parseInt(d[1],10)).key,y=[],m=i.createDecipheriv(f,p,l);y.push(m.update(h)),y.push(m.final()),c=o.concat(y)}else{var b=u.match(r);c=o.from(b[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(t)[1],data:c}}}(),n=id(),i=Dc(),o=di.Buffer;function s(s){var a;"object"==typeof s&&!o.isBuffer(s)&&(a=s.passphrase,s=s.key),"string"==typeof s&&(s=o.from(s));var c,u,d=r(s,a),f=d.tag,l=d.data;switch(f){case"CERTIFICATE":u=e.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=e.PublicKey.decode(l,"der")),c=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return e.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=e.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+c)}case"ENCRYPTED PRIVATE KEY":l=function(e,r){var s=e.algorithm.decrypt.kde.kdeparams.salt,a=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),c=t[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,d=e.subjectPrivateKey,f=parseInt(c.split("-")[1],10)/8,l=i.pbkdf2Sync(r,s,a,f,"sha1"),h=n.createDecipheriv(c,l,u),p=[];return p.push(h.update(d)),p.push(h.final()),o.concat(p)}(l=e.EncryptedPrivateKey.decode(l,"der"),a);case"PRIVATE KEY":switch(c=(u=e.PrivateKey.decode(l,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return e.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:e.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=e.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+c)}case"RSA PUBLIC KEY":return e.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return e.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:e.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return{curve:(l=e.ECPrivateKey.decode(l,"der")).parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+f)}}return Zl=s,s.signature=e.signature,Zl}const Jl={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var Ql,Yl,Xl,$l,eh,th,rh;function nh(){if(Ql)return Od.exports;Ql=1;var e=di.Buffer,t=bc,r=Pd(),n=Yf().ec,i=fd,o=Gl(),s=Jl;function a(r,n,i,o){if((r=e.from(r.toArray())).length<n.byteLength()){var s=e.alloc(n.byteLength()-r.length);r=e.concat([s,r])}var a=i.length,u=function(t,r){t=c(t,r),t=t.mod(r);var n=e.from(t.toArray());if(n.length<r.byteLength()){var i=e.alloc(r.byteLength()-n.length);n=e.concat([i,n])}return n}(i,n),d=e.alloc(a);d.fill(1);var f=e.alloc(a);return f=t(o,f).update(d).update(e.from([0])).update(r).update(u).digest(),d=t(o,f).update(d).digest(),{k:f=t(o,f).update(d).update(e.from([1])).update(r).update(u).digest(),v:d=t(o,f).update(d).digest()}}function c(e,t){var r=new i(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function u(r,n,i){var o,s;do{for(o=e.alloc(0);8*o.length<r.bitLength();)n.v=t(i,n.k).update(n.v).digest(),o=e.concat([o,n.v]);s=c(o,r),n.k=t(i,n.k).update(n.v).update(e.from([0])).digest(),n.v=t(i,n.k).update(n.v).digest()}while(-1!==s.cmp(r));return s}function d(e,t,r,n){return e.toRed(i.mont(r)).redPow(t).fromRed().mod(n)}return Od.exports=function(t,f,l,h,p){var y=o(f);if(y.curve){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");return function(t,r){var i=s[r.curve.join(".")];if(!i)throw new Error("unknown curve "+r.curve.join("."));var o=new n(i),a=o.keyFromPrivate(r.privateKey),c=a.sign(t);return e.from(c.toDER())}(t,y)}if("dsa"===y.type){if("dsa"!==h)throw new Error("wrong private key type");return function(t,r,n){for(var o,s=r.params.priv_key,f=r.params.p,l=r.params.q,h=r.params.g,p=new i(0),y=c(t,l).mod(l),m=!1,b=a(s,l,t,n);!1===m;)o=u(l,b,n),p=d(h,o,f,l),0===(m=o.invm(l).imul(y.add(s.mul(p))).mod(l)).cmpn(0)&&(m=!1,p=new i(0));return function(t,r){t=t.toArray(),r=r.toArray(),128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r));var n=t.length+r.length+4,i=[48,n,2,t.length];return i=i.concat(t,[2,r.length],r),e.from(i)}(p,m)}(t,y,l)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");if(void 0!==f.padding&&1!==f.padding)throw new Error("illegal or unsupported padding mode");t=e.concat([p,t]);for(var m=y.modulus.byteLength(),b=[0,1];t.length+b.length+1<m;)b.push(255);b.push(0);for(var g=-1;++g<t.length;)b.push(t[g]);return r(b,y)},Od.exports.getKey=a,Od.exports.makeKey=u,Od.exports}function ih(){if(Xl)return Yl;Xl=1;var e=di.Buffer,t=fd,r=Yf().ec,n=Gl(),i=Jl;function o(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=0)throw new Error("invalid sig")}return Yl=function(s,a,c,u,d){var f=n(c);if("ec"===f.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,n){var o=i[n.data.algorithm.curve.join(".")];if(!o)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var s=new r(o),a=n.data.subjectPrivateKey.data;return s.verify(t,e,a)}(s,a,f)}if("dsa"===f.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,r,i){var s=i.data.p,a=i.data.q,c=i.data.g,u=i.data.pub_key,d=n.signature.decode(e,"der"),f=d.s,l=d.r;o(f,a),o(l,a);var h=t.mont(s),p=f.invm(a),y=c.toRed(h).redPow(new t(r).mul(p).mod(a)).fromRed().mul(u.toRed(h).redPow(l.mul(p).mod(a)).fromRed()).mod(s).mod(a);return 0===y.cmp(l)}(s,a,f)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");a=e.concat([d,a]);for(var l=f.modulus.byteLength(),h=[1],p=0;a.length+h.length+2<l;)h.push(255),p+=1;h.push(0);for(var y=-1;++y<a.length;)h.push(a[y]);h=e.from(h);var m=t.mont(f.modulus);s=(s=new t(s).toRed(m)).redPow(new t(f.publicExponent)),s=e.from(s.fromRed().toArray());var b=p<8?1:0;for(l=Math.min(s.length,h.length),s.length!==h.length&&(b=1),y=-1;++y<l;)b|=s[y]^h[y];return 0===b}}var oh,sh,ah,ch,uh,dh,fh,lh,hh,ph,yh,mh={};function bh(){if(sh)return oh;sh=1;var e=$a(),t=di.Buffer;function r(e){var r=t.allocUnsafe(4);return r.writeUInt32BE(e,0),r}return oh=function(n,i){for(var o,s=t.alloc(0),a=0;s.length<i;)o=r(a++),s=t.concat([s,e("sha1").update(n).update(o).digest()]);return s.slice(0,i)}}function gh(){return ch||(ch=1,ah=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}),ah}function vh(){if(dh)return uh;dh=1;var e=fd,t=di.Buffer;return uh=function(r,n){return t.from(r.toRed(e.mont(n.modulus)).redPow(new e(n.publicExponent)).fromRed().toArray())}}function wh(){if(lh)return fh;lh=1;var e=Gl(),t=fi(),r=$a(),n=bh(),i=gh(),o=fd,s=vh(),a=Pd(),c=di.Buffer;return fh=function(u,d,f){var l;l=u.padding?u.padding:f?1:4;var h,p=e(u);if(4===l)h=function(e,s){var a=e.modulus.byteLength(),u=s.length,d=r("sha1").update(c.alloc(0)).digest(),f=d.length,l=2*f;if(u>a-l-2)throw new Error("message too long");var h=c.alloc(a-u-l-2),p=a-f-1,y=t(f),m=i(c.concat([d,h,c.alloc(1,1),s],p),n(y,p)),b=i(y,n(m,f));return new o(c.concat([c.alloc(1),b,m],a))}(p,d);else if(1===l)h=function(e,r,n){var i,s=r.length,a=e.modulus.byteLength();if(s>a-11)throw new Error("message too long");return i=n?c.alloc(a-s-3,255):function(e){for(var r,n=c.allocUnsafe(e),i=0,o=t(2*e),s=0;i<e;)s===o.length&&(o=t(2*e),s=0),(r=o[s++])&&(n[i++]=r);return n}(a-s-3),new o(c.concat([c.from([0,n?1:2]),i,c.alloc(1),r],a))}(p,d,f);else{if(3!==l)throw new Error("unknown padding");if((h=new o(d)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return f?a(h,p):s(h,p)}}function _h(){if(ph)return hh;ph=1;var e=Gl(),t=bh(),r=gh(),n=fd,i=Pd(),o=$a(),s=vh(),a=di.Buffer;return hh=function(c,u,d){var f;f=c.padding?c.padding:d?1:4;var l,h=e(c),p=h.modulus.byteLength();if(u.length>p||new n(u).cmp(h.modulus)>=0)throw new Error("decryption error");l=d?s(new n(u),h):i(u,h);var y=a.alloc(p-l.length);if(l=a.concat([y,l],p),4===f)return function(e,n){var i=e.modulus.byteLength(),s=o("sha1").update(a.alloc(0)).digest(),c=s.length;if(0!==n[0])throw new Error("decryption error");var u=n.slice(1,c+1),d=n.slice(c+1),f=r(u,t(d,c)),l=r(d,t(f,i-c-1));if(function(e,t){e=a.from(e),t=a.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));for(var i=-1;++i<n;)r+=e[i]^t[i];return r}(s,l.slice(0,c)))throw new Error("decryption error");for(var h=c;0===l[h];)h++;if(1!==l[h++])throw new Error("decryption error");return l.slice(h)}(h,l);if(1===f)return function(e,t,r){for(var n=t.slice(0,2),i=2,o=0;0!==t[i++];)if(i>=t.length){o++;break}var s=t.slice(2,i-1);if(("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return t.slice(i)}(0,l,d);if(3===f)return l;throw new Error("unknown padding")}}var Sh,Eh,kh={};function Ah(){if(Eh)return si;Eh=1,si.randomBytes=si.rng=si.pseudoRandomBytes=si.prng=fi(),si.createHash=si.Hash=$a(),si.createHmac=si.Hmac=bc;var e=(_c||(_c=1,wc=vc),wc),t=Object.keys(e),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(t);si.getHashes=function(){return r};var n=Dc();si.pbkdf2=n.pbkdf2,si.pbkdf2Sync=n.pbkdf2Sync;var i=cd();si.Cipher=i.Cipher,si.createCipher=i.createCipher,si.Cipheriv=i.Cipheriv,si.createCipheriv=i.createCipheriv,si.Decipher=i.Decipher,si.createDecipher=i.createDecipher,si.Decipheriv=i.Decipheriv,si.createDecipheriv=i.createDecipheriv,si.getCiphers=i.getCiphers,si.listCiphers=i.listCiphers;var o=function(){if(Ad)return ud;Ad=1;var e=_d(),t=Sd,r=xd(),n={binary:!0,hex:!0,base64:!0};return ud.DiffieHellmanGroup=ud.createDiffieHellmanGroup=ud.getDiffieHellman=function(e){var n=new Hn(t[e].prime,"hex"),i=new Hn(t[e].gen,"hex");return new r(n,i)},ud.createDiffieHellman=ud.DiffieHellman=function t(i,o,s,a){return Hn.isBuffer(o)||void 0===n[o]?t(i,"binary",o,s):(o=o||"binary",a=a||"binary",s=s||new Hn([2]),Hn.isBuffer(s)||(s=new Hn(s,a)),"number"==typeof i?new r(e(i,s),s,!0):(Hn.isBuffer(i)||(i=new Hn(i,o)),new r(i,s,!0)))},ud}();si.DiffieHellmanGroup=o.DiffieHellmanGroup,si.createDiffieHellmanGroup=o.createDiffieHellmanGroup,si.getDiffieHellman=o.getDiffieHellman,si.createDiffieHellman=o.createDiffieHellman,si.DiffieHellman=o.DiffieHellman;var s=function(){if(eh)return $l;eh=1;var e=di.Buffer,t=$a(),r=Ho,n=pi,i=nh(),o=ih(),s=vc;function a(e){r.Writable.call(this);var n=s[e];if(!n)throw new Error("Unknown message digest");this._hashType=n.hash,this._hash=t(n.hash),this._tag=n.id,this._signType=n.sign}function c(e){r.Writable.call(this);var n=s[e];if(!n)throw new Error("Unknown message digest");this._hash=t(n.hash),this._tag=n.id,this._signType=n.sign}function u(e){return new a(e)}function d(e){return new c(e)}return Object.keys(s).forEach((function(t){s[t].id=e.from(s[t].id,"hex"),s[t.toLowerCase()]=s[t]})),n(a,r.Writable),a.prototype._write=function(e,t,r){this._hash.update(e),r()},a.prototype.update=function(t,r){return this._hash.update("string"==typeof t?e.from(t,r):t),this},a.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=i(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},n(c,r.Writable),c.prototype._write=function(e,t,r){this._hash.update(e),r()},c.prototype.update=function(t,r){return this._hash.update("string"==typeof t?e.from(t,r):t),this},c.prototype.verify=function(t,r,n){var i="string"==typeof r?e.from(r,n):r;this.end();var s=this._hash.digest();return o(i,s,t,this._signType,this._tag)},$l={Sign:u,Verify:d,createSign:u,createVerify:d}}();si.createSign=s.createSign,si.Sign=s.Sign,si.createVerify=s.createVerify,si.Verify=s.Verify,si.createECDH=function(){if(rh)return th;rh=1;var e=Yf(),t=fd;th=function(e){return new n(e)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function n(t){this.curveType=r[t],this.curveType||(this.curveType={name:t}),this.curve=new e.ec(this.curveType.name),this.keys=void 0}function i(e,t,r){Array.isArray(e)||(e=e.toArray());var n=new Hn(e);if(r&&n.length<r){var i=new Hn(r-n.length);i.fill(0),n=Hn.concat([i,n])}return t?n.toString(t):n}return r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1,n.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},n.prototype.computeSecret=function(e,t,r){return t=t||"utf8",Hn.isBuffer(e)||(e=new Hn(e,t)),i(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},n.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),i(r,e)},n.prototype.getPrivateKey=function(e){return i(this.keys.getPrivate(),e)},n.prototype.setPublicKey=function(e,t){return t=t||"utf8",Hn.isBuffer(e)||(e=new Hn(e,t)),this.keys._importPublic(e),this},n.prototype.setPrivateKey=function(e,r){r=r||"utf8",Hn.isBuffer(e)||(e=new Hn(e,r));var n=new t(e);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this},th}();var a=(yh||(yh=1,function(e){e.publicEncrypt=wh(),e.privateDecrypt=_h(),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}}(mh)),mh);si.publicEncrypt=a.publicEncrypt,si.privateEncrypt=a.privateEncrypt,si.publicDecrypt=a.publicDecrypt,si.privateDecrypt=a.privateDecrypt;var c=function(){if(Sh)return kh;function e(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}Sh=1;var t=di,r=fi(),n=t.Buffer,i=t.kMaxLength,o=ar.crypto||ar.msCrypto,s=Math.pow(2,32)-1;function a(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>s||e<0)throw new TypeError("offset must be a uint32");if(e>i||e>t)throw new RangeError("offset out of range")}function c(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>s||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>i)throw new RangeError("buffer too small")}function u(e,t,n,i){if(I.browser){var s=e.buffer,a=new Uint8Array(s,t,n);return o.getRandomValues(a),i?void I.nextTick((function(){i(null,e)})):e}if(!i)return r(n).copy(e,t),e;r(n,(function(r,n){if(r)return i(r);n.copy(e,t),i(null,e)}))}return o&&o.getRandomValues||!I.browser?(kh.randomFill=function(e,t,r,i){if(!(n.isBuffer(e)||e instanceof ar.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)i=t,t=0,r=e.length;else if("function"==typeof r)i=r,r=e.length-t;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return a(t,e.length),c(r,t,e.length),u(e,t,r,i)},kh.randomFillSync=function(e,t,r){if(typeof t>"u"&&(t=0),!(n.isBuffer(e)||e instanceof ar.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return a(t,e.length),void 0===r&&(r=e.length-t),c(r,t,e.length),u(e,t,r)}):(kh.randomFill=e,kh.randomFillSync=e),kh}();return si.randomFill=c.randomFill,si.randomFillSync=c.randomFillSync,si.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},si.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},si}!function(e){!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=t(),s=t([1]),a=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),l=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function p(e,t,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^r[n+o];return(1&s-1>>>8)-1}function y(e,t,r,n){return p(e,t,r,n,16)}function m(e,t,r,n){return p(e,t,r,n,32)}function b(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,d=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=o,S=s,E=a,k=c,A=u,x=d,I=f,T=l,O=h,P=p,M=y,R=m,B=b,U=g,N=v,j=w,C=0;C<20;C+=2)_^=(i=(B^=(i=(O^=(i=(A^=(i=_+B|0)<<7|i>>>25)+_|0)<<9|i>>>23)+A|0)<<13|i>>>19)+O|0)<<18|i>>>14,x^=(i=(S^=(i=(U^=(i=(P^=(i=x+S|0)<<7|i>>>25)+x|0)<<9|i>>>23)+P|0)<<13|i>>>19)+U|0)<<18|i>>>14,M^=(i=(I^=(i=(E^=(i=(N^=(i=M+I|0)<<7|i>>>25)+M|0)<<9|i>>>23)+N|0)<<13|i>>>19)+E|0)<<18|i>>>14,j^=(i=(R^=(i=(T^=(i=(k^=(i=j+R|0)<<7|i>>>25)+j|0)<<9|i>>>23)+k|0)<<13|i>>>19)+T|0)<<18|i>>>14,_^=(i=(k^=(i=(E^=(i=(S^=(i=_+k|0)<<7|i>>>25)+_|0)<<9|i>>>23)+S|0)<<13|i>>>19)+E|0)<<18|i>>>14,x^=(i=(A^=(i=(T^=(i=(I^=(i=x+A|0)<<7|i>>>25)+x|0)<<9|i>>>23)+I|0)<<13|i>>>19)+T|0)<<18|i>>>14,M^=(i=(P^=(i=(O^=(i=(R^=(i=M+P|0)<<7|i>>>25)+M|0)<<9|i>>>23)+R|0)<<13|i>>>19)+O|0)<<18|i>>>14,j^=(i=(N^=(i=(U^=(i=(B^=(i=j+N|0)<<7|i>>>25)+j|0)<<9|i>>>23)+B|0)<<13|i>>>19)+U|0)<<18|i>>>14;_=_+o|0,S=S+s|0,E=E+a|0,k=k+c|0,A=A+u|0,x=x+d|0,I=I+f|0,T=T+l|0,O=O+h|0,P=P+p|0,M=M+y|0,R=R+m|0,B=B+b|0,U=U+g|0,N=N+v|0,j=j+w|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=S>>>0&255,e[5]=S>>>8&255,e[6]=S>>>16&255,e[7]=S>>>24&255,e[8]=E>>>0&255,e[9]=E>>>8&255,e[10]=E>>>16&255,e[11]=E>>>24&255,e[12]=k>>>0&255,e[13]=k>>>8&255,e[14]=k>>>16&255,e[15]=k>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=x>>>0&255,e[21]=x>>>8&255,e[22]=x>>>16&255,e[23]=x>>>24&255,e[24]=I>>>0&255,e[25]=I>>>8&255,e[26]=I>>>16&255,e[27]=I>>>24&255,e[28]=T>>>0&255,e[29]=T>>>8&255,e[30]=T>>>16&255,e[31]=T>>>24&255,e[32]=O>>>0&255,e[33]=O>>>8&255,e[34]=O>>>16&255,e[35]=O>>>24&255,e[36]=P>>>0&255,e[37]=P>>>8&255,e[38]=P>>>16&255,e[39]=P>>>24&255,e[40]=M>>>0&255,e[41]=M>>>8&255,e[42]=M>>>16&255,e[43]=M>>>24&255,e[44]=R>>>0&255,e[45]=R>>>8&255,e[46]=R>>>16&255,e[47]=R>>>24&255,e[48]=B>>>0&255,e[49]=B>>>8&255,e[50]=B>>>16&255,e[51]=B>>>24&255,e[52]=U>>>0&255,e[53]=U>>>8&255,e[54]=U>>>16&255,e[55]=U>>>24&255,e[56]=N>>>0&255,e[57]=N>>>8&255,e[58]=N>>>16&255,e[59]=N>>>24&255,e[60]=j>>>0&255,e[61]=j>>>8&255,e[62]=j>>>16&255,e[63]=j>>>24&255}(e,t,r,n)}function g(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,d=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)o^=(i=(b^=(i=(h^=(i=(u^=(i=o+b|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,d^=(i=(s^=(i=(g^=(i=(p^=(i=d+s|0)<<7|i>>>25)+d|0)<<9|i>>>23)+p|0)<<13|i>>>19)+g|0)<<18|i>>>14,y^=(i=(f^=(i=(a^=(i=(v^=(i=y+f|0)<<7|i>>>25)+y|0)<<9|i>>>23)+v|0)<<13|i>>>19)+a|0)<<18|i>>>14,w^=(i=(m^=(i=(l^=(i=(c^=(i=w+m|0)<<7|i>>>25)+w|0)<<9|i>>>23)+c|0)<<13|i>>>19)+l|0)<<18|i>>>14,o^=(i=(c^=(i=(a^=(i=(s^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,d^=(i=(u^=(i=(l^=(i=(f^=(i=d+u|0)<<7|i>>>25)+d|0)<<9|i>>>23)+f|0)<<13|i>>>19)+l|0)<<18|i>>>14,y^=(i=(p^=(i=(h^=(i=(m^=(i=y+p|0)<<7|i>>>25)+y|0)<<9|i>>>23)+m|0)<<13|i>>>19)+h|0)<<18|i>>>14,w^=(i=(v^=(i=(g^=(i=(b^=(i=w+v|0)<<7|i>>>25)+w|0)<<9|i>>>23)+b|0)<<13|i>>>19)+g|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=d>>>0&255,e[5]=d>>>8&255,e[6]=d>>>16&255,e[7]=d>>>24&255,e[8]=y>>>0&255,e[9]=y>>>8&255,e[10]=y>>>16&255,e[11]=y>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=f>>>0&255,e[17]=f>>>8&255,e[18]=f>>>16&255,e[19]=f>>>24&255,e[20]=l>>>0&255,e[21]=l>>>8&255,e[22]=l>>>16&255,e[23]=l>>>24&255,e[24]=h>>>0&255,e[25]=h>>>8&255,e[26]=h>>>16&255,e[27]=h>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,n,i,o,s){var a,c,u=new Uint8Array(16),d=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;i>=64;){for(b(d,u,s,v),c=0;c<64;c++)e[t+c]=r[n+c]^d[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(b(d,u,s,v),c=0;c<i;c++)e[t+c]=r[n+c]^d[c];return 0}function _(e,t,r,n,i){var o,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(b(c,a,i,v),s=0;s<64;s++)e[t+s]=c[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(b(c,a,i,v),s=0;s<r;s++)e[t+s]=c[s];return 0}function S(e,t,r,n,i){var o=new Uint8Array(32);g(o,n,i,v);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return _(e,t,r,s,o)}function E(e,t,r,n,i,o,s){var a=new Uint8Array(32);g(a,o,s,v);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return w(e,t,r,n,i,c,a)}var k=function(e){var t,r,n,i,o,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function A(e,t,r,n,i,o){var s=new k(o);return s.update(r,n,i),s.finish(e,t),0}function x(e,t,r,n,i,o){var s=new Uint8Array(16);return A(s,0,r,n,i,o),y(e,t,s,0)}function I(e,t,r,n,i){var o;if(r<32)return-1;for(E(e,0,t,0,r,n,i),A(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function T(e,t,r,n,i){var o,s=new Uint8Array(32);if(r<32||(S(s,0,32,n,i),0!==x(t,16,t,32,r-32,s)))return-1;for(E(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function O(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function P(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function M(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function R(e,r){var n,i,o,s=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(P(a),P(a),P(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,M(a,s,1-o)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function B(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return R(r,e),R(n,t),m(r,0,n,0)}function U(e){var t=new Uint8Array(32);return R(t,e),1&t[0]}function N(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function j(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function C(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function L(e,t,r){var n,i,o=0,s=0,a=0,c=0,u=0,d=0,f=0,l=0,h=0,p=0,y=0,m=0,b=0,g=0,v=0,w=0,_=0,S=0,E=0,k=0,A=0,x=0,I=0,T=0,O=0,P=0,M=0,R=0,B=0,U=0,N=0,j=r[0],C=r[1],L=r[2],D=r[3],F=r[4],W=r[5],z=r[6],q=r[7],V=r[8],K=r[9],Z=r[10],H=r[11],G=r[12],J=r[13],Q=r[14],Y=r[15];o+=(n=t[0])*j,s+=n*C,a+=n*L,c+=n*D,u+=n*F,d+=n*W,f+=n*z,l+=n*q,h+=n*V,p+=n*K,y+=n*Z,m+=n*H,b+=n*G,g+=n*J,v+=n*Q,w+=n*Y,s+=(n=t[1])*j,a+=n*C,c+=n*L,u+=n*D,d+=n*F,f+=n*W,l+=n*z,h+=n*q,p+=n*V,y+=n*K,m+=n*Z,b+=n*H,g+=n*G,v+=n*J,w+=n*Q,_+=n*Y,a+=(n=t[2])*j,c+=n*C,u+=n*L,d+=n*D,f+=n*F,l+=n*W,h+=n*z,p+=n*q,y+=n*V,m+=n*K,b+=n*Z,g+=n*H,v+=n*G,w+=n*J,_+=n*Q,S+=n*Y,c+=(n=t[3])*j,u+=n*C,d+=n*L,f+=n*D,l+=n*F,h+=n*W,p+=n*z,y+=n*q,m+=n*V,b+=n*K,g+=n*Z,v+=n*H,w+=n*G,_+=n*J,S+=n*Q,E+=n*Y,u+=(n=t[4])*j,d+=n*C,f+=n*L,l+=n*D,h+=n*F,p+=n*W,y+=n*z,m+=n*q,b+=n*V,g+=n*K,v+=n*Z,w+=n*H,_+=n*G,S+=n*J,E+=n*Q,k+=n*Y,d+=(n=t[5])*j,f+=n*C,l+=n*L,h+=n*D,p+=n*F,y+=n*W,m+=n*z,b+=n*q,g+=n*V,v+=n*K,w+=n*Z,_+=n*H,S+=n*G,E+=n*J,k+=n*Q,A+=n*Y,f+=(n=t[6])*j,l+=n*C,h+=n*L,p+=n*D,y+=n*F,m+=n*W,b+=n*z,g+=n*q,v+=n*V,w+=n*K,_+=n*Z,S+=n*H,E+=n*G,k+=n*J,A+=n*Q,x+=n*Y,l+=(n=t[7])*j,h+=n*C,p+=n*L,y+=n*D,m+=n*F,b+=n*W,g+=n*z,v+=n*q,w+=n*V,_+=n*K,S+=n*Z,E+=n*H,k+=n*G,A+=n*J,x+=n*Q,I+=n*Y,h+=(n=t[8])*j,p+=n*C,y+=n*L,m+=n*D,b+=n*F,g+=n*W,v+=n*z,w+=n*q,_+=n*V,S+=n*K,E+=n*Z,k+=n*H,A+=n*G,x+=n*J,I+=n*Q,T+=n*Y,p+=(n=t[9])*j,y+=n*C,m+=n*L,b+=n*D,g+=n*F,v+=n*W,w+=n*z,_+=n*q,S+=n*V,E+=n*K,k+=n*Z,A+=n*H,x+=n*G,I+=n*J,T+=n*Q,O+=n*Y,y+=(n=t[10])*j,m+=n*C,b+=n*L,g+=n*D,v+=n*F,w+=n*W,_+=n*z,S+=n*q,E+=n*V,k+=n*K,A+=n*Z,x+=n*H,I+=n*G,T+=n*J,O+=n*Q,P+=n*Y,m+=(n=t[11])*j,b+=n*C,g+=n*L,v+=n*D,w+=n*F,_+=n*W,S+=n*z,E+=n*q,k+=n*V,A+=n*K,x+=n*Z,I+=n*H,T+=n*G,O+=n*J,P+=n*Q,M+=n*Y,b+=(n=t[12])*j,g+=n*C,v+=n*L,w+=n*D,_+=n*F,S+=n*W,E+=n*z,k+=n*q,A+=n*V,x+=n*K,I+=n*Z,T+=n*H,O+=n*G,P+=n*J,M+=n*Q,R+=n*Y,g+=(n=t[13])*j,v+=n*C,w+=n*L,_+=n*D,S+=n*F,E+=n*W,k+=n*z,A+=n*q,x+=n*V,I+=n*K,T+=n*Z,O+=n*H,P+=n*G,M+=n*J,R+=n*Q,B+=n*Y,v+=(n=t[14])*j,w+=n*C,_+=n*L,S+=n*D,E+=n*F,k+=n*W,A+=n*z,x+=n*q,I+=n*V,T+=n*K,O+=n*Z,P+=n*H,M+=n*G,R+=n*J,B+=n*Q,U+=n*Y,w+=(n=t[15])*j,s+=38*(S+=n*L),a+=38*(E+=n*D),c+=38*(k+=n*F),u+=38*(A+=n*W),d+=38*(x+=n*z),f+=38*(I+=n*q),l+=38*(T+=n*V),h+=38*(O+=n*K),p+=38*(P+=n*Z),y+=38*(M+=n*H),m+=38*(R+=n*G),b+=38*(B+=n*J),g+=38*(U+=n*Q),v+=38*(N+=n*Y),o=(n=(o+=38*(_+=n*C))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=d,e[6]=f,e[7]=l,e[8]=h,e[9]=p,e[10]=y,e[11]=m,e[12]=b,e[13]=g,e[14]=v,e[15]=w}function D(e,t){L(e,t,t)}function F(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)D(i,i),2!==n&&4!==n&&L(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function W(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)D(i,i),1!==n&&L(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function z(e,r,n){var i,o,s=new Uint8Array(32),c=new Float64Array(80),u=t(),d=t(),f=t(),l=t(),h=t(),p=t();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,N(c,n),o=0;o<16;o++)d[o]=c[o],l[o]=u[o]=f[o]=0;for(u[0]=l[0]=1,o=254;o>=0;--o)M(u,d,i=s[o>>>3]>>>(7&o)&1),M(f,l,i),j(h,u,f),C(u,u,f),j(f,d,l),C(d,d,l),D(l,h),D(p,u),L(u,f,u),L(f,d,h),j(h,u,f),C(u,u,f),D(d,u),C(f,l,p),L(u,f,a),j(u,u,l),L(f,f,u),L(u,l,p),L(l,d,c),D(d,h),M(u,d,i),M(f,l,i);for(o=0;o<16;o++)c[o+16]=u[o],c[o+32]=f[o],c[o+48]=d[o],c[o+64]=l[o];var y=c.subarray(32),m=c.subarray(16);return F(y,y),L(m,m,y),R(e,m),0}function q(e,t){return z(e,t,i)}function V(e,t){return r(t,32),q(e,t)}function K(e,t,r){var i=new Uint8Array(32);return z(i,r,t),g(e,n,i,v)}k.prototype.blocks=function(e,t,r){for(var n,i,o,s,a,c,u,d,f,l,h,p,y,m,b,g,v,w,_,S=this.fin?0:2048,E=this.h[0],k=this.h[1],A=this.h[2],x=this.h[3],I=this.h[4],T=this.h[5],O=this.h[6],P=this.h[7],M=this.h[8],R=this.h[9],B=this.r[0],U=this.r[1],N=this.r[2],j=this.r[3],C=this.r[4],L=this.r[5],D=this.r[6],F=this.r[7],W=this.r[8],z=this.r[9];r>=16;)l=f=0,l+=(E+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*B,l+=(k+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*z),l+=(A+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*W),l+=(x+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*F),f=(l+=(I+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*D))>>>13,l&=8191,l+=(T+=a>>>1&8191)*(5*L),l+=(O+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*C),l+=(P+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*j),l+=(M+=8191&(u>>>8|(d=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*N),h=f+=(l+=(R+=d>>>5|S)*(5*U))>>>13,h+=E*U,h+=k*B,h+=A*(5*z),h+=x*(5*W),f=(h+=I*(5*F))>>>13,h&=8191,h+=T*(5*D),h+=O*(5*L),h+=P*(5*C),h+=M*(5*j),f+=(h+=R*(5*N))>>>13,h&=8191,p=f,p+=E*N,p+=k*U,p+=A*B,p+=x*(5*z),f=(p+=I*(5*W))>>>13,p&=8191,p+=T*(5*F),p+=O*(5*D),p+=P*(5*L),p+=M*(5*C),y=f+=(p+=R*(5*j))>>>13,y+=E*j,y+=k*N,y+=A*U,y+=x*B,f=(y+=I*(5*z))>>>13,y&=8191,y+=T*(5*W),y+=O*(5*F),y+=P*(5*D),y+=M*(5*L),m=f+=(y+=R*(5*C))>>>13,m+=E*C,m+=k*j,m+=A*N,m+=x*U,f=(m+=I*B)>>>13,m&=8191,m+=T*(5*z),m+=O*(5*W),m+=P*(5*F),m+=M*(5*D),b=f+=(m+=R*(5*L))>>>13,b+=E*L,b+=k*C,b+=A*j,b+=x*N,f=(b+=I*U)>>>13,b&=8191,b+=T*B,b+=O*(5*z),b+=P*(5*W),b+=M*(5*F),g=f+=(b+=R*(5*D))>>>13,g+=E*D,g+=k*L,g+=A*C,g+=x*j,f=(g+=I*N)>>>13,g&=8191,g+=T*U,g+=O*B,g+=P*(5*z),g+=M*(5*W),v=f+=(g+=R*(5*F))>>>13,v+=E*F,v+=k*D,v+=A*L,v+=x*C,f=(v+=I*j)>>>13,v&=8191,v+=T*N,v+=O*U,v+=P*B,v+=M*(5*z),w=f+=(v+=R*(5*W))>>>13,w+=E*W,w+=k*F,w+=A*D,w+=x*L,f=(w+=I*C)>>>13,w&=8191,w+=T*j,w+=O*N,w+=P*U,w+=M*B,_=f+=(w+=R*(5*z))>>>13,_+=E*z,_+=k*W,_+=A*F,_+=x*D,f=(_+=I*L)>>>13,_&=8191,_+=T*C,_+=O*j,_+=P*N,_+=M*U,E=l=8191&(f=(f=((f+=(_+=R*B)>>>13)<<2)+f|0)+(l&=8191)|0),k=h+=f>>>=13,A=p&=8191,x=y&=8191,I=m&=8191,T=b&=8191,O=g&=8191,P=v&=8191,M=w&=8191,R=_&=8191,t+=16,r-=16;this.h[0]=E,this.h[1]=k,this.h[2]=A,this.h[3]=x,this.h[4]=I,this.h[5]=T,this.h[6]=O,this.h[7]=P,this.h[8]=M,this.h[9]=R},k.prototype.finish=function(e,t){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},k.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var Z=I,H=T;var G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(e,t,r,n){for(var i,o,s,a,c,u,d,f,l,h,p,y,m,b,g,v,w,_,S,E,k,A,x,I,T,O,P=new Int32Array(16),M=new Int32Array(16),R=e[0],B=e[1],U=e[2],N=e[3],j=e[4],C=e[5],L=e[6],D=e[7],F=t[0],W=t[1],z=t[2],q=t[3],V=t[4],K=t[5],Z=t[6],H=t[7],J=0;n>=128;){for(S=0;S<16;S++)E=8*S+J,P[S]=r[E+0]<<24|r[E+1]<<16|r[E+2]<<8|r[E+3],M[S]=r[E+4]<<24|r[E+5]<<16|r[E+6]<<8|r[E+7];for(S=0;S<80;S++)if(i=R,o=B,s=U,a=N,c=j,u=C,d=L,D,l=F,h=W,p=z,y=q,m=V,b=K,g=Z,H,x=65535&(A=H),I=A>>>16,T=65535&(k=D),O=k>>>16,x+=65535&(A=(V>>>14|j<<18)^(V>>>18|j<<14)^(j>>>9|V<<23)),I+=A>>>16,T+=65535&(k=(j>>>14|V<<18)^(j>>>18|V<<14)^(V>>>9|j<<23)),O+=k>>>16,x+=65535&(A=V&K^~V&Z),I+=A>>>16,T+=65535&(k=j&C^~j&L),O+=k>>>16,x+=65535&(A=G[2*S+1]),I+=A>>>16,T+=65535&(k=G[2*S]),O+=k>>>16,k=P[S%16],I+=(A=M[S%16])>>>16,T+=65535&k,O+=k>>>16,T+=(I+=(x+=65535&A)>>>16)>>>16,x=65535&(A=_=65535&x|I<<16),I=A>>>16,T=65535&(k=w=65535&T|(O+=T>>>16)<<16),O=k>>>16,x+=65535&(A=(F>>>28|R<<4)^(R>>>2|F<<30)^(R>>>7|F<<25)),I+=A>>>16,T+=65535&(k=(R>>>28|F<<4)^(F>>>2|R<<30)^(F>>>7|R<<25)),O+=k>>>16,I+=(A=F&W^F&z^W&z)>>>16,T+=65535&(k=R&B^R&U^B&U),O+=k>>>16,f=65535&(T+=(I+=(x+=65535&A)>>>16)>>>16)|(O+=T>>>16)<<16,v=65535&x|I<<16,x=65535&(A=y),I=A>>>16,T=65535&(k=a),O=k>>>16,I+=(A=_)>>>16,T+=65535&(k=w),O+=k>>>16,B=i,U=o,N=s,j=a=65535&(T+=(I+=(x+=65535&A)>>>16)>>>16)|(O+=T>>>16)<<16,C=c,L=u,D=d,R=f,W=l,z=h,q=p,V=y=65535&x|I<<16,K=m,Z=b,H=g,F=v,S%16==15)for(E=0;E<16;E++)k=P[E],x=65535&(A=M[E]),I=A>>>16,T=65535&k,O=k>>>16,k=P[(E+9)%16],x+=65535&(A=M[(E+9)%16]),I+=A>>>16,T+=65535&k,O+=k>>>16,w=P[(E+1)%16],x+=65535&(A=((_=M[(E+1)%16])>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25)),I+=A>>>16,T+=65535&(k=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7),O+=k>>>16,w=P[(E+14)%16],I+=(A=((_=M[(E+14)%16])>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26))>>>16,T+=65535&(k=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6),O+=k>>>16,O+=(T+=(I+=(x+=65535&A)>>>16)>>>16)>>>16,P[E]=65535&T|O<<16,M[E]=65535&x|I<<16;x=65535&(A=F),I=A>>>16,T=65535&(k=R),O=k>>>16,k=e[0],I+=(A=t[0])>>>16,T+=65535&k,O+=k>>>16,O+=(T+=(I+=(x+=65535&A)>>>16)>>>16)>>>16,e[0]=R=65535&T|O<<16,t[0]=F=65535&x|I<<16,x=65535&(A=W),I=A>>>16,T=65535&(k=B),O=k>>>16,k=e[1],I+=(A=t[1])>>>16,T+=65535&k,O+=k>>>16,O+=(T+=(I+=(x+=65535&A)>>>16)>>>16)>>>16,e[1]=B=65535&T|O<<16,t[1]=W=65535&x|I<<16,x=65535&(A=z),I=A>>>16,T=65535&(k=U),O=k>>>16,k=e[2],I+=(A=t[2])>>>16,T+=65535&k,O+=k>>>16,O+=(T+=(I+=(x+=65535&A)>>>16)>>>16)>>>16,e[2]=U=65535&T|O<<16,t[2]=z=65535&x|I<<16,x=65535&(A=q),I=A>>>16,T=65535&(k=N),O=k>>>16,k=e[3],I+=(A=t[3])>>>16,T+=65535&k,O+=k>>>16,O+=(T+=(I+=(x+=65535&A)>>>16)>>>16)>>>16,e[3]=N=65535&T|O<<16,t[3]=q=65535&x|I<<16,x=65535&(A=V),I=A>>>16,T=65535&(k=j),O=k>>>16,k=e[4],I+=(A=t[4])>>>16,T+=65535&k,O+=k>>>16,O+=(T+=(I+=(x+=65535&A)>>>16)>>>16)>>>16,e[4]=j=65535&T|O<<16,t[4]=V=65535&x|I<<16,x=65535&(A=K),I=A>>>16,T=65535&(k=C),O=k>>>16,k=e[5],I+=(A=t[5])>>>16,T+=65535&k,O+=k>>>16,O+=(T+=(I+=(x+=65535&A)>>>16)>>>16)>>>16,e[5]=C=65535&T|O<<16,t[5]=K=65535&x|I<<16,x=65535&(A=Z),I=A>>>16,T=65535&(k=L),O=k>>>16,k=e[6],I+=(A=t[6])>>>16,T+=65535&k,O+=k>>>16,O+=(T+=(I+=(x+=65535&A)>>>16)>>>16)>>>16,e[6]=L=65535&T|O<<16,t[6]=Z=65535&x|I<<16,x=65535&(A=H),I=A>>>16,T=65535&(k=D),O=k>>>16,k=e[7],I+=(A=t[7])>>>16,T+=65535&k,O+=k>>>16,O+=(T+=(I+=(x+=65535&A)>>>16)>>>16)>>>16,e[7]=D=65535&T|O<<16,t[7]=H=65535&x|I<<16,J+=128,n-=128}return n}function Q(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,J(i,o,t,r),r%=128,n=0;n<r;n++)s[n]=t[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,h(s,r-8,a/536870912|0,a<<3),J(i,o,s,r),n=0;n<8;n++)h(e,8*n,i[n],o[n]);return 0}function Y(e,r){var n=t(),i=t(),o=t(),s=t(),a=t(),c=t(),d=t(),f=t(),l=t();C(n,e[1],e[0]),C(l,r[1],r[0]),L(n,n,l),j(i,e[0],e[1]),j(l,r[0],r[1]),L(i,i,l),L(o,e[3],r[3]),L(o,o,u),L(s,e[2],r[2]),j(s,s,s),C(a,i,n),C(c,s,o),j(d,s,o),j(f,i,n),L(e[0],a,c),L(e[1],f,d),L(e[2],d,c),L(e[3],a,f)}function X(e,t,r){var n;for(n=0;n<4;n++)M(e[n],t[n],r)}function $(e,r){var n=t(),i=t(),o=t();F(o,r[2]),L(n,r[0],o),L(i,r[1],o),R(e,i),e[31]^=U(n)<<7}function ee(e,t,r){var n,i;for(O(e[0],o),O(e[1],s),O(e[2],s),O(e[3],o),i=255;i>=0;--i)X(e,t,n=r[i/8|0]>>(7&i)&1),Y(t,e),Y(e,e),X(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];O(n[0],d),O(n[1],f),O(n[2],s),L(n[3],d,f),ee(e,n,r)}function re(e,n,i){var o,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||r(n,32),Q(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,te(a,s),$(e,a),o=0;o<32;o++)n[o+32]=e[o];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ne[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ne[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ne[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function se(e,r,n,i){var o,s,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),d=new Float64Array(64),f=[t(),t(),t(),t()];Q(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var l=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(Q(u,e.subarray(32),n+32),oe(u),te(f,u),$(e,f),o=32;o<64;o++)e[o]=i[o];for(Q(c,e,n+64),oe(c),o=0;o<64;o++)d[o]=0;for(o=0;o<32;o++)d[o]=u[o];for(o=0;o<32;o++)for(s=0;s<32;s++)d[o+s]+=c[o]*a[s];return ie(e.subarray(32),d),l}function ae(e,r,n,i){var a,u=new Uint8Array(32),d=new Uint8Array(64),f=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(n<64||function(e,r){var n=t(),i=t(),a=t(),u=t(),d=t(),f=t(),h=t();return O(e[2],s),N(e[1],r),D(a,e[1]),L(u,a,c),C(a,a,e[2]),j(u,e[2],u),D(d,u),D(f,d),L(h,f,d),L(n,h,a),L(n,n,u),W(n,n),L(n,n,a),L(n,n,u),L(n,n,u),L(e[0],n,u),D(i,e[0]),L(i,i,u),B(i,a)&&L(e[0],e[0],l),D(i,e[0]),L(i,i,u),B(i,a)?-1:(U(e[0])===r[31]>>7&&C(e[0],o,e[0]),L(e[3],e[0],e[1]),0)}(h,i))return-1;for(a=0;a<n;a++)e[a]=r[a];for(a=0;a<32;a++)e[a+32]=i[a];if(Q(d,e,n),oe(d),ee(f,h,d),te(h,r.subarray(32)),Y(f,h),$(u,f),n-=64,m(r,0,u,0)){for(a=0;a<n;a++)e[a]=0;return-1}for(a=0;a<n;a++)e[a]=r[a+64];return n}var ce=16,ue=64,de=32,fe=64;function le(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function he(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:g,crypto_stream_xor:E,crypto_stream:S,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:_,crypto_onetimeauth:A,crypto_onetimeauth_verify:x,crypto_verify_16:y,crypto_verify_32:m,crypto_secretbox:I,crypto_secretbox_open:T,crypto_scalarmult:z,crypto_scalarmult_base:q,crypto_box_beforenm:K,crypto_box_afternm:Z,crypto_box:function(e,t,r,n,i,o){var s=new Uint8Array(32);return K(s,i,o),Z(e,t,r,n,s)},crypto_box_open:function(e,t,r,n,i,o){var s=new Uint8Array(32);return K(s,i,o),H(e,t,r,n,s)},crypto_box_keypair:V,crypto_hash:Q,crypto_sign:se,crypto_sign_keypair:re,crypto_sign_open:ae,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ue,crypto_sign_PUBLICKEYBYTES:de,crypto_sign_SECRETKEYBYTES:fe,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:ne,pack25519:R,unpack25519:N,M:L,A:j,S:D,Z:C,pow2523:W,add:Y,set25519:O,modL:ie,scalarmult:ee,scalarbase:te},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,r){he(e,t,r),le(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return I(i,n,n.length,t,r),i.subarray(ce)},e.secretbox.open=function(e,t,r){he(e,t,r),le(r,t);for(var n=new Uint8Array(ce+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+ce]=e[o];return n.length<32||0!==T(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ce,e.scalarMult=function(e,t){if(he(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return z(r,e,t),r},e.scalarMult.base=function(e){if(he(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return q(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){he(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return K(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return V(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(he(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return q(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(he(e,t),t.length!==fe)throw new Error("bad secret key size");var r=new Uint8Array(ue+e.length);return se(r,e,e.length,t),r},e.sign.open=function(e,t){if(he(e,t),t.length!==de)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ae(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(ue),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(he(e,t,r),t.length!==ue)throw new Error("bad signature size");if(r.length!==de)throw new Error("bad public key size");var n,i=new Uint8Array(ue+e.length),o=new Uint8Array(ue+e.length);for(n=0;n<ue;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+ue]=e[n];return ae(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(de),t=new Uint8Array(fe);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(he(e),e.length!==fe)throw new Error("bad secret key size");for(var t=new Uint8Array(de),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(he(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(de),r=new Uint8Array(fe),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=de,e.sign.secretKeyLength=fe,e.sign.seedLength=32,e.sign.signatureLength=ue,e.hash=function(e){he(e);var t=new Uint8Array(64);return Q(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return he(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===p(e,0,t,0,e.length)},e.setPRNG=function(e){r=e},function(){var t=typeof self<"u"?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];pe(i)}))}else(t=Ah())&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];pe(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})}(oi);var xh=oi.exports;const Ih=cr(xh);var Th=di.Buffer;var Oh=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return Th.alloc(0);for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var d=t[e.charCodeAt(r)];if(255===d)return;for(var f=0,l=o-1;(0!==d||f<i)&&-1!==l;l--,f++)d+=s*u[l]>>>0,u[l]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,r++}for(var h=o-i;h!==o&&0===u[h];)h++;var p=Th.allocUnsafe(n+(o-h));p.fill(0,0,n);for(var y=n;h!==o;)p[y++]=u[h++];return p}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=Th.from(t)),!Th.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,d=new Uint8Array(c);i!==o;){for(var f=t[i],l=0,h=c-1;(0!==f||l<n)&&-1!==h;h--,l++)f+=256*d[h]>>>0,d[h]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");n=l,i++}for(var p=c-n;p!==c&&0===d[p];)p++;for(var y=a.repeat(r);p<c;++p)y+=e.charAt(d[p]);return y},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+s+" character")}}},Ph=Oh("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");const Mh=cr(Ph);var Rh={};function Bh(e,t,r){return t<=e&&e<=r}function Uh(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function Nh(e){this.tokens=[].slice.call(e)}Nh.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var jh=-1;function Ch(e,t){if(e)throw TypeError("Decoder error");return t||65533}var Lh="utf-8";function Dh(e,t){if(!(this instanceof Dh))return new Dh(e,t);if((e=void 0!==e?String(e).toLowerCase():Lh)!==Lh)throw new Error("Encoding not supported. Only utf-8 is supported");t=Uh(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function Fh(e,t){if(!(this instanceof Fh))return new Fh(e,t);if((e=void 0!==e?String(e).toLowerCase():Lh)!==Lh)throw new Error("Encoding not supported. Only utf-8 is supported");t=Uh(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function Wh(e){var t=e.fatal,r=0,n=0,i=0,o=128,s=191;this.handler=function(e,a){if(-1===a&&0!==i)return i=0,Ch(t);if(-1===a)return jh;if(0===i){if(Bh(a,0,127))return a;if(Bh(a,194,223))i=1,r=a-192;else if(Bh(a,224,239))224===a&&(o=160),237===a&&(s=159),i=2,r=a-224;else{if(!Bh(a,240,244))return Ch(t);240===a&&(o=144),244===a&&(s=143),i=3,r=a-240}return r<<=6*i,null}if(!Bh(a,o,s))return r=i=n=0,o=128,s=191,e.prepend(a),Ch(t);if(o=128,s=191,r+=a-128<<6*(i-(n+=1)),n!==i)return null;var c=r;return r=i=n=0,c}}function zh(e){e.fatal,this.handler=function(e,t){if(-1===t)return jh;if(Bh(t,0,127))return t;var r,n;Bh(t,128,2047)?(r=1,n=192):Bh(t,2048,65535)?(r=2,n=224):Bh(t,65536,1114111)&&(r=3,n=240);for(var i=[(t>>6*r)+n];r>0;){var o=t>>6*(r-1);i.push(128|63&o),r-=1}return i}}Dh.prototype={decode:function(e,t){var r;r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=Uh(t),this._streaming||(this._decoder=new Wh({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var n,i=new Nh(r),o=[];!i.endOfStream()&&(n=this._decoder.handler(i,i.read()))!==jh;)null!==n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n));if(!this._streaming){do{if((n=this._decoder.handler(i,i.read()))===jh)break;null!==n&&(Array.isArray(n)?o.push.apply(o,n):o.push(n))}while(!i.endOfStream());this._decoder=null}return o.length&&-1!==["utf-8"].indexOf(this.encoding)&&!this._ignoreBOM&&!this._BOMseen&&(65279===o[0]?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}(o)}},Fh.prototype={encode:function(e,t){e=e?String(e):"",t=Uh(t),this._streaming||(this._encoder=new zh(this._options)),this._streaming=!!t.stream;for(var r,n=[],i=new Nh(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=e.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=1023&o,c=1023&s;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}(e));!i.endOfStream()&&(r=this._encoder.handler(i,i.read()))!==jh;)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;(r=this._encoder.handler(i,i.read()))!==jh;)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}};const qh=ur(Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Dh,TextEncoder:Fh},Symbol.toStringTag,{value:"Module"})));var Vh=ar&&ar.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),Kh=ar&&ar.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Zh=ar&&ar.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},Hh=ar&&ar.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&Vh(t,e,r);return Kh(t,e),t},Gh=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rh,"__esModule",{value:!0});var Jh=Rh.deserializeUnchecked=hp=Rh.deserialize=dp=Rh.serialize=sp=Rh.BinaryReader=np=Rh.BinaryWriter=Rh.BorshError=Rh.baseDecode=Rh.baseEncode=void 0;const Qh=Gh(fd),Yh=Gh(Ph),Xh=Hh(qh),$h=new("function"!=typeof TextDecoder?Xh.TextDecoder:TextDecoder)("utf-8",{fatal:!0});Rh.baseEncode=function(e){return"string"==typeof e&&(e=Hn.from(e,"utf8")),Yh.default.encode(Hn.from(e))},Rh.baseDecode=function(e){return Hn.from(Yh.default.decode(e))};const ep=1024;let tp=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Rh.BorshError=tp;let rp=class{constructor(){this.buf=Hn.alloc(ep),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Hn.concat([this.buf,Hn.alloc(ep)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Hn.from(new Qh.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Hn.from(new Qh.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Hn.from(new Qh.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Hn.from(new Qh.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Hn.concat([Hn.from(this.buf.subarray(0,this.length)),e,Hn.alloc(ep)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Hn.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Hn.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}};var np=Rh.BinaryWriter=rp;function ip(e,t,r){const n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new tp("Reached the end of buffer when deserializing")}throw e}}}let op=class{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Qh.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Qh.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Qh.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Qh.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new tp(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return $h.decode(t)}catch(e){throw new tp(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let n=0;n<t;++n)r.push(e());return r}};Zh([ip],op.prototype,"readU8",null),Zh([ip],op.prototype,"readU16",null),Zh([ip],op.prototype,"readU32",null),Zh([ip],op.prototype,"readU64",null),Zh([ip],op.prototype,"readU128",null),Zh([ip],op.prototype,"readU256",null),Zh([ip],op.prototype,"readU512",null),Zh([ip],op.prototype,"readString",null),Zh([ip],op.prototype,"readFixedArray",null),Zh([ip],op.prototype,"readArray",null);var sp=Rh.BinaryReader=op;function ap(e){return e.charAt(0).toUpperCase()+e.slice(1)}function cp(e,t,r,n,i){try{if("string"==typeof n)i[`write${ap(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new tp(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new tp(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)cp(e,null,r[t],n[0],i)}else i.writeArray(r,(r=>{cp(e,t,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),cp(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach(((r,o)=>{cp(e,t,o,n.key,i),cp(e,t,r,n.value,i)}));break;default:throw new tp(`FieldType ${n} unrecognized`)}else up(e,r,i)}catch(e){throw e instanceof tp&&e.addToFieldPath(t),e}}function up(e,t,r){if("function"==typeof t.borshSerialize)return void t.borshSerialize(r);const n=e.get(t.constructor);if(!n)throw new tp(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((([n,i])=>{cp(e,n,t[n],i,r)}));else{if("enum"!==n.kind)throw new tp(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const i=t[n.field];for(let o=0;o<n.values.length;++o){const[s,a]=n.values[o];if(s===i){r.writeU8(o),cp(e,s,t[s],a,r);break}}}}}var dp=Rh.serialize=function(e,t,r=rp){const n=new r;return up(e,t,n),n.toArray()};function fp(e,t,r,n){try{if("string"==typeof r)return n[`read${ap(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"==typeof r[1]){const t=[];for(let i=0;i<r[1];i++)t.push(fp(e,null,r[0],n));return t}return n.readArray((()=>fp(e,t,r[0],n)))}if("option"===r.kind)return n.readU8()?fp(e,t,r.type,n):void 0;if("map"===r.kind){let i=new Map;const o=n.readU32();for(let s=0;s<o;s++){const o=fp(e,t,r.key,n),s=fp(e,t,r.value,n);i.set(o,s)}return i}return lp(e,r,n)}catch(e){throw e instanceof tp&&e.addToFieldPath(t),e}}function lp(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new tp(`Class ${t.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,o]of e.get(t).fields)n[i]=fp(e,i,o,r);return new t(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new tp(`Enum index: ${i} is out of range`);const[o,s]=n.values[i],a=fp(e,o,s,r);return new t({[o]:a})}throw new tp(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}var hp=Rh.deserialize=function(e,t,r,n=op){const i=new n(r),o=lp(e,t,i);if(i.offset<r.length)throw new tp(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o};Jh=Rh.deserializeUnchecked=function(e,t,r,n=op){return lp(e,t,new n(r))};var pp={};Object.defineProperty(pp,"__esModule",{value:!0}),pp.s16=pp.s8=pp.nu64be=pp.u48be=pp.u40be=pp.u32be=pp.u24be=pp.u16be=ry=pp.nu64=pp.u48=pp.u40=ty=pp.u32=pp.u24=ey=pp.u16=$p=pp.u8=Xp=pp.offset=pp.greedy=pp.Constant=pp.UTF8=pp.CString=pp.Blob=pp.Boolean=pp.BitField=pp.BitStructure=pp.VariantLayout=pp.Union=pp.UnionLayoutDiscriminator=pp.UnionDiscriminator=pp.Structure=pp.Sequence=pp.DoubleBE=pp.Double=pp.FloatBE=pp.Float=pp.NearInt64BE=pp.NearInt64=pp.NearUInt64BE=pp.NearUInt64=pp.IntBE=pp.Int=pp.UIntBE=pp.UInt=pp.OffsetLayout=pp.GreedyCount=pp.ExternalLayout=pp.bindConstructorLayout=pp.nameWithProperty=pp.Layout=pp.uint8ArrayToBuffer=pp.checkUint8Array=void 0,pp.constant=pp.utf8=pp.cstr=sy=pp.blob=pp.unionLayoutDiscriminator=pp.union=oy=pp.seq=pp.bits=iy=pp.struct=pp.f64be=pp.f64=pp.f32be=pp.f32=pp.ns64be=pp.s48be=pp.s40be=pp.s32be=pp.s24be=pp.s16be=ny=pp.ns64=pp.s48=pp.s40=pp.s32=pp.s24=void 0;const yp=Gn;function mp(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function bp(e){return mp(e),yp.Buffer.from(e.buffer,e.byteOffset,e.length)}pp.checkUint8Array=mp,pp.uint8ArrayToBuffer=bp;let gp=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};function vp(e,t){return t.property?e+"["+t.property+"]":e}pp.Layout=gp,pp.nameWithProperty=vp,pp.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof gp))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value(e,r){return t.decode(e,r)},writable:!0})};let wp=class extends gp{isCount(){throw new Error("ExternalLayout is abstract")}};pp.ExternalLayout=wp;let _p=class extends wp{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){mp(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}};pp.GreedyCount=_p;let Sp=class extends wp{constructor(e,t=0,r){if(!(e instanceof gp))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Ep||this.layout instanceof kp}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}};pp.OffsetLayout=Sp;let Ep=class extends gp{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return bp(e).readUIntLE(t,this.span)}encode(e,t,r=0){return bp(t).writeUIntLE(e,r,this.span),this.span}};pp.UInt=Ep;let kp=class extends gp{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return bp(e).readUIntBE(t,this.span)}encode(e,t,r=0){return bp(t).writeUIntBE(e,r,this.span),this.span}};pp.UIntBE=kp;let Ap=class extends gp{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return bp(e).readIntLE(t,this.span)}encode(e,t,r=0){return bp(t).writeIntLE(e,r,this.span),this.span}};pp.Int=Ap;let xp=class extends gp{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return bp(e).readIntBE(t,this.span)}encode(e,t,r=0){return bp(t).writeIntBE(e,r,this.span),this.span}};pp.IntBE=xp;const Ip=Math.pow(2,32);function Tp(e){const t=Math.floor(e/Ip);return{hi32:t,lo32:e-t*Ip}}function Op(e,t){return e*Ip+t}let Pp=class extends gp{constructor(e){super(8,e)}decode(e,t=0){const r=bp(e),n=r.readUInt32LE(t);return Op(r.readUInt32LE(t+4),n)}encode(e,t,r=0){const n=Tp(e),i=bp(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}};pp.NearUInt64=Pp;let Mp=class extends gp{constructor(e){super(8,e)}decode(e,t=0){const r=bp(e);return Op(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const n=Tp(e),i=bp(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}};pp.NearUInt64BE=Mp;let Rp=class extends gp{constructor(e){super(8,e)}decode(e,t=0){const r=bp(e),n=r.readUInt32LE(t);return Op(r.readInt32LE(t+4),n)}encode(e,t,r=0){const n=Tp(e),i=bp(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}};pp.NearInt64=Rp;let Bp=class extends gp{constructor(e){super(8,e)}decode(e,t=0){const r=bp(e);return Op(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const n=Tp(e),i=bp(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}};pp.NearInt64BE=Bp;let Up=class extends gp{constructor(e){super(4,e)}decode(e,t=0){return bp(e).readFloatLE(t)}encode(e,t,r=0){return bp(t).writeFloatLE(e,r),4}};pp.Float=Up;let Np=class extends gp{constructor(e){super(4,e)}decode(e,t=0){return bp(e).readFloatBE(t)}encode(e,t,r=0){return bp(t).writeFloatBE(e,r),4}};pp.FloatBE=Np;let jp=class extends gp{constructor(e){super(8,e)}decode(e,t=0){return bp(e).readDoubleLE(t)}encode(e,t,r=0){return bp(t).writeDoubleLE(e,r),8}};pp.Double=jp;let Cp=class extends gp{constructor(e){super(8,e)}decode(e,t=0){return bp(e).readDoubleBE(t)}encode(e,t,r=0){return bp(t).writeDoubleBE(e,r),8}};pp.DoubleBE=Cp;let Lp=class extends gp{constructor(e,t,r){if(!(e instanceof gp))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof wp&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof wp)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof wp&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){const r=[];let n=0,i=this.count;for(i instanceof wp&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){const n=this.elementLayout,i=e.reduce(((e,i)=>e+n.encode(i,t,r+e)),0);return this.count instanceof wp&&this.count.encode(e.length,t,r),i}};pp.Sequence=Lp;let Dp=class extends gp{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof gp),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===r&&(r=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch{}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(e,t);return t+=i,r+i}),0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t=0){mp(e);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const n=r;let i=0,o=0;for(const n of this.fields){let s=n.span;if(o=0<s?s:0,void 0!==n.property){const i=e[n.property];void 0!==i&&(o=n.encode(i,t,r),0>s&&(s=n.getSpan(t,r)))}i=r,r+=s}return i+o-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}};pp.Structure=Dp;let Fp=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}};pp.UnionDiscriminator=Fp;let Wp=class extends Fp{constructor(e,t){if(!(e instanceof wp&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}};pp.UnionLayoutDiscriminator=Wp;let zp=class extends gp{constructor(e,t,r){let n;if(e instanceof Ep||e instanceof kp)n=new Wp(new Sp(e));else if(e instanceof wp&&e.isCount())n=new Wp(e);else{if(!(e instanceof Fp))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");n=e}if(void 0===t&&(t=null),!(null===t||t instanceof gp))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof Ep||e instanceof kp)&&(i+=n.layout.span)),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof Ep||e instanceof kp,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const n=this.discriminator,i=n.decode(e,t),o=this.registry[i];if(void 0===o){const o=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[o.property]=o.decode(e,t+s)}else r=o.decode(e,t);return r}encode(e,t,r=0){const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new qp(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}};pp.Union=zp;let qp=class extends gp{constructor(e,t,r,n){if(!(e instanceof zp))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof gp))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function Vp(e){return 0>e&&(e+=4294967296),e}pp.VariantLayout=qp;let Kp=class extends gp{constructor(e,t,r){if(!(e instanceof Ep||e instanceof kp))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=Vp(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){const r=this.makeDestinationObject(),n=this.word.decode(e,t);this._packedSetValue(n);for(const t of this.fields)void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){const n=this.word.decode(t,r);this._packedSetValue(n);for(const t of this.fields)if(void 0!==t.property){const r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new Zp(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new Hp(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}};pp.BitStructure=Kp;let Zp=class{constructor(e,t,r){if(!(e instanceof Kp))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const n=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=Vp(this.valueMask<<this.start),this.property=r}decode(e,t){return Vp(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==Vp(e&this.valueMask))throw new TypeError(vp("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=Vp(e<<this.start);this.container._packedSetValue(Vp(t&~this.wordMask)|r)}};pp.BitField=Zp;let Hp=class extends Zp{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}};pp.Boolean=Hp;let Gp=class extends gp{constructor(e,t){if(!(e instanceof wp&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof wp||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),bp(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof wp&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(vp("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");const i=bp(e);return bp(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof wp&&this.length.encode(n,t,r),n}};pp.Blob=Gp;let Jp=class extends gp{constructor(e){super(-1,e)}getSpan(e,t=0){mp(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return bp(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));const n=yp.Buffer.from(e,"utf8"),i=n.length;if(r+i>t.length)throw new RangeError("encoding overruns Buffer");const o=bp(t);return n.copy(o,r),o[r+i]=0,i+1}};pp.CString=Jp;let Qp=class extends gp{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return mp(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return bp(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));const n=yp.Buffer.from(e,"utf8"),i=n.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return n.copy(bp(t),r),i}};pp.UTF8=Qp;let Yp=class extends gp{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}};pp.Constant=Yp,pp.greedy=(e,t)=>new _p(e,t);var Xp=pp.offset=(e,t,r)=>new Sp(e,t,r),$p=pp.u8=e=>new Ep(1,e),ey=pp.u16=e=>new Ep(2,e);pp.u24=e=>new Ep(3,e);var ty=pp.u32=e=>new Ep(4,e);pp.u40=e=>new Ep(5,e),pp.u48=e=>new Ep(6,e);var ry=pp.nu64=e=>new Pp(e);pp.u16be=e=>new kp(2,e),pp.u24be=e=>new kp(3,e),pp.u32be=e=>new kp(4,e),pp.u40be=e=>new kp(5,e),pp.u48be=e=>new kp(6,e),pp.nu64be=e=>new Mp(e),pp.s8=e=>new Ap(1,e),pp.s16=e=>new Ap(2,e),pp.s24=e=>new Ap(3,e),pp.s32=e=>new Ap(4,e),pp.s40=e=>new Ap(5,e),pp.s48=e=>new Ap(6,e);var ny=pp.ns64=e=>new Rp(e);pp.s16be=e=>new xp(2,e),pp.s24be=e=>new xp(3,e),pp.s32be=e=>new xp(4,e),pp.s40be=e=>new xp(5,e),pp.s48be=e=>new xp(6,e),pp.ns64be=e=>new Bp(e),pp.f32=e=>new Up(e),pp.f32be=e=>new Np(e),pp.f64=e=>new jp(e),pp.f64be=e=>new Cp(e);var iy=pp.struct=(e,t,r)=>new Dp(e,t,r);pp.bits=(e,t,r)=>new Kp(e,t,r);var oy=pp.seq=(e,t,r)=>new Lp(e,t,r);pp.union=(e,t,r)=>new zp(e,t,r),pp.unionLayoutDiscriminator=(e,t)=>new Wp(e,t);var sy=pp.blob=(e,t)=>new Gp(e,t);pp.cstr=e=>new Jp(e),pp.utf8=(e,t)=>new Qp(e,t),pp.constant=(e,t)=>new Yp(e,t);var ay,cy,uy,dy,fy,ly={};function hy(){if(cy)return ay;cy=1;var e,t,r,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(t){throw{name:"SyntaxError",message:t,at:e,text:r}}function o(n){return n&&n!==t&&i("Expected '"+n+"' instead of '"+t+"'"),t=r.charAt(e),e+=1,t}function s(){var e,r="";for("-"===t&&(r="-",o("-"));t>="0"&&t<="9";)r+=t,o();if("."===t)for(r+=".";o()&&t>="0"&&t<="9";)r+=t;if("e"===t||"E"===t)for(r+=t,o(),("-"===t||"+"===t)&&(r+=t,o());t>="0"&&t<="9";)r+=t,o();return e=Number(r),isFinite(e)||i("Bad number"),e}function a(){var e,r,s,a="";if('"'===t)for(;o();){if('"'===t)return o(),a;if("\\"===t)if(o(),"u"===t){for(s=0,r=0;r<4&&(e=parseInt(o(),16),isFinite(e));r+=1)s=16*s+e;a+=String.fromCharCode(s)}else{if("string"!=typeof n[t])break;a+=n[t]}else a+=t}i("Bad string")}function c(){for(;t&&t<=" ";)o()}function u(){switch(c(),t){case"{":return function(){var e,r={};if("{"===t){if(o("{"),c(),"}"===t)return o("}"),r;for(;t;){if(e=a(),c(),o(":"),Object.prototype.hasOwnProperty.call(r,e)&&i('Duplicate key "'+e+'"'),r[e]=u(),c(),"}"===t)return o("}"),r;o(","),c()}}i("Bad object")}();case"[":return function(){var e=[];if("["===t){if(o("["),c(),"]"===t)return o("]"),e;for(;t;){if(e.push(u()),c(),"]"===t)return o("]"),e;o(","),c()}}i("Bad array")}();case'"':return a();case"-":return s();default:return t>="0"&&t<="9"?s():function(){switch(t){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null;default:i("Unexpected '"+t+"'")}}()}}return ay=function(n,o){var s;return r=n,e=0,t=" ",s=u(),c(),t&&i("Syntax error"),"function"==typeof o?function e(t,r){var n,i,s=t[r];if(s&&"object"==typeof s)for(n in u)Object.prototype.hasOwnProperty.call(s,n)&&(typeof(i=e(s,n))>"u"?delete s[n]:s[n]=i);return o.call(t,r,s)}({"":s},""):s}}function py(){if(dy)return uy;dy=1;var e,t,r,n=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function o(e){return n.lastIndex=0,n.test(e)?'"'+e.replace(n,(function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function s(n,i){var a,c,u,d,f,l=e,h=i[n];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(n)),"function"==typeof r&&(h=r.call(i,n,h)),typeof h){case"string":return o(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(e+=t,f=[],"[object Array]"===Object.prototype.toString.apply(h)){for(d=h.length,a=0;a<d;a+=1)f[a]=s(a,h)||"null";return u=0===f.length?"[]":e?"[\n"+e+f.join(",\n"+e)+"\n"+l+"]":"["+f.join(",")+"]",e=l,u}if(r&&"object"==typeof r)for(d=r.length,a=0;a<d;a+=1)"string"==typeof(c=r[a])&&((u=s(c,h))&&f.push(o(c)+(e?": ":":")+u));else for(c in h)Object.prototype.hasOwnProperty.call(h,c)&&((u=s(c,h))&&f.push(o(c)+(e?": ":":")+u));return u=0===f.length?"{}":e?"{\n"+e+f.join(",\n"+e)+"\n"+l+"}":"{"+f.join(",")+"}",e=l,u}}return uy=function(n,i,o){var a;if(e="",t="","number"==typeof o)for(a=0;a<o;a+=1)t+=" ";else"string"==typeof o&&(t=o);if(r=i,i&&"function"!=typeof i&&("object"!=typeof i||"number"!=typeof i.length))throw new Error("JSON.stringify");return s("",{"":n})}}typeof JSON<"u"||fy||(fy=1,ly.parse=hy(),ly.stringify=py());class yy extends TypeError{constructor(e,t){let r;const{message:n,...i}=e,{path:o}=e;super(0===o.length?n:"At path: "+o.join(".")+" -- "+n),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[e,...t()]}}}function my(e){return"object"==typeof e&&null!=e}function by(e){return"string"==typeof e?JSON.stringify(e):""+e}function gy(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=r,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+by(n)+"`"}=e;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*vy(e,t,r,n){(function(e){return my(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const i of e){const e=gy(i,t,r,n);e&&(yield e)}}function*wy(e,t,r={}){const{path:n=[],branch:i=[e],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(e=t.coercer(e,a),s&&"type"!==t.type&&my(t.schema)&&my(e)&&!Array.isArray(e)))for(const r in e)void 0===t.schema[r]&&delete e[r];let c=!0;for(const r of t.validator(e,a))c=!1,yield[r,void 0];for(let[r,u,d]of t.entries(e,a)){const t=wy(u,d,{path:void 0===r?n:[...n,r],branch:void 0===r?i:[...i,u],coerce:o,mask:s});for(const n of t)n[0]?(c=!1,yield[n[0],void 0]):o&&(u=n[1],void 0===r?e=u:e instanceof Map?e.set(r,u):e instanceof Set?e.add(u):my(e)&&(e[r]=u))}if(c)for(const r of t.refiner(e,a))c=!1,yield[r,void 0];c&&(yield[void 0,e])}let _y=class{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:o=e=>e,entries:s=function*(){}}=e;this.type=t,this.schema=r,this.entries=s,this.coercer=o,this.validator=n?(e,t)=>vy(n(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>vy(i(e,t),t,this,e):()=>[]}assert(e){return Sy(e,this)}create(e){return Ey(e,this)}is(e){return ky(e,this)}mask(e){return function(e,t){const r=Ay(e,t,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(e,this)}validate(e,t={}){return Ay(e,this,t)}};function Sy(e,t){const r=Ay(e,t);if(r[0])throw r[0]}function Ey(e,t){const r=Ay(e,t,{coerce:!0});if(r[0])throw r[0];return r[1]}function ky(e,t){return!Ay(e,t)[0]}function Ay(e,t,r={}){const n=wy(e,t,r),i=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(n);return i[0]?[new yy(i[0],(function*(){for(const e of n)e[0]&&(yield e[0])})),void 0]:[void 0,i[1]]}function xy(e,t){return new _y({type:e,schema:null,validator:t})}function Iy(){return xy("any",(()=>!0))}function Ty(e){return new _y({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+by(e)}})}function Oy(){return xy("boolean",(e=>"boolean"==typeof e))}function Py(e){return xy("instance",(t=>t instanceof e||"Expected a `"+e.name+"` instance, but received: "+by(t)))}function My(e){const t=by(e),r=typeof e;return new _y({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator(r){return r===e||"Expected the literal `"+t+"`, but received: "+by(r)}})}function Ry(e){return new _y({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function By(){return xy("number",(e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+by(e)))}function Uy(e){return new _y({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function Ny(e,t){return new _y({type:"record",schema:null,*entries(r){if(my(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(e){return my(e)||"Expected an object, but received: "+by(e)}})}function jy(){return xy("string",(e=>"string"==typeof e||"Expected a string, but received: "+by(e)))}function Cy(e){const t=xy("never",(()=>!1));return new _y({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(e){return Array.isArray(e)||"Expected an array, but received: "+by(e)}})}function Ly(e){const t=Object.keys(e);return new _y({type:"type",schema:e,*entries(r){if(my(r))for(const n of t)yield[n,r[n],e[n]]},validator(e){return my(e)||"Expected an object, but received: "+by(e)}})}function Dy(e){const t=e.map((e=>e.type)).join(" | ");return new _y({type:"union",schema:null,validator(r,n){const i=[];for(const t of e){const[...e]=wy(r,t,n),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+by(r),...i]}})}function Fy(){return xy("unknown",(()=>!0))}function Wy(e,t,r){return new _y({...e,coercer:(n,i)=>ky(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}var zy={},qy={};const Vy=ur(gr);Object.defineProperty(qy,"__esModule",{value:!0}),qy.default=function(e,t){return new Zy(e,t)};var Ky=Vy;class Zy extends Ky.EventEmitter{constructor(e,t,r){super(),this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,r){const n=r||t;try{this.socket.send(e),n()}catch(e){n(e)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}}var Hy={};Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.default=void 0;var Gy=Vy;class Jy extends Gy.EventEmitter{constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...s}={},a){super(),this.webSocketFactory=e,this.queue=new Map,this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=s,this.current_reconnects=0,this.generate_request_id=a||(()=>++this.rpc_id),this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,n){return!n&&"object"==typeof r&&(n=r,r=null),new Promise(((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const s=this.generate_request_id(e,t),a={jsonrpc:"2.0",method:e,params:t||null,id:s};this.socket.send(JSON.stringify(a),n,(e=>{if(e)return o(e);this.queue.set(s,{promise:[i,o]}),r&&(this.queue.get(s).timeout=setTimeout((()=>{this.queue.delete(s),o(new Error("reply timeout"))}),r))}))}))}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise(((r,n)=>{if(!this.ready)return n(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t||null};this.socket.send(JSON.stringify(i),(e=>{if(e)return n(e);r()}))}))}async subscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}_connect(e,t){this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(({data:e})=>{e instanceof ArrayBuffer&&(e=Hn.from(e).toString());try{e=JSON.parse(e)}catch{return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let r=0;r<e.params.length;r++)t.push(e.params[r]);return Promise.resolve().then((()=>{this.emit.apply(this,t)}))}if(!this.queue.has(e.id))return e.method&&e.params?Promise.resolve().then((()=>{this.emit(e.method,e.params)})):void 0;"error"in e=="result"in e&&this.queue.get(e.id).promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue.get(e.id).timeout&&clearTimeout(this.queue.get(e.id).timeout),e.error?this.queue.get(e.id).promise[1](e.error):this.queue.get(e.id).promise[0](e.result),this.queue.delete(e.id)})),this.socket.addEventListener("error",(e=>this.emit("error",e))),this.socket.addEventListener("close",(({code:r,reason:n})=>{this.ready&&setTimeout((()=>this.emit("close",r,n)),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&setTimeout((()=>this._connect(e,t)),this.reconnect_interval))}))}}Hy.default=Jy,Object.defineProperty(zy,"__esModule",{value:!0}),zy.Client=void 0;var Qy=Xy(qy),Yy=Xy(Hy);function Xy(e){return e&&e.__esModule?e:{default:e}}class $y extends Yy.default{constructor(e="ws://localhost:8080",{autoconnect:t=!0,reconnect:r=!0,reconnect_interval:n=1e3,max_reconnects:i=5}={},o){super(Qy.default,e,{autoconnect:t,reconnect:r,reconnect_interval:n,max_reconnects:i},o)}}zy.Client=$y;var em,tm=new Uint8Array(16);function rm(){if(!em&&!(em=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return em(tm)}const nm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function im(e){return"string"==typeof e&&nm.test(e)}for(var om=[],sm=0;sm<256;++sm)om.push((sm+256).toString(16).substr(1));function am(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(om[e[t+0]]+om[e[t+1]]+om[e[t+2]]+om[e[t+3]]+"-"+om[e[t+4]]+om[e[t+5]]+"-"+om[e[t+6]]+om[e[t+7]]+"-"+om[e[t+8]]+om[e[t+9]]+"-"+om[e[t+10]]+om[e[t+11]]+om[e[t+12]]+om[e[t+13]]+om[e[t+14]]+om[e[t+15]]).toLowerCase();if(!im(r))throw TypeError("Stringified UUID is invalid");return r}var cm,um,dm=0,fm=0;function lm(e){if(!im(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}function hm(e,t,r){function n(e,n,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=lm(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),(s=r(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return am(s)}try{n.name=e}catch{}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function pm(e){return 14+(e+64>>>9<<4)+1}function ym(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function mm(e,t,r,n,i,o){return ym(function(e,t){return e<<t|e>>>32-t}(ym(ym(t,e),ym(n,o)),i),r)}function bm(e,t,r,n,i,o,s){return mm(t&r|~t&n,e,t,i,o,s)}function gm(e,t,r,n,i,o,s){return mm(t&n|r&~n,e,t,i,o,s)}function vm(e,t,r,n,i,o,s){return mm(t^r^n,e,t,i,o,s)}function wm(e,t,r,n,i,o,s){return mm(r^(t|~n),e,t,i,o,s)}var _m=hm("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[pm(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=r,c=n,u=i,d=o;r=bm(r,n,i,o,e[s],7,-680876936),o=bm(o,r,n,i,e[s+1],12,-389564586),i=bm(i,o,r,n,e[s+2],17,606105819),n=bm(n,i,o,r,e[s+3],22,-1044525330),r=bm(r,n,i,o,e[s+4],7,-176418897),o=bm(o,r,n,i,e[s+5],12,1200080426),i=bm(i,o,r,n,e[s+6],17,-1473231341),n=bm(n,i,o,r,e[s+7],22,-45705983),r=bm(r,n,i,o,e[s+8],7,1770035416),o=bm(o,r,n,i,e[s+9],12,-1958414417),i=bm(i,o,r,n,e[s+10],17,-42063),n=bm(n,i,o,r,e[s+11],22,-1990404162),r=bm(r,n,i,o,e[s+12],7,1804603682),o=bm(o,r,n,i,e[s+13],12,-40341101),i=bm(i,o,r,n,e[s+14],17,-1502002290),r=gm(r,n=bm(n,i,o,r,e[s+15],22,1236535329),i,o,e[s+1],5,-165796510),o=gm(o,r,n,i,e[s+6],9,-1069501632),i=gm(i,o,r,n,e[s+11],14,643717713),n=gm(n,i,o,r,e[s],20,-373897302),r=gm(r,n,i,o,e[s+5],5,-701558691),o=gm(o,r,n,i,e[s+10],9,38016083),i=gm(i,o,r,n,e[s+15],14,-660478335),n=gm(n,i,o,r,e[s+4],20,-405537848),r=gm(r,n,i,o,e[s+9],5,568446438),o=gm(o,r,n,i,e[s+14],9,-1019803690),i=gm(i,o,r,n,e[s+3],14,-187363961),n=gm(n,i,o,r,e[s+8],20,1163531501),r=gm(r,n,i,o,e[s+13],5,-1444681467),o=gm(o,r,n,i,e[s+2],9,-51403784),i=gm(i,o,r,n,e[s+7],14,1735328473),r=vm(r,n=gm(n,i,o,r,e[s+12],20,-1926607734),i,o,e[s+5],4,-378558),o=vm(o,r,n,i,e[s+8],11,-2022574463),i=vm(i,o,r,n,e[s+11],16,1839030562),n=vm(n,i,o,r,e[s+14],23,-35309556),r=vm(r,n,i,o,e[s+1],4,-1530992060),o=vm(o,r,n,i,e[s+4],11,1272893353),i=vm(i,o,r,n,e[s+7],16,-155497632),n=vm(n,i,o,r,e[s+10],23,-1094730640),r=vm(r,n,i,o,e[s+13],4,681279174),o=vm(o,r,n,i,e[s],11,-358537222),i=vm(i,o,r,n,e[s+3],16,-722521979),n=vm(n,i,o,r,e[s+6],23,76029189),r=vm(r,n,i,o,e[s+9],4,-640364487),o=vm(o,r,n,i,e[s+12],11,-421815835),i=vm(i,o,r,n,e[s+15],16,530742520),r=wm(r,n=vm(n,i,o,r,e[s+2],23,-995338651),i,o,e[s],6,-198630844),o=wm(o,r,n,i,e[s+7],10,1126891415),i=wm(i,o,r,n,e[s+14],15,-1416354905),n=wm(n,i,o,r,e[s+5],21,-57434055),r=wm(r,n,i,o,e[s+12],6,1700485571),o=wm(o,r,n,i,e[s+3],10,-1894986606),i=wm(i,o,r,n,e[s+10],15,-1051523),n=wm(n,i,o,r,e[s+1],21,-2054922799),r=wm(r,n,i,o,e[s+8],6,1873313359),o=wm(o,r,n,i,e[s+15],10,-30611744),i=wm(i,o,r,n,e[s+6],15,-1560198380),n=wm(n,i,o,r,e[s+13],21,1309151649),r=wm(r,n,i,o,e[s+4],6,-145523070),o=wm(o,r,n,i,e[s+11],10,-1120210379),i=wm(i,o,r,n,e[s+2],15,718787259),n=wm(n,i,o,r,e[s+9],21,-343485551),r=ym(r,a),n=ym(n,c),i=ym(i,u),o=ym(o,d)}return[r,n,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(pm(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))}));const Sm=_m;function Em(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function km(e,t){return e<<t|e>>>32-t}var Am=hm("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var u=new Uint32Array(16),d=0;d<16;++d)u[d]=e[64*c+4*d]<<24|e[64*c+4*d+1]<<16|e[64*c+4*d+2]<<8|e[64*c+4*d+3];a[c]=u}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<s;++f){for(var l=new Uint32Array(80),h=0;h<16;++h)l[h]=a[f][h];for(var p=16;p<80;++p)l[p]=km(l[p-3]^l[p-8]^l[p-14]^l[p-16],1);for(var y=r[0],m=r[1],b=r[2],g=r[3],v=r[4],w=0;w<80;++w){var _=Math.floor(w/20),S=km(y,5)+Em(_,m,b,g)+v+t[_]+l[w]>>>0;v=g,g=b,b=km(m,30)>>>0,m=y,y=S}r[0]=r[0]+y>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+b>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+v>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}));const xm=Am;const Im=Object.freeze(Object.defineProperty({__proto__:null,NIL:"00000000-0000-0000-0000-000000000000",parse:lm,stringify:am,v1:function(e,t,r){var n=t&&r||0,i=t||new Array(16),o=(e=e||{}).node||cm,s=void 0!==e.clockseq?e.clockseq:um;if(null==o||null==s){var a=e.random||(e.rng||rm)();null==o&&(o=cm=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=um=16383&(a[6]<<8|a[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:fm+1,d=c-dm+(u-fm)/1e4;if(d<0&&void 0===e.clockseq&&(s=s+1&16383),(d<0||c>dm)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");dm=c,fm=u,um=s;var f=(1e4*(268435455&(c+=122192928e5))+u)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=255&f;var l=c/4294967296*1e4&268435455;i[n++]=l>>>8&255,i[n++]=255&l,i[n++]=l>>>24&15|16,i[n++]=l>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(var h=0;h<6;++h)i[n+h]=o[h];return t||am(i)},v3:Sm,v4:function(e,t,r){var n=(e=e||{}).random||(e.rng||rm)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return am(n)},v5:xm,validate:im,version:function(e){if(!im(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},Symbol.toStringTag,{value:"Module"})),Tm=ur(Im),Om=Tm.v4;var Pm=function(e,t,r,n){if("string"!=typeof e)throw new TypeError(e+" must be a string");const i="number"==typeof(n=n||{}).version?n.version:2;if(1!==i&&2!==i)throw new TypeError(i+" must be 1 or 2");const o={method:e};if(2===i&&(o.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if(typeof r>"u"){const e="function"==typeof n.generator?n.generator:function(){return Om()};o.id=e(o,n)}else 2===i&&null===r?n.notificationIdNull&&(o.id=null):o.id=r;return o};const Mm=Tm.v4,Rm=Pm,Bm=function(e,t){if(!(this instanceof Bm))return new Bm(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return Mm()},version:typeof t.version<"u"?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};Bm.prototype.request=function(e,t,r,n){const i=this;let o=null;const s=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&e&&"object"==typeof e&&"function"==typeof t)n=t,o=e;else{"function"==typeof r&&(n=r,r=void 0);const i="function"==typeof n;try{o=Rm(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(i)return n(e);throw e}if(!i)return o}let a;try{a=JSON.stringify(o,this.options.replacer)}catch(e){return n(e)}return this.callServer(a,(function(e,t){i._parseResponse(e,t,n)})),o},Bm.prototype._parseResponse=function(e,t,r){if(e)return void r(e);if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length){if(Array.isArray(n)){const e=function(e){return typeof e.error<"u"},t=function(t){return!e(t)};return r(null,n.filter(e),n.filter(t))}return r(null,n.error,n.result)}r(null,n)},function(){var e="object"==typeof window?window:{};!e.JS_SHA3_NO_NODE_JS&&"object"==typeof I&&I.versions&&I.versions.node&&(e=ar);var t=!e.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",r="0123456789abcdef".split(""),n=[4,1024,262144,67108864],i=[0,8,16,24],o=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=[224,256,384,512],a=[128,256],c=["hex","buffer","arrayBuffer","array"],u={128:168,256:136};(e.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});for(var d=function(e,t,r){return function(n){return new k(e,t,e).update(n)[r]()}},f=function(e,t,r){return function(n,i){return new k(e,t,i).update(n)[r]()}},l=function(e,t,r){return function(t,n,i,o){return b["cshake"+e].update(t,n,i,o)[r]()}},h=function(e,t,r){return function(t,n,i,o){return b["kmac"+e].update(t,n,i,o)[r]()}},p=function(e,t,r,n){for(var i=0;i<c.length;++i){var o=c[i];e[o]=t(r,n,o)}return e},y=function(e,t){var r=d(e,t,"hex");return r.create=function(){return new k(e,t,e)},r.update=function(e){return r.create().update(e)},p(r,d,e,t)},m=[{name:"keccak",padding:[1,256,65536,16777216],bits:s,createMethod:y},{name:"sha3",padding:[6,1536,393216,100663296],bits:s,createMethod:y},{name:"shake",padding:[31,7936,2031616,520093696],bits:a,createMethod:function(e,t){var r=f(e,t,"hex");return r.create=function(r){return new k(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},p(r,f,e,t)}},{name:"cshake",padding:n,bits:a,createMethod:function(e,t){var r=u[e],n=l(e,0,"hex");return n.create=function(n,i,o){return i||o?new k(e,t,n).bytepad([i,o],r):b["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},p(n,l,e,t)}},{name:"kmac",padding:n,bits:a,createMethod:function(e,t){var r=u[e],n=h(e,0,"hex");return n.create=function(n,i,o){return new A(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},p(n,h,e,t)}}],b={},g=0;g<m.length;++g)for(var v=m[g],w=v.bits,_=0;_<w.length;++_){var S=v.name+"_"+w[_];if(b[S]=v.createMethod(w[_],v.padding),"sha3"!==v.name){var E=v.name+w[_];b[E]=b[S]}}function k(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function A(e,t,r){k.call(this,e,t,r)}k.prototype.update=function(r){var n="string"!=typeof r;n&&r.constructor===e.ArrayBuffer&&(r=new Uint8Array(r));var o=r.length;if(n&&("number"!=typeof o||!Array.isArray(r)&&(!t||!ArrayBuffer.isView(r))))throw"input is invalid type";for(var s,a,c=this.blocks,u=this.byteCount,d=this.blockCount,f=0,l=this.s;f<o;){if(this.reset)for(this.reset=!1,c[0]=this.block,s=1;s<d+1;++s)c[s]=0;if(n)for(s=this.start;f<o&&s<u;++f)c[s>>2]|=r[f]<<i[3&s++];else for(s=this.start;f<o&&s<u;++f)(a=r.charCodeAt(f))<128?c[s>>2]|=a<<i[3&s++]:a<2048?(c[s>>2]|=(192|a>>6)<<i[3&s++],c[s>>2]|=(128|63&a)<<i[3&s++]):a<55296||a>=57344?(c[s>>2]|=(224|a>>12)<<i[3&s++],c[s>>2]|=(128|a>>6&63)<<i[3&s++],c[s>>2]|=(128|63&a)<<i[3&s++]):(a=65536+((1023&a)<<10|1023&r.charCodeAt(++f)),c[s>>2]|=(240|a>>18)<<i[3&s++],c[s>>2]|=(128|a>>12&63)<<i[3&s++],c[s>>2]|=(128|a>>6&63)<<i[3&s++],c[s>>2]|=(128|63&a)<<i[3&s++]);if(this.lastByteIndex=s,s>=u){for(this.start=s-u,this.block=c[d],s=0;s<d;++s)l[s]^=c[s];x(l),this.reset=!0}else this.start=s}return this},k.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},k.prototype.encodeString=function(r){var n="string"!=typeof(r=r||"");n&&r.constructor===e.ArrayBuffer&&(r=new Uint8Array(r));var i=r.length;if(n&&("number"!=typeof i||!Array.isArray(r)&&(!t||!ArrayBuffer.isView(r))))throw"input is invalid type";var o=0;if(n)o=i;else for(var s=0;s<r.length;++s){var a=r.charCodeAt(s);a<128?o+=1:a<2048?o+=2:a<55296||a>=57344?o+=3:(a=65536+((1023&a)<<10|1023&r.charCodeAt(++s)),o+=4)}return o+=this.encode(8*o),this.update(r),o},k.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,o=[];return o.length=i,this.update(o),this},k.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];x(n)},k.prototype.toString=k.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,c="";a<i;){for(s=0;s<t&&a<i;++s,++a)e=n[s],c+=r[e>>4&15]+r[15&e]+r[e>>12&15]+r[e>>8&15]+r[e>>20&15]+r[e>>16&15]+r[e>>28&15]+r[e>>24&15];a%t==0&&(x(n),s=0)}return o&&(e=n[s],o>0&&(c+=r[e>>4&15]+r[15&e]),o>1&&(c+=r[e>>12&15]+r[e>>8&15]),o>2&&(c+=r[e>>20&15]+r[e>>16&15])),c},k.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(e);s<n;){for(o=0;o<t&&s<n;++o,++s)c[s]=r[o];s%t==0&&x(r)}return i&&(c[o]=r[o],e=e.slice(0,a)),e},k.prototype.buffer=k.prototype.arrayBuffer,k.prototype.digest=k.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,c=[];a<i;){for(s=0;s<r&&a<i;++s,++a)e=a<<2,t=n[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%r==0&&x(n)}return o&&(e=a<<2,t=n[s],o>0&&(c[e]=255&t),o>1&&(c[e+1]=t>>8&255),o>2&&(c[e+2]=t>>16&255)),c},A.prototype=new k,A.prototype.finalize=function(){return this.encode(this.outputBits,!0),k.prototype.finalize.call(this)};var x=function(e){var t,r,n,i,s,a,c,u,d,f,l,h,p,y,m,b,g,v,w,_,S,E,k,A,x,I,T,O,P,M,R,B,U,N,j,C,L,D,F,W,z,q,V,K,Z,H,G,J,Q,Y,X,$,ee,te,re,ne,ie,oe,se,ae,ce,ue,de;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],c=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],d=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|c>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(c<<1|a>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|d>>>31),r=s^(d<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=a^(f<<1|l>>>31),r=c^(l<<1|f>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(h<<1|p>>>31),r=d^(p<<1|h>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=f^(i<<1|s>>>31),r=l^(s<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,y=e[0],m=e[1],H=e[11]<<4|e[10]>>>28,G=e[10]<<4|e[11]>>>28,O=e[20]<<3|e[21]>>>29,P=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,q=e[40]<<18|e[41]>>>14,V=e[41]<<18|e[40]>>>14,N=e[2]<<1|e[3]>>>31,j=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Q=e[23]<<10|e[22]>>>22,M=e[33]<<13|e[32]>>>19,R=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,de=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,C=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,B=e[45]<<29|e[44]>>>3,U=e[44]<<29|e[45]>>>3,A=e[6]<<28|e[7]>>>4,x=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,D=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,S=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,K=e[8]<<27|e[9]>>>5,Z=e[9]<<27|e[8]>>>5,I=e[18]<<20|e[19]>>>12,T=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,W=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,E=e[48]<<14|e[49]>>>18,k=e[49]<<14|e[48]>>>18,e[0]=y^~b&v,e[1]=m^~g&w,e[10]=A^~I&O,e[11]=x^~T&P,e[20]=N^~C&D,e[21]=j^~L&F,e[30]=K^~H&J,e[31]=Z^~G&Q,e[40]=te^~ne&oe,e[41]=re^~ie&se,e[2]=b^~v&_,e[3]=g^~w&S,e[12]=I^~O&M,e[13]=T^~P&R,e[22]=C^~D&W,e[23]=L^~F&z,e[32]=H^~J&Y,e[33]=G^~Q&X,e[42]=ne^~oe&ae,e[43]=ie^~se&ce,e[4]=v^~_&E,e[5]=w^~S&k,e[14]=O^~M&B,e[15]=P^~R&U,e[24]=D^~W&q,e[25]=F^~z&V,e[34]=J^~Y&$,e[35]=Q^~X&ee,e[44]=oe^~ae&ue,e[45]=se^~ce&de,e[6]=_^~E&y,e[7]=S^~k&m,e[16]=M^~B&A,e[17]=R^~U&x,e[26]=W^~q&N,e[27]=z^~V&j,e[36]=Y^~$&K,e[37]=X^~ee&Z,e[46]=ae^~ue&te,e[47]=ce^~de&re,e[8]=E^~y&b,e[9]=k^~m&g,e[18]=B^~A&I,e[19]=U^~x&T,e[28]=q^~N&C,e[29]=V^~j&L,e[38]=$^~K&H,e[39]=ee^~Z&G,e[48]=ue^~te&ne,e[49]=de^~re&ie,e[0]^=o[n],e[1]^=o[n+1]}}();const Um=(e,t)=>Ih.sign.detached(e,t);function Nm(e,t,r){return Ih.sign.detached.verify(t,e,r)}let jm=Ih.lowlevel;function Cm(e){var t=[jm.gf(),jm.gf(),jm.gf(),jm.gf()],r=jm.gf(),n=jm.gf(),i=jm.gf(),o=jm.gf(),s=jm.gf(),a=jm.gf(),c=jm.gf();return jm.set25519(t[2],Lm),jm.unpack25519(t[1],e),jm.S(i,t[1]),jm.M(o,i,jm.D),jm.Z(i,i,t[2]),jm.A(o,t[2],o),jm.S(s,o),jm.S(a,s),jm.M(c,a,s),jm.M(r,c,i),jm.M(r,r,o),jm.pow2523(r,r),jm.M(r,r,i),jm.M(r,r,o),jm.M(r,r,o),jm.M(t[0],r,o),jm.S(n,t[0]),jm.M(n,n,o),Fm(n,i)&&jm.M(t[0],t[0],Dm),jm.S(n,t[0]),jm.M(n,n,o),!Fm(n,i)}let Lm=jm.gf([1]),Dm=jm.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Fm(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return jm.pack25519(r,e),jm.pack25519(n,t),jm.crypto_verify_32(r,0,n,0)}const Wm=e=>Gn.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Gn.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Gn.Buffer.from(e);let zm=class{constructor(e){Object.assign(this,e)}encode(){return Gn.Buffer.from(dp(qm,this))}static decode(e){return hp(qm,this,e)}static decodeUnchecked(e){return Jh(qm,this,e)}};const qm=new Map,Vm=32;let Km=1,Zm=class e extends zm{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=Mh.decode(e);if(t.length!=Vm)throw new Error("Invalid public key input");this._bn=new ld(t)}else this._bn=new ld(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const t=new e(Km);return Km+=1,new e(t.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Mh.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(Gn.Buffer);if(e.length===Vm)return e;const t=Gn.Buffer.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(t,r,n){const i=Gn.Buffer.concat([t.toBuffer(),Gn.Buffer.from(r),n.toBuffer()]),o=new Uint8Array((new za.sha256).update(i).digest());return new e(o)}static createProgramAddressSync(t,r){let n=Gn.Buffer.alloc(0);t.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=Gn.Buffer.concat([n,Wm(e)])})),n=Gn.Buffer.concat([n,r.toBuffer(),Gn.Buffer.from("ProgramDerivedAddress")]);const i=new Uint8Array((new za.sha256).update(n).digest());if(Cm(i))throw new Error("Invalid seeds, address must fall off the curve");return new e(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(Gn.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(t){return Cm(new e(t).toBytes())}};Zm.default=new Zm("11111111111111111111111111111111"),qm.set(Zm,{kind:"struct",fields:[["_bn","u256"]]}),new Zm("BPFLoader1111111111111111111111111111111111");const Hm=1232;let Gm=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,r)=>{t.set(e.toBase58(),r)}));const r=e=>{const r=t.get(e.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return e.map((e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map((e=>r(e.pubkey))),data:e.data})))}};const Jm=(e="publicKey")=>sy(32,e),Qm=(e="signature")=>sy(64,e),Ym=(e="string")=>{const t=iy([ty("length"),ty("lengthPadding"),sy(Xp(ty(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(e,t)=>r(e,t).chars.toString(),i.encode=(e,t,r)=>{const i={chars:Gn.Buffer.from(e,"utf8")};return n(i,t,r)},i.alloc=e=>ty().span+ty().span+Gn.Buffer.from(e,"utf8").length,i};function Xm(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,!(128&n))break}return t}function $m(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}function eb(e,t){if(!e)throw new Error(t||"Assertion failed")}let tb=class e{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(t,r){const n=new Map,i=e=>{const t=e.toBase58();let r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},o=i(r);o.isSigner=!0,o.isWritable=!0;for(const e of t){i(e.programId).isInvoked=!0;for(const t of e.keys){const e=i(t.pubkey);e.isSigner||(e.isSigner=t.isSigner),e.isWritable||(e.isWritable=t.isWritable)}}return new e(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];eb(e.length<256,"Max static account keys length exceeded");const t=e.filter((([,e])=>e.isSigner&&e.isWritable)),r=e.filter((([,e])=>e.isSigner&&!e.isWritable)),n=e.filter((([,e])=>!e.isSigner&&e.isWritable)),i=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{eb(t.length>0,"Expected at least one writable signer key");const[e]=t[0];eb(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...t.map((([e])=>new Zm(e))),...r.map((([e])=>new Zm(e))),...n.map((([e])=>new Zm(e))),...i.map((([e])=>new Zm(e)))]]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,n=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const t=new Zm(i),o=e.findIndex((e=>e.equals(t)));o>=0&&(eb(o<256,"Max lookup table index exceeded"),r.push(o),n.push(t),this.keyMetaMap.delete(i))}return[r,n]}},rb=class e{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Zm(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Mh.decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new Gm(this.staticAccountKeys)}static compile(t){const r=tb.compile(t.instructions,t.payerKey),[n,i]=r.getMessageComponents(),o=new Gm(i).compileInstructions(t.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:Mh.encode(e.data)})));return new e({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];$m(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(Mh.decode(e.data));let i=[];$m(i,t.length);let o=[];return $m(o,n.length),{programIdIndex:r,keyIndicesCount:Gn.Buffer.from(i),keyIndices:t,dataLength:Gn.Buffer.from(o),data:n}}));let n=[];$m(n,r.length);let i=Gn.Buffer.alloc(Hm);Gn.Buffer.from(n).copy(i);let o=n.length;r.forEach((e=>{const t=iy([$p("programIdIndex"),sy(e.keyIndicesCount.length,"keyIndicesCount"),oy($p("keyIndex"),e.keyIndices.length,"keyIndices"),sy(e.dataLength.length,"dataLength"),oy($p("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);const s=iy([sy(1,"numRequiredSignatures"),sy(1,"numReadonlySignedAccounts"),sy(1,"numReadonlyUnsignedAccounts"),sy(t.length,"keyCount"),oy(Jm("key"),e,"keys"),Jm("recentBlockhash")]),a={numRequiredSignatures:Gn.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Gn.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Gn.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Gn.Buffer.from(t),keys:this.accountKeys.map((e=>Wm(e.toBytes()))),recentBlockhash:Mh.decode(this.recentBlockhash)};let c=Gn.Buffer.alloc(2048);const u=s.encode(a,c);return i.copy(c,u),c.slice(0,u+i.length)}static from(t){let r=[...t];const n=r.shift();if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=r.shift(),o=r.shift(),s=Xm(r);let a=[];for(let e=0;e<s;e++){const e=r.slice(0,Vm);r=r.slice(Vm),a.push(new Zm(Gn.Buffer.from(e)))}const c=r.slice(0,Vm);r=r.slice(Vm);const u=Xm(r);let d=[];for(let e=0;e<u;e++){const e=r.shift(),t=Xm(r),n=r.slice(0,t);r=r.slice(t);const i=Xm(r),o=r.slice(0,i),s=Mh.encode(Gn.Buffer.from(o));r=r.slice(i),d.push({programIdIndex:e,accounts:n,data:s})}const f={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Mh.encode(Gn.Buffer.from(c)),accountKeys:a,instructions:d};return new e(f)}},nb=class e{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Gm(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){return e-r<this.addressTableLookups.reduce(((e,t)=>e+t.writableIndexes.length),0)}if(e>=this.header.numRequiredSignatures){return e-t<r-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const n=e.find((e=>e.key.equals(r.accountKey)));if(!n)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const e of r.writableIndexes){if(!(e<n.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);t.writable.push(n.state.addresses[e])}for(const e of r.readonlyIndexes){if(!(e<n.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);t.readonly.push(n.state.addresses[e])}}return t}static compile(t){const r=tb.compile(t.instructions,t.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const e of o){const t=r.extractTableLookup(e);if(void 0!==t){const[e,{writable:r,readonly:o}]=t;n.push(e),i.writable.push(...r),i.readonly.push(...o)}}const[s,a]=r.getMessageComponents(),c=new Gm(a,i).compileInstructions(t.instructions);return new e({header:s,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:c,addressTableLookups:n})}serialize(){const e=Array();$m(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();$m(r,this.compiledInstructions.length);const n=this.serializeAddressTableLookups(),i=Array();$m(i,this.addressTableLookups.length);const o=iy([$p("prefix"),iy([$p("numRequiredSignatures"),$p("numReadonlySignedAccounts"),$p("numReadonlyUnsignedAccounts")],"header"),sy(e.length,"staticAccountKeysLength"),oy(Jm(),this.staticAccountKeys.length,"staticAccountKeys"),Jm("recentBlockhash"),sy(r.length,"instructionsLength"),sy(t.length,"serializedInstructions"),sy(i.length,"addressTableLookupsLength"),sy(n.length,"serializedAddressTableLookups")]),s=new Uint8Array(Hm),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:Mh.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},s);return s.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(Hm);for(const r of this.compiledInstructions){const n=Array();$m(n,r.accountKeyIndexes.length);const i=Array();$m(i,r.data.length);e+=iy([$p("programIdIndex"),sy(n.length,"encodedAccountKeyIndexesLength"),oy($p(),r.accountKeyIndexes.length,"accountKeyIndexes"),sy(i.length,"encodedDataLength"),sy(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Hm);for(const r of this.addressTableLookups){const n=Array();$m(n,r.writableIndexes.length);const i=Array();$m(i,r.readonlyIndexes.length);e+=iy([Jm("accountKey"),sy(n.length,"encodedWritableIndexesLength"),oy($p(),r.writableIndexes.length,"writableIndexes"),sy(i.length,"encodedReadonlyIndexesLength"),oy($p(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(t){let r=[...t];const n=r.shift(),i=127&n;eb(n!==i,"Expected versioned message but received legacy message");eb(0===i,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},s=[],a=Xm(r);for(let e=0;e<a;e++)s.push(new Zm(r.splice(0,Vm)));const c=Mh.encode(r.splice(0,Vm)),u=Xm(r),d=[];for(let e=0;e<u;e++){const e=r.shift(),t=Xm(r),n=r.splice(0,t),i=Xm(r),o=new Uint8Array(r.splice(0,i));d.push({programIdIndex:e,accountKeyIndexes:n,data:o})}const f=Xm(r),l=[];for(let e=0;e<f;e++){const e=new Zm(r.splice(0,Vm)),t=Xm(r),n=r.splice(0,t),i=Xm(r),o=r.splice(0,i);l.push({accountKey:e,writableIndexes:n,readonlyIndexes:o})}return new e({header:o,staticAccountKeys:s,recentBlockhash:c,compiledInstructions:d,addressTableLookups:l})}};const ib={deserializeMessageVersion(e){const t=e[0],r=127&t;return r===t?"legacy":r},deserialize:e=>{const t=ib.deserializeMessageVersion(e);if("legacy"===t)return rb.from(e);if(0===t)return nb.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let ob;!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(ob||(ob={}));const sb=Gn.Buffer.alloc(64).fill(0);let ab=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Gn.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}},cb=class e{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new ab(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const n=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new Zm(e),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),r=o.findIndex((e=>e.pubkey.toString()===t));r>-1?(o[r].isWritable=o[r].isWritable||e.isWritable,o[r].isSigner=o[r].isSigner||e.isSigner):o.push(e)})),o.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));const s=o.findIndex((e=>e.pubkey.equals(r)));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=o.findIndex((t=>t.pubkey.equals(e.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);o[t].isSigner||(o[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const d=[],f=[];o.forEach((({pubkey:e,isSigner:t,isWritable:r})=>{t?(d.push(e.toString()),a+=1,r||(c+=1)):(f.push(e.toString()),r||(u+=1))}));const l=d.concat(f),h=t.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:l.indexOf(r.toString()),accounts:e.keys.map((e=>l.indexOf(e.pubkey.toString()))),data:Mh.encode(t)}}));return h.forEach((e=>{eb(e.programIdIndex>=0),e.accounts.forEach((e=>eb(e>=0)))})),new rb({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:l,recentBlockhash:e,instructions:h})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every(((e,r)=>t[r].equals(e.publicKey)))||(this.signatures=t.map((e=>({signature:null,publicKey:e})))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter((e=>{const r=e.toString();return!t.has(r)&&(t.add(r),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}this.signatures=r.map((e=>({signature:null,publicKey:e.publicKey})));const n=this._compile();this._partialSign(n,...r)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}const n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach((e=>{const t=Um(r,e.secretKey);this._addSignature(e.publicKey,Wm(t))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){eb(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Gn.Buffer.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!Nm(r,e,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];$m(r,t.length);const n=r.length+64*t.length+e.length,i=Gn.Buffer.alloc(n);return eb(t.length<256),Gn.Buffer.from(r).copy(i,0),t.forEach((({signature:e},t)=>{null!==e&&(eb(64===e.length,"signature has invalid length"),Gn.Buffer.from(e).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),eb(i.length<=Hm,`Transaction too large: ${i.length} > 1232`),i}get keys(){return eb(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return eb(1===this.instructions.length),this.instructions[0].programId}get data(){return eb(1===this.instructions.length),this.instructions[0].data}static from(t){let r=[...t];const n=Xm(r);let i=[];for(let e=0;e<n;e++){const e=r.slice(0,64);r=r.slice(64),i.push(Mh.encode(Gn.Buffer.from(e)))}return e.populate(rb.from(r),i)}static populate(t,r=[]){const n=new e;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach(((e,r)=>{const i={signature:e==Mh.encode(sb)?null:Mh.decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((e=>{const r=e.accounts.map((e=>{const r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((e=>e.publicKey.toString()===r.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new ab({keys:r,programId:t.accountKeys[e.programIdIndex],data:Mh.decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}},ub=class e{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)eb(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let r=0;r<e.header.numRequiredSignatures;r++)t.push(new Uint8Array(64));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();$m(t,this.signatures.length);const r=iy([sy(t.length,"encodedSignaturesLength"),oy(Qm(),this.signatures.length,"signatures"),sy(e.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},n);return n.slice(0,i)}static deserialize(t){let r=[...t];const n=[],i=Xm(r);for(let e=0;e<i;e++)n.push(new Uint8Array(r.splice(0,64)));const o=ib.deserialize(new Uint8Array(r));return new e(o,n)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const n of e){const e=r.findIndex((e=>e.equals(n.publicKey)));eb(e>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[e]=Um(t,n.secretKey)}}addSignature(e,t){eb(64===t.byteLength,"Signature must be 64 bytes long");const r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((t=>t.equals(e)));eb(r>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[r]=t}};new Zm("SysvarC1ock11111111111111111111111111111111"),new Zm("SysvarEpochSchedu1e111111111111111111111111"),new Zm("Sysvar1nstructions1111111111111111111111111"),new Zm("SysvarRecentB1ockHashes11111111111111111111"),new Zm("SysvarRent111111111111111111111111111111111"),new Zm("SysvarRewards111111111111111111111111111111"),new Zm("SysvarS1otHashes111111111111111111111111111"),new Zm("SysvarS1otHistory11111111111111111111111111"),new Zm("SysvarStakeHistory1111111111111111111111111");const db=ry("lamportsPerSignature");iy([ty("version"),ty("state"),Jm("authorizedPubkey"),Jm("nonce"),iy([db],"feeCalculator")]).span;var fb={};Object.defineProperty(fb,"__esModule",{value:!0});var lb=fb.toBigIntLE=function(e){{const t=Hn.from(e);t.reverse();const r=t.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}};fb.toBigIntBE=function(e){{const t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}};var hb=fb.toBufferLE=function(e,t){{const r=e.toString(16),n=Hn.from(r.padStart(2*t,"0").slice(0,2*t),"hex");return n.reverse(),n}};fb.toBufferBE=function(e,t){{const r=e.toString(16);return Hn.from(r.padStart(2*t,"0").slice(0,2*t),"hex")}};const pb=(e=>t=>{const r=sy(e,t),{encode:n,decode:i}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(r),o=r;return o.decode=(e,t)=>{const r=i(e,t);return lb(Gn.Buffer.from(r))},o.encode=(t,r,i)=>{const o=hb(t,e);return n(o,r,i)},o})(8);Object.freeze({Create:{index:0,layout:iy([ty("instruction"),ny("lamports"),ny("space"),Jm("programId")])},Assign:{index:1,layout:iy([ty("instruction"),Jm("programId")])},Transfer:{index:2,layout:iy([ty("instruction"),pb("lamports")])},CreateWithSeed:{index:3,layout:iy([ty("instruction"),Jm("base"),Ym("seed"),ny("lamports"),ny("space"),Jm("programId")])},AdvanceNonceAccount:{index:4,layout:iy([ty("instruction")])},WithdrawNonceAccount:{index:5,layout:iy([ty("instruction"),ny("lamports")])},InitializeNonceAccount:{index:6,layout:iy([ty("instruction"),Jm("authorized")])},AuthorizeNonceAccount:{index:7,layout:iy([ty("instruction"),Jm("authorized")])},Allocate:{index:8,layout:iy([ty("instruction"),ny("space")])},AllocateWithSeed:{index:9,layout:iy([ty("instruction"),Jm("base"),Ym("seed"),ny("space"),Jm("programId")])},AssignWithSeed:{index:10,layout:iy([ty("instruction"),Jm("base"),Ym("seed"),Jm("programId")])},TransferWithSeed:{index:11,layout:iy([ty("instruction"),pb("lamports"),Ym("seed"),Jm("programId")])},UpgradeNonceAccount:{index:12,layout:iy([ty("instruction")])}}),new Zm("11111111111111111111111111111111"),new Zm("BPFLoader2111111111111111111111111111111111"),iy([ty("typeIndex"),pb("deactivationSlot"),ry("lastExtendedSlot"),$p("lastExtendedStartIndex"),$p(),oy(Jm(),Xp($p(),-1),"authority")]);const yb=Wy(Py(Zm),jy(),(e=>new Zm(e))),mb=Cy([jy(),My("base64")]),bb=Wy(Py(Gn.Buffer),mb,(e=>Gn.Buffer.from(e[0],"base64")));function gb(e){return Dy([Ly({jsonrpc:My("2.0"),id:jy(),result:e}),Ly({jsonrpc:My("2.0"),id:jy(),error:Ly({code:Fy(),message:jy(),data:Uy(Iy())})})])}const vb=gb(Fy());function wb(e){return Wy(gb(e),vb,(t=>"error"in t?t:{...t,result:Ey(t.result,e)}))}function _b(e){return wb(Ly({context:Ly({slot:By()}),value:e}))}function Sb(e){return Ly({context:Ly({slot:By()}),value:e})}const Eb=Ly({foundation:By(),foundationTerm:By(),initial:By(),taper:By(),terminal:By()});wb(Ty(Ry(Ly({epoch:By(),effectiveSlot:By(),amount:By(),postBalance:By()}))));const kb=Ly({epoch:By(),slotIndex:By(),slotsInEpoch:By(),absoluteSlot:By(),blockHeight:Uy(By()),transactionCount:Uy(By())}),Ab=Ly({slotsPerEpoch:By(),leaderScheduleSlotOffset:By(),warmup:Oy(),firstNormalEpoch:By(),firstNormalSlot:By()}),xb=Ny(jy(),Ty(By())),Ib=Ry(Dy([Ly({}),jy()])),Tb=Ly({err:Ib}),Ob=My("receivedSignature");Ly({"solana-core":jy(),"feature-set":Uy(By())}),_b(Ly({err:Ry(Dy([Ly({}),jy()])),logs:Ry(Ty(jy())),accounts:Uy(Ry(Ty(Ry(Ly({executable:Oy(),owner:jy(),lamports:By(),data:Ty(jy()),rentEpoch:Uy(By())}))))),unitsConsumed:Uy(By()),returnData:Uy(Ry(Ly({programId:jy(),data:Cy([jy(),My("base64")])})))})),_b(Ly({byIdentity:Ny(jy(),Ty(By())),range:Ly({firstSlot:By(),lastSlot:By()})})),wb(Eb),wb(kb),wb(Ab),wb(xb),wb(By()),_b(Ly({total:By(),circulating:By(),nonCirculating:By(),nonCirculatingAccounts:Ty(yb)}));const Pb=Ly({amount:jy(),uiAmount:Ry(By()),decimals:By(),uiAmountString:Uy(jy())});_b(Ty(Ly({address:yb,amount:jy(),uiAmount:Ry(By()),decimals:By(),uiAmountString:Uy(jy())}))),_b(Ty(Ly({pubkey:yb,account:Ly({executable:Oy(),owner:yb,lamports:By(),data:bb,rentEpoch:By()})})));const Mb=Ly({program:jy(),parsed:Fy(),space:By()});_b(Ty(Ly({pubkey:yb,account:Ly({executable:Oy(),owner:yb,lamports:By(),data:Mb,rentEpoch:By()})}))),_b(Ty(Ly({lamports:By(),address:yb})));const Rb=Ly({executable:Oy(),owner:yb,lamports:By(),data:bb,rentEpoch:By()});Ly({pubkey:yb,account:Rb});const Bb=Wy(Dy([Py(Gn.Buffer),Mb]),Dy([mb,Mb]),(e=>Array.isArray(e)?Ey(e,bb):e)),Ub=Ly({executable:Oy(),owner:yb,lamports:By(),data:Bb,rentEpoch:By()});Ly({pubkey:yb,account:Ub}),Ly({state:Dy([My("active"),My("inactive"),My("activating"),My("deactivating")]),active:By(),inactive:By()}),wb(Ty(Ly({signature:jy(),slot:By(),err:Ib,memo:Ry(jy()),blockTime:Uy(Ry(By()))}))),wb(Ty(Ly({signature:jy(),slot:By(),err:Ib,memo:Ry(jy()),blockTime:Uy(Ry(By()))}))),Ly({subscription:By(),result:Sb(Rb)});const Nb=Ly({pubkey:yb,account:Rb});Ly({subscription:By(),result:Sb(Nb)});const jb=Ly({parent:By(),slot:By(),root:By()});Ly({subscription:By(),result:jb});const Cb=Dy([Ly({type:Dy([My("firstShredReceived"),My("completed"),My("optimisticConfirmation"),My("root")]),slot:By(),timestamp:By()}),Ly({type:My("createdBank"),parent:By(),slot:By(),timestamp:By()}),Ly({type:My("frozen"),slot:By(),timestamp:By(),stats:Ly({numTransactionEntries:By(),numSuccessfulTransactions:By(),numFailedTransactions:By(),maxTransactionsPerEntry:By()})}),Ly({type:My("dead"),slot:By(),timestamp:By(),err:jy()})]);Ly({subscription:By(),result:Cb}),Ly({subscription:By(),result:Sb(Dy([Tb,Ob]))}),Ly({subscription:By(),result:By()}),Ly({pubkey:jy(),gossip:Ry(jy()),tpu:Ry(jy()),rpc:Ry(jy()),version:Ry(jy())});const Lb=Ly({votePubkey:jy(),nodePubkey:jy(),activatedStake:By(),epochVoteAccount:Oy(),epochCredits:Ty(Cy([By(),By(),By()])),commission:By(),lastVote:By(),rootSlot:Ry(By())});wb(Ly({current:Ty(Lb),delinquent:Ty(Lb)}));const Db=Dy([My("processed"),My("confirmed"),My("finalized")]),Fb=Ly({slot:By(),confirmations:Ry(By()),err:Ib,confirmationStatus:Uy(Db)});_b(Ty(Ry(Fb))),wb(By());const Wb=Ly({accountKey:yb,writableIndexes:Ty(By()),readonlyIndexes:Ty(By())}),zb=Ly({signatures:Ty(jy()),message:Ly({accountKeys:Ty(jy()),header:Ly({numRequiredSignatures:By(),numReadonlySignedAccounts:By(),numReadonlyUnsignedAccounts:By()}),instructions:Ty(Ly({accounts:Ty(By()),data:jy(),programIdIndex:By()})),recentBlockhash:jy(),addressTableLookups:Uy(Ty(Wb))})}),qb=Ly({parsed:Fy(),program:jy(),programId:yb}),Vb=Ly({accounts:Ty(yb),data:jy(),programId:yb}),Kb=Wy(Dy([Vb,qb]),Dy([Ly({parsed:Fy(),program:jy(),programId:jy()}),Ly({accounts:Ty(jy()),data:jy(),programId:jy()})]),(e=>Ey(e,"accounts"in e?Vb:qb))),Zb=Ly({signatures:Ty(jy()),message:Ly({accountKeys:Ty(Ly({pubkey:yb,signer:Oy(),writable:Oy(),source:Uy(Dy([My("transaction"),My("lookupTable")]))})),instructions:Ty(Kb),recentBlockhash:jy(),addressTableLookups:Uy(Ry(Ty(Wb)))})}),Hb=Ly({accountIndex:By(),mint:jy(),owner:Uy(jy()),uiTokenAmount:Pb}),Gb=Ly({writable:Ty(yb),readonly:Ty(yb)}),Jb=Ly({err:Ib,fee:By(),innerInstructions:Uy(Ry(Ty(Ly({index:By(),instructions:Ty(Ly({accounts:Ty(By()),data:jy(),programIdIndex:By()}))})))),preBalances:Ty(By()),postBalances:Ty(By()),logMessages:Uy(Ry(Ty(jy()))),preTokenBalances:Uy(Ry(Ty(Hb))),postTokenBalances:Uy(Ry(Ty(Hb))),loadedAddresses:Uy(Gb),computeUnitsConsumed:Uy(By())}),Qb=Ly({err:Ib,fee:By(),innerInstructions:Uy(Ry(Ty(Ly({index:By(),instructions:Ty(Kb)})))),preBalances:Ty(By()),postBalances:Ty(By()),logMessages:Uy(Ry(Ty(jy()))),preTokenBalances:Uy(Ry(Ty(Hb))),postTokenBalances:Uy(Ry(Ty(Hb))),loadedAddresses:Uy(Gb),computeUnitsConsumed:Uy(By())}),Yb=Dy([My(0),My("legacy")]);wb(Ry(Ly({blockhash:jy(),previousBlockhash:jy(),parentSlot:By(),transactions:Ty(Ly({transaction:zb,meta:Ry(Jb),version:Uy(Yb)})),rewards:Uy(Ty(Ly({pubkey:jy(),lamports:By(),postBalance:Ry(By()),rewardType:Ry(jy())}))),blockTime:Ry(By()),blockHeight:Ry(By())}))),wb(Ry(Ly({blockhash:jy(),previousBlockhash:jy(),parentSlot:By(),transactions:Ty(Ly({transaction:zb,meta:Ry(Jb)})),rewards:Uy(Ty(Ly({pubkey:jy(),lamports:By(),postBalance:Ry(By()),rewardType:Ry(jy())}))),blockTime:Ry(By())}))),wb(Ry(Ly({blockhash:jy(),previousBlockhash:jy(),parentSlot:By(),signatures:Ty(jy()),blockTime:Ry(By())}))),wb(Ry(Ly({slot:By(),meta:Jb,blockTime:Uy(Ry(By())),transaction:zb,version:Uy(Yb)}))),wb(Ry(Ly({slot:By(),transaction:Zb,meta:Ry(Qb),blockTime:Uy(Ry(By())),version:Uy(Yb)}))),_b(Ly({blockhash:jy(),feeCalculator:Ly({lamportsPerSignature:By()})})),_b(Ly({blockhash:jy(),lastValidBlockHeight:By()}));wb(Ty(Ly({slot:By(),numTransactions:By(),numSlots:By(),samplePeriodSecs:By()}))),_b(Ry(Ly({feeCalculator:Ly({lamportsPerSignature:By()})}))),wb(jy()),wb(jy());const Xb=Ly({err:Ib,logs:Ty(jy()),signature:jy()});Ly({result:Sb(Xb),subscription:By()}),Object.freeze({CreateLookupTable:{index:0,layout:iy([ty("instruction"),pb("recentSlot"),$p("bumpSeed")])},FreezeLookupTable:{index:1,layout:iy([ty("instruction")])},ExtendLookupTable:{index:2,layout:iy([ty("instruction"),pb(),oy(Jm(),Xp(ty(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:iy([ty("instruction")])},CloseLookupTable:{index:4,layout:iy([ty("instruction")])}}),new Zm("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:iy([$p("instruction"),ty("units"),ty("additionalFee")])},RequestHeapFrame:{index:1,layout:iy([$p("instruction"),ty("bytes")])},SetComputeUnitLimit:{index:2,layout:iy([$p("instruction"),ty("units")])},SetComputeUnitPrice:{index:3,layout:iy([$p("instruction"),pb("microLamports")])}}),new Zm("ComputeBudget111111111111111111111111111111"),iy([$p("numSignatures"),$p("padding"),ey("signatureOffset"),ey("signatureInstructionIndex"),ey("publicKeyOffset"),ey("publicKeyInstructionIndex"),ey("messageDataOffset"),ey("messageDataSize"),ey("messageInstructionIndex")]),new Zm("Ed25519SigVerify111111111111111111111111111");var $b=Object.freeze({__proto__:null,default:{}});const eg=BigInt(0),tg=BigInt(1),rg=BigInt(2),ng=BigInt(3),ig=BigInt(8),og=Object.freeze({a:eg,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:tg,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function sg(e){const{a:t,b:r}=og,n=Ig(e*e),i=Ig(n*e);return Ig(i+t*e+r)}const ag=og.a===eg;class cg extends Error{constructor(e){super(e)}}class ug{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof fg))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new ug(e.x,e.y,tg)}static toAffineBatch(e){const t=function(e,t=og.P){const r=new Array(e.length),n=e.reduce(((e,n,i)=>n===eg?e:(r[i]=e,Ig(e*n,t))),tg),i=Og(n,t);return e.reduceRight(((e,n,i)=>n===eg?e:(r[i]=Ig(e*r[i],t),Ig(e*n,t))),i),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return ug.toAffineBatch(e).map(ug.fromAffine)}equals(e){if(!(e instanceof ug))throw new TypeError("JacobianPoint expected");const{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e,a=Ig(n*n),c=Ig(s*s),u=Ig(t*c),d=Ig(i*a),f=Ig(Ig(r*s)*c),l=Ig(Ig(o*n)*a);return u===d&&f===l}negate(){return new ug(this.x,Ig(-this.y),this.z)}double(){const{x:e,y:t,z:r}=this,n=Ig(e*e),i=Ig(t*t),o=Ig(i*i),s=e+i,a=Ig(rg*(Ig(s*s)-n-o)),c=Ig(ng*n),u=Ig(c*c),d=Ig(u-rg*a),f=Ig(c*(a-d)-ig*o),l=Ig(rg*t*r);return new ug(d,f,l)}add(e){if(!(e instanceof ug))throw new TypeError("JacobianPoint expected");const{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e;if(i===eg||o===eg)return this;if(t===eg||r===eg)return e;const a=Ig(n*n),c=Ig(s*s),u=Ig(t*c),d=Ig(i*a),f=Ig(Ig(r*s)*c),l=Ig(Ig(o*n)*a),h=Ig(d-u),p=Ig(l-f);if(h===eg)return p===eg?this.double():ug.ZERO;const y=Ig(h*h),m=Ig(h*y),b=Ig(u*y),g=Ig(p*p-m-rg*b),v=Ig(p*(b-g)-f*m),w=Ig(n*s*h);return new ug(g,v,w)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=ug.ZERO;if("bigint"==typeof e&&e===eg)return t;let r=xg(e);if(r===tg)return this;if(!ag){let e=t,n=this;for(;r>eg;)r&tg&&(e=e.add(n)),n=n.double(),r>>=tg;return e}let{k1neg:n,k1:i,k2neg:o,k2:s}=Rg(r),a=t,c=t,u=this;for(;i>eg||s>eg;)i&tg&&(a=a.add(u)),s&tg&&(c=c.add(u)),u=u.double(),i>>=tg,s>>=tg;return n&&(a=a.negate()),o&&(c=c.negate()),c=new ug(Ig(c.x*og.beta),c.y,c.z),a.add(c)}precomputeWindow(e){const t=ag?128/e+1:256/e+1,r=[];let n=this,i=n;for(let o=0;o<t;o++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(ug.BASE)&&(t=fg.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&dg.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=ug.normalizeZ(n),dg.set(t,n)));let i=ug.ZERO,o=ug.ZERO;const s=1+(ag?128/r:256/r),a=2**(r-1),c=BigInt(2**r-1),u=2**r,d=BigInt(r);for(let t=0;t<s;t++){const r=t*a;let s=Number(e&c);if(e>>=d,s>a&&(s-=u,e+=tg),0===s){let e=n[r];t%2&&(e=e.negate()),o=o.add(e)}else{let e=n[r+Math.abs(s)-1];s<0&&(e=e.negate()),i=i.add(e)}}return{p:i,f:o}}multiply(e,t){let r,n,i=xg(e);if(ag){const{k1neg:e,k1:o,k2neg:s,k2:a}=Rg(i);let{p:c,f:u}=this.wNAF(o,t),{p:d,f:f}=this.wNAF(a,t);e&&(c=c.negate()),s&&(d=d.negate()),d=new ug(Ig(d.x*og.beta),d.y,d.z),r=c.add(d),n=u.add(f)}else{const{p:e,f:o}=this.wNAF(i,t);r=e,n=o}return ug.normalizeZ([r,n])[0]}toAffine(e=Og(this.z)){const{x:t,y:r,z:n}=this,i=e,o=Ig(i*i),s=Ig(o*i),a=Ig(t*o),c=Ig(r*s);if(Ig(n*i)!==tg)throw new Error("invZ was invalid");return new fg(a,c)}}ug.BASE=new ug(og.Gx,og.Gy,tg),ug.ZERO=new ug(eg,tg,eg);const dg=new WeakMap;class fg{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,dg.delete(this)}hasEvenY(){return this.y%rg===eg}static fromCompressedHex(e){const t=32===e.length,r=kg(t?e:e.subarray(1));if(!jg(r))throw new Error("Point is not on curve");let n=function(e){const{P:t}=og,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=Tg(u,ng)*u%t,f=Tg(d,ng)*u%t,l=Tg(f,rg)*c%t,h=Tg(l,n)*l%t,p=Tg(h,i)*h%t,y=Tg(p,s)*p%t,m=Tg(y,a)*y%t,b=Tg(m,s)*p%t,g=Tg(b,ng)*u%t,v=Tg(g,o)*h%t,w=Tg(v,r)*c%t;return Tg(w,rg)}(sg(r));const i=(n&tg)===tg;t?i&&(n=Ig(-n)):!(1&~e[0])!==i&&(n=Ig(-n));const o=new fg(r,n);return o.assertValidity(),o}static fromUncompressedHex(e){const t=kg(e.subarray(1,33)),r=kg(e.subarray(33,65)),n=new fg(t,r);return n.assertValidity(),n}static fromHex(e){const t=Ag(e),r=t.length,n=t[0];if(32===r||33===r&&(2===n||3===n))return this.fromCompressedHex(t);if(65===r&&4===n)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return fg.BASE.multiply(Cg(e))}static fromSignature(e,t,r){const n=function(e){const{n:t}=og,r=8*e.length-256;let n=kg(e);return r>0&&(n>>=BigInt(r)),n>=t&&(n-=t),n}(e=Ag(e)),{r:i,s:o}=function(e){if(e instanceof pg)return e.assertValidity(),e;try{return pg.fromDER(e)}catch{return pg.fromCompact(e)}}(t);if(0!==r&&1!==r)throw new Error("Cannot recover signature: invalid recovery bit");const s=1&r?"03":"02",a=fg.fromHex(s+vg(i)),{n:c}=og,u=Og(i,c),d=Ig(-n*u,c),f=Ig(o*u,c),l=fg.BASE.multiplyAndAddUnsafe(a,d,f);if(!l)throw new Error("Cannot recover signature: point at infinify");return l.assertValidity(),l}toRawBytes(e=!1){return Eg(this.toHex(e))}toHex(e=!1){const t=vg(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${vg(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:r}=this;if(!jg(t)||!jg(r))throw new Error(e);const n=Ig(r*r);if(Ig(n-sg(t))!==eg)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new fg(this.x,Ig(-this.y))}double(){return ug.fromAffine(this).double().toAffine()}add(e){return ug.fromAffine(this).add(ug.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ug.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const n=ug.fromAffine(this),i=t===eg||t===tg||this!==fg.BASE?n.multiplyUnsafe(t):n.multiply(t),o=ug.fromAffine(e).multiplyUnsafe(r),s=i.add(o);return s.equals(ug.ZERO)?void 0:s.toAffine()}}function lg(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function hg(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${bg(e)}`);const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:kg(r),left:e.subarray(t+2)}}fg.BASE=new fg(og.Gx,og.Gy),fg.ZERO=new fg(eg,eg);class pg{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=t?bg(e):e;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new pg(Sg(n.slice(0,64)),Sg(n.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:r,s:n}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${bg(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:r}=hg(e.subarray(2)),{data:n,left:i}=hg(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${bg(i)}`);return{r:t,s:n}}(t?e:Eg(e));return new pg(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!Ng(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Ng(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=og.n>>tg;return this.s>e}normalizeS(){return this.hasHighS()?new pg(this.r,og.n-this.s):this}toDERRawBytes(e=!1){return Eg(this.toDERHex(e))}toDERHex(e=!1){const t=lg(_g(this.s));if(e)return t;const r=lg(_g(this.r)),n=_g(r.length/2),i=_g(t.length/2);return`30${_g(r.length/2+t.length/2+4)}02${n}${r}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Eg(this.toCompactHex())}toCompactHex(){return vg(this.r)+vg(this.s)}}function yg(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}const mg=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function bg(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=mg[e[r]];return t}const gg=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function vg(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(eg<=e&&e<gg))throw new Error("Expected number < 2^256");return e.toString(16).padStart(64,"0")}function wg(e){const t=Eg(vg(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function _g(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function Sg(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function Eg(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function kg(e){return Sg(bg(e))}function Ag(e){return e instanceof Uint8Array?Uint8Array.from(e):Eg(e)}function xg(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&Ng(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Ig(e,t=og.P){const r=e%t;return r>=eg?r:t+r}function Tg(e,t){const{P:r}=og;let n=e;for(;t-- >eg;)n*=n,n%=r;return n}function Og(e,t=og.P){if(e===eg||t<=eg)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Ig(e,t),n=t,i=eg,o=tg;for(;r!==eg;){const e=n%r,t=i-o*(n/r);n=r,r=e,i=o,o=t}if(n!==tg)throw new Error("invert: does not exist");return Ig(i,t)}const Pg=(e,t)=>(e+t/rg)/t,Mg={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-tg*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function Rg(e){const{n:t}=og,{a1:r,b1:n,a2:i,b2:o,POW_2_128:s}=Mg,a=Pg(o*e,t),c=Pg(-n*e,t);let u=Ig(e-a*r-c*i,t),d=Ig(-a*n-c*o,t);const f=u>s,l=d>s;if(f&&(u=t-u),l&&(d=t-d),u>s||d>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:l,k2:d}}let Bg,Ug;function Ng(e){return eg<e&&e<og.n}function jg(e){return eg<e&&e<og.P}function Cg(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");t=Sg(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(32!==e.length)throw new Error("Expected 32 bytes of private key");t=kg(e)}if(!Ng(t))throw new Error("Expected private key: 0 < key < n");return t}fg.BASE._setWindowSize(8);const Lg={node:$b,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},Dg={},Fg={bytesToHex:bg,hexToBytes:Eg,concatBytes:yg,mod:Ig,invert:Og,isValidPrivateKey(e){try{return Cg(e),!0}catch{return!1}},_bigintTo32Bytes:wg,_normalizePrivateKey:Cg,hashToPrivateKey:e=>{if((e=Ag(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return wg(Ig(kg(e),og.n-tg)+tg)},randomBytes:(e=32)=>{if(Lg.web)return Lg.web.getRandomValues(new Uint8Array(e));if(Lg.node){const{randomBytes:t}=Lg.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Fg.hashToPrivateKey(Fg.randomBytes(40)),sha256:async(...e)=>{if(Lg.web){const t=await Lg.web.subtle.digest("SHA-256",yg(...e));return new Uint8Array(t)}if(Lg.node){const{createHash:t}=Lg.node,r=t("sha256");return e.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(Lg.web){const r=await Lg.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=yg(...t),i=await Lg.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(Lg.node){const{createHmac:r}=Lg.node,n=r("sha256",e);return t.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=Dg[e];if(void 0===r){const t=await Fg.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=yg(t,t),Dg[e]=r}return Fg.sha256(r,...t)},taggedHashSync:(e,...t)=>{if("function"!=typeof Bg)throw new cg("sha256Sync is undefined, you need to set it");let r=Dg[e];if(void 0===r){const t=Bg(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=yg(t,t),Dg[e]=r}return Bg(r,...t)},precompute(e=8,t=fg.BASE){const r=t===fg.BASE?t:new fg(t.x,t.y);return r._setWindowSize(e),r.multiply(ng),r}};Object.defineProperties(Fg,{sha256Sync:{configurable:!1,get(){return Bg},set(e){Bg||(Bg=e)}},hmacSha256Sync:{configurable:!1,get(){return Ug},set(e){Ug||(Ug=e)}}}),Fg.hmacSha256Sync=(e,...t)=>{const r=gc("sha256",e);return t.forEach((e=>r.update(e))),new Uint8Array(r.digest())},Fg.isValidPrivateKey,iy([$p("numSignatures"),ey("signatureOffset"),$p("signatureInstructionIndex"),ey("ethAddressOffset"),$p("ethAddressInstructionIndex"),ey("messageDataOffset"),ey("messageDataSize"),$p("messageInstructionIndex"),sy(20,"ethAddress"),sy(64,"signature"),$p("recoveryId")]),new Zm("KeccakSecp256k11111111111111111111111111111"),new Zm("StakeConfig11111111111111111111111111111111");let Wg,zg=class{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}};if(zg.default=new zg(0,0,Zm.default),Object.freeze({Initialize:{index:0,layout:iy([ty("instruction"),((e="authorized")=>iy([Jm("staker"),Jm("withdrawer")],e))(),((e="lockup")=>iy([ny("unixTimestamp"),ny("epoch"),Jm("custodian")],e))()])},Authorize:{index:1,layout:iy([ty("instruction"),Jm("newAuthorized"),ty("stakeAuthorizationType")])},Delegate:{index:2,layout:iy([ty("instruction")])},Split:{index:3,layout:iy([ty("instruction"),ny("lamports")])},Withdraw:{index:4,layout:iy([ty("instruction"),ny("lamports")])},Deactivate:{index:5,layout:iy([ty("instruction")])},Merge:{index:7,layout:iy([ty("instruction")])},AuthorizeWithSeed:{index:8,layout:iy([ty("instruction"),Jm("newAuthorized"),ty("stakeAuthorizationType"),Ym("authoritySeed"),Jm("authorityOwner")])}}),new Zm("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:iy([ty("instruction"),((e="voteInit")=>iy([Jm("nodePubkey"),Jm("authorizedVoter"),Jm("authorizedWithdrawer"),$p("commission")],e))()])},Authorize:{index:1,layout:iy([ty("instruction"),Jm("newAuthorized"),ty("voteAuthorizationType")])},Withdraw:{index:3,layout:iy([ty("instruction"),ny("lamports")])},AuthorizeWithSeed:{index:10,layout:iy([ty("instruction"),((e="voteAuthorizeWithSeedArgs")=>iy([ty("voteAuthorizationType"),Jm("currentAuthorityDerivedKeyOwnerPubkey"),Ym("currentAuthorityDerivedKeySeed"),Jm("newAuthorized")],e))()])}}),new Zm("Vote111111111111111111111111111111111111111"),new Zm("Va1idator1nfo111111111111111111111111111111"),Ly({name:jy(),website:Uy(jy()),details:Uy(jy()),keybaseUsername:Uy(jy())}),new Zm("Vote111111111111111111111111111111111111111"),iy([Jm("nodePubkey"),Jm("authorizedWithdrawer"),$p("commission"),ry(),oy(iy([ry("slot"),ty("confirmationCount")]),Xp(ty(),-8),"votes"),$p("rootSlotValid"),ry("rootSlot"),ry(),oy(iy([ry("epoch"),Jm("authorizedVoter")]),Xp(ty(),-8),"authorizedVoters"),iy([oy(iy([Jm("authorizedPubkey"),ry("epochOfLastAuthorizedSwitch"),ry("targetEpoch")]),32,"buf"),ry("idx"),$p("isEmpty")],"priorVoters"),ry(),oy(iy([ry("epoch"),ry("credits"),ry("prevCredits")]),Xp(ty(),-8),"epochCredits"),iy([ry("slot"),ry("timestamp")],"lastTimestamp")]),typeof Error.captureStackTrace<"u")Wg=Error.captureStackTrace.bind(Error);else try{const e=e=>{try{throw new Error(e)}catch(e){return e}},t=e=>e.stack||e.stacktrace,r=t(e("Marker"));if(!r)throw new Error("No Error.prototype.stack");const n=/Marker/.test(r.split("\n")[0]);Wg=function(r){const i=t(e());if(void 0===i)return;const o=i.trim().split("\n").slice(n?4:3);let s;Object.defineProperties(r,{stack:{configurable:!0,get:function(){return void 0!==s||(s=[`${r.name||"Error"}: ${r.message||""}`,...o].join("\n")),s}}})}}catch{Wg=function(e){let t;Object.defineProperties(e,{stack:{configurable:!0,get:function(){return void 0!==t||(t=`${e.name||"Error"}: ${e.message||""}`),t}}})}}class qg extends Error{constructor(){super("The Provider does not support the requested method."),i(this,"code"),this.name="UnsupportedMethodError",this.code=4200,Wg(this,this.constructor)}}class Vg extends Error{constructor(){super("The Provider is disconnected from all chains."),i(this,"code"),this.name="DisconnectedError",this.code=4900,Wg(this,this.constructor)}}class Kg extends Error{constructor(e){super("Missing or invalid parameters."),i(this,"code"),this.name="InvalidInputError",this.code=-32e3,e&&(this.message=e),Wg(this,this.constructor)}}class Zg extends Error{constructor(){super("The requested method is not recognized by the wallet."),i(this,"code"),this.name="MethodNotFoundError",this.code=-32601,Wg(this,this.constructor)}}var Hg=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var d=t[e.charCodeAt(r)];if(255===d)return;for(var f=0,l=o-1;(0!==d||f<i)&&-1!==l;l--,f++)d+=s*u[l]>>>0,u[l]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,r++}for(var h=o-i;h!==o&&0===u[h];)h++;for(var p=new Uint8Array(n+(o-h)),y=n;h!==o;)p[y++]=u[h++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,d=new Uint8Array(c);i!==o;){for(var f=t[i],l=0,h=c-1;(0!==f||l<n)&&-1!==h;h--,l++)f+=256*d[h]>>>0,d[h]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");n=l,i++}for(var p=c-n;p!==c&&0===d[p];)p++;for(var y=a.repeat(r);p<c;++p)y+=e.charAt(d[p]);return y},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+s+" character")}}};var Gg=Hg("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function Jg(e){return Gg.decode(e)}function Qg(e){return Hn.from(e,"base64")}xh.sign.signatureLength;var Yg={},Xg={};function $g(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.default=void 0;class ev{static update({preTime:e,postTime:t,serverTime:r}){const n=r-(e+t)/2;ev.clockOffset+=n,ev.debug(`Synchronized time offset: ${ev.clockOffset} ms`)}static now(){return Math.floor(Date.now()+ev.clockOffset)}}Xg.default=ev,$g(ev,"debug",(()=>{})),$g(ev,"clockOffset",0);var tv=function(e,t=null){if("00"===(e=(e=(e=e.trim()).includes(",")&&e.includes(".")?e.replace(/[^\d.]/g,""):e.replace(/[^\d,.]/g,"")).replace(/,+/g,"."))&&(e="0"),"."===e&&(e="0."),e=e.split(".").slice(0,2).join("."),null!==t&&e.includes(".")){let[r,n]=e.split(".");if(0===t)return r;n=n.slice(0,t),e=[r,n].join(".")}return e},rv={},nv={};Object.defineProperty(nv,"__esModule",{value:!0}),nv.set=nv.pickBy=nv.pick=nv.partition=nv.orderBy=nv.omitBy=nv.omit=nv.mapValues=nv.mapKeys=nv.keyBy=nv.isPlainObject=nv.isObjectLike=nv.isNil=nv.intersection=nv.difference=void 0;var iv=function(e){return e&&e.__esModule?e:{default:e}}(Jc);const ov=e=>(0,iv.default)(Array.isArray(e),"expected Array, got "+typeof e),sv=e=>(0,iv.default)("function"==typeof e,"expected Function, got "+typeof e);nv.pick=(e,t)=>{ov(t);const r=new Set(t);return null==e?Object.create(null):Object.fromEntries(Object.entries(e).filter((([e])=>r.has(e))))};nv.pickBy=(e,t)=>(sv(t),null==e?Object.create(null):Object.fromEntries(Object.entries(e).filter((([,e])=>t(e)))));nv.omit=(e,t)=>(ov(t),null==e?Object.create(null):Object.fromEntries(Object.entries(e).filter((([e])=>!t.includes(e)))));nv.omitBy=(e,t)=>(sv(t),e?Object.fromEntries(Object.entries(e).filter((([e,r])=>!t(r,e)))):Object.create(null));nv.mapKeys=(e,t)=>(sv(t),null==e?Object.create(null):Object.fromEntries(Object.entries(e).map((([e,r])=>[t(r,e),r]))));nv.mapValues=(e,t)=>(sv(t),null==e?Object.create(null):Object.fromEntries(Object.entries(e).map((([e,r])=>[e,t(r,e)]))));function av(e,t){return t||(t=()=>0),(r,n)=>{const i="function"==typeof e?e(r):r[e],o="function"==typeof e?e(n):n[e];return i>o?1:o>i?-1:t(r,n)}}function cv(e,t){return t||(t=()=>0),(r,n)=>{const i="function"==typeof e?e(n):n[e],o="function"==typeof e?e(r):r[e];return i>o?1:o>i?-1:t(r,n)}}nv.isNil=e=>null==e;nv.orderBy=(e,t=[],r=[])=>{const n=[...Array.isArray(t)?t:[t]].reverse(),i=[...Array.isArray(r)?r:[r]].reverse(),o=[...e];let s=()=>0;for(const[e,t]of n.entries()){const r=i[e];if("asc"!==r&&r){if("desc"!==r)throw new Error(`Unsupported order "${r}"`);s=cv(t,s)}else s=av(t,s)}return o.sort(s)};nv.keyBy=(e,t)=>{if("string"==typeof t){const e=t;if(e in{})throw new Error("prototype key");t=t=>t[e]}(0,iv.default)("function"==typeof t,"expected key string or keying function");const r=e=>{const r=t(e);if("string"==typeof r&&r in{})throw new Error("prototype key");return r};return Object.fromEntries(e.map((e=>[r(e),e])))};const uv=e=>"object"==typeof e&&null!==e;nv.isObjectLike=uv;nv.isPlainObject=e=>{if(!uv(e)||"[object Object]"!==(e=>null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e))(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};nv.difference=(e,t)=>{(0,iv.default)(Array.isArray(e),"expected 1st argument to be an Array"),(0,iv.default)(Array.isArray(t),"expected 2nd argument to be an Array");const r=new Set(t);return e.filter((e=>!r.has(e)))};nv.intersection=(e,t)=>{(0,iv.default)(Array.isArray(e),"expected 1st argument to be an Array"),(0,iv.default)(Array.isArray(t),"expected 2nd argument to be an Array");const r=new Set(t);return e.filter((e=>r.has(e)))};nv.partition=(e,t)=>{(0,iv.default)(Array.isArray(e),"expected 1st argument to be an Array"),(0,iv.default)("function"==typeof t,"expected 2nd argument to be a Function");const r=[],n=[];for(const i of e)t(i)?r.push(i):n.push(i);return[r,n]};nv.set=(e,t,r)=>{const n=Array.isArray(t)?t:t.match(/([^.[\]])+/g);n.reduce(((e,t,i)=>{if(t in{})throw new Error("prototype pollution");return void 0===e[t]&&(e[t]=Object.create(null)),i===n.length-1&&(e[t]=r),e[t]}),e)},Object.defineProperty(rv,"__esModule",{value:!0}),rv.default=function(e){const t=[];if(!e)return t;const r=(e,n=[])=>{(0,dv.isPlainObject)(e)?Object.entries(e).forEach((([e,t])=>r(t,[...n,e]))):t.push([...n,e])};return r(e),t};var dv=nv;var fv={};Object.defineProperty(fv,"__esModule",{value:!0}),fv.partitionAsync=fv.mapValuesAsync=fv.filterAsync=void 0;var lv=nv;fv.mapValuesAsync=async(e,t)=>Object.fromEntries(await Promise.all(Object.entries(e).map((async([r,n])=>[r,await t(n,r,e)]))));fv.filterAsync=async(e,t)=>{const r=await Promise.all(e.map(((e,r,n)=>t(e,r,n))));return e.filter(((e,t)=>r[t]))};fv.partitionAsync=async(e,t)=>{const r=await Promise.all(e.map(((e,r,n)=>t(e,r,n))));let n=0;return(0,lv.partition)(e,(()=>r[n++]))};var hv={};Object.defineProperty(hv,"__esModule",{value:!0}),hv.default=void 0;const pv=(e,t,r={})=>{if(!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let n,i,o=[];return function(...s){return new Promise((a=>{const c=r.before&&!i;clearTimeout(i),i=setTimeout((()=>{i=null;const t=r.before?n:e.apply(this,s);for(a of o)a(t);o=[]}),t),c?(n=e.apply(this,s),a(n)):o.push(a)}))}};pv.promise=e=>{let t;return async function(...r){if(t)return t;try{return t=e.apply(this,r),await t}finally{t=void 0}}};var yv=pv;hv.default=yv;var mv={};Object.defineProperty(mv,"__esModule",{value:!0}),mv.default=void 0;var bv=(e,t,r,n={})=>{const i={value:r,writable:!0,enumerable:!0,configurable:!0,...n,__proto__:null};return Object.defineProperty(e,t,i),e};mv.default=bv;var gv={};Object.defineProperty(gv,"__esModule",{value:!0}),gv.getOwnProperty=void 0;gv.getOwnProperty=(e,t,r)=>{const n=e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;if(void 0!==n&&void 0!==r&&typeof n!==r)throw new TypeError(`Unexpected type for key ${t}, expected ${r} but got ${typeof n}`);return n};var vv={};Object.defineProperty(vv,"__esModule",{value:!0}),vv.default=function(e,t,r){const n=new Map;return function(...i){var o;const s=t?t(...i):i[0],a=!r||(null===(o=n.get(s))||void 0===o?void 0:o.expiry)>Date.now();if(n.has(s)&&a)return n.get(s).value;const c=e.apply(this,i);return n.set(s,{value:c,expiry:Date.now()+r}),c}};var wv={};Object.defineProperty(wv,"__esModule",{value:!0}),wv.areSetsEqual=void 0;wv.areSetsEqual=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};var _v={};Object.defineProperty(_v,"__esModule",{value:!0}),_v.ReadonlySet=void 0;var Sv=function(e){return e&&e.__esModule?e:{default:e}}(Jc);let Ev,kv;function Av(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function xv(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Tv(e,t,"get"))}function Iv(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,Tv(e,t,"set"),r),r}function Tv(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}const Ov=()=>{throw new Error("this Set is read-only!")};var Pv=new WeakMap;Ev=Symbol.iterator,kv=Symbol.toStringTag;_v.ReadonlySet=class{constructor(e){Av(this,Pv,{writable:!0,value:void 0}),(0,Sv.default)(e instanceof Set,"expected Set"),Iv(this,Pv,e)}get size(){return xv(this,Pv).size}has(e){return xv(this,Pv).has(e)}entries(){return xv(this,Pv).entries()}forEach(...e){return xv(this,Pv).forEach(...e)}keys(){return xv(this,Pv).keys()}values(){return xv(this,Pv).values()}add(){Ov()}delete(){Ov()}clear(){Ov()}[Ev](){return xv(this,Pv)[Symbol.iterator]()}get[kv](){return"ReadonlySet"}};var Mv={};Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.ReadonlyMap=void 0;var Rv=function(e){return e&&e.__esModule?e:{default:e}}(Jc);let Bv,Uv;function Nv(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function jv(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Lv(e,t,"get"))}function Cv(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,Lv(e,t,"set"),r),r}function Lv(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}const Dv=()=>{throw new Error("this Map is read-only!")};var Fv=new WeakMap;Bv=Symbol.iterator,Uv=Symbol.toStringTag;Mv.ReadonlyMap=class{constructor(e){Nv(this,Fv,{writable:!0,value:void 0}),(0,Rv.default)(e instanceof Map,"expected Map"),Cv(this,Fv,e)}get size(){return jv(this,Fv).size}get(e){return jv(this,Fv).get(e)}has(e){return jv(this,Fv).has(e)}entries(){return jv(this,Fv).entries()}forEach(...e){return jv(this,Fv).forEach(...e)}keys(){return jv(this,Fv).keys()}values(){return jv(this,Fv).values()}set(){Dv()}clear(){Dv()}delete(){Dv()}[Bv](){return jv(this,Fv)[Symbol.iterator]()}get[Uv](){return"ReadonlyMap"}},function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={SynchronizedTime:!0,cleanInput:!0,flattenToPaths:!0,pDebounce:!0,defineProperty:!0,memoize:!0,ReadonlySet:!0,ReadonlyMap:!0};Object.defineProperty(e,"ReadonlyMap",{enumerable:!0,get:function(){return h.ReadonlyMap}}),Object.defineProperty(e,"ReadonlySet",{enumerable:!0,get:function(){return l.ReadonlySet}}),Object.defineProperty(e,"SynchronizedTime",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"cleanInput",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"defineProperty",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"flattenToPaths",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"memoize",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"pDebounce",{enumerable:!0,get:function(){return a.default}});var r=p(Xg),n=p(tv),i=p(rv),o=nv;Object.keys(o).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===o[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return o[r]}})}));var s=fv;Object.keys(s).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===s[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return s[r]}})}));var a=p(hv),c=p(mv),u=gv;Object.keys(u).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===u[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return u[r]}})}));var d=p(vv),f=wv;Object.keys(f).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===f[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return f[r]}})}));var l=_v,h=Mv;function p(e){return e&&e.__esModule?e:{default:e}}}(Yg);var Wv={},zv={},qv={},Vv={},Kv={},Zv={},Hv={},Gv={},Jv="object"==typeof ar&&ar&&ar.Object===Object&&ar,Qv="object"==typeof self&&self&&self.Object===Object&&self,Yv=Jv||Qv||Function("return this")(),Xv=Yv.Symbol,$v=Object.prototype,ew=$v.hasOwnProperty,tw=$v.toString,rw=Xv?Xv.toStringTag:void 0;var nw=Object.prototype.toString;var iw=Xv?Xv.toStringTag:void 0;Gv.Symbol=Xv,Gv.baseGetTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":iw&&iw in Object(e)?function(e){var t=ew.call(e,rw),r=e[rw];try{e[rw]=void 0;var n=!0}catch{}var i=tw.call(e);return n&&(t?e[rw]=r:delete e[rw]),i}(e):function(e){return nw.call(e)}(e)},Gv.freeGlobal=Jv,Gv.root=Yv;const ow=Gv;function sw(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function aw(e){if(!sw(e))return!1;var t=ow.baseGetTag(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var cw=ow.root["__core-js_shared__"],uw=function(){var e=/[^.]+$/.exec(cw&&cw.keys&&cw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var dw=Function.prototype.toString;function fw(e){if(null!=e){try{return dw.call(e)}catch{}try{return e+""}catch{}}return""}var lw=/^\[object .+?Constructor\]$/,hw=Function.prototype,pw=Object.prototype,yw=hw.toString,mw=pw.hasOwnProperty,bw=RegExp("^"+yw.call(mw).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gw(e){return!(!sw(e)||function(e){return!!uw&&uw in e}(e))&&(aw(e)?bw:lw).test(fw(e))}function vw(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return gw(r)?r:void 0}var ww=vw(ow.root,"Map");Hv.Map=ww,Hv.getNative=vw,Hv.isFunction=aw,Hv.isObject=sw,Hv.toSource=fw;const _w=Hv;function Sw(e,t){return e===t||e!=e&&t!=t}var Ew=_w.getNative(Object,"create");var kw=Object.prototype.hasOwnProperty;var Aw=Object.prototype.hasOwnProperty;function xw(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Iw(e,t){for(var r=e.length;r--;)if(Sw(e[r][0],t))return r;return-1}xw.prototype.clear=function(){this.__data__=Ew?Ew(null):{},this.size=0},xw.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},xw.prototype.get=function(e){var t=this.__data__;if(Ew){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return kw.call(t,e)?t[e]:void 0},xw.prototype.has=function(e){var t=this.__data__;return Ew?void 0!==t[e]:Aw.call(t,e)},xw.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ew&&void 0===t?"__lodash_hash_undefined__":t,this};var Tw=Array.prototype.splice;function Ow(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pw(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Mw(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ow.prototype.clear=function(){this.__data__=[],this.size=0},Ow.prototype.delete=function(e){var t=this.__data__,r=Iw(t,e);return!(r<0)&&(r==t.length-1?t.pop():Tw.call(t,r,1),--this.size,!0)},Ow.prototype.get=function(e){var t=this.__data__,r=Iw(t,e);return r<0?void 0:t[r][1]},Ow.prototype.has=function(e){return Iw(this.__data__,e)>-1},Ow.prototype.set=function(e,t){var r=this.__data__,n=Iw(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Mw.prototype.clear=function(){this.size=0,this.__data__={hash:new xw,map:new(_w.Map||Ow),string:new xw}},Mw.prototype.delete=function(e){var t=Pw(this,e).delete(e);return this.size-=t?1:0,t},Mw.prototype.get=function(e){return Pw(this,e).get(e)},Mw.prototype.has=function(e){return Pw(this,e).has(e)},Mw.prototype.set=function(e,t){var r=Pw(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Zv.ListCache=Ow,Zv.MapCache=Mw,Zv.eq=Sw;const Rw=Zv;function Bw(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Rw.MapCache;++t<r;)this.add(e[t])}Bw.prototype.add=Bw.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Bw.prototype.has=function(e){return this.__data__.has(e)},Kv.SetCache=Bw,Kv.cacheHas=function(e,t){return e.has(t)},Kv.setToArray=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r};var Uw={};function Nw(e,t,r,n){for(var i=e.length,o=r+-1;++o<i;)if(t(e[o],o,e))return o;return-1}function jw(e){return e!=e}Uw.arrayIncludes=function(e,t){return!!(null==e?0:e.length)&&function(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Nw(e,jw,r)}(e,t,0)>-1},Uw.baseFindIndex=Nw;var Cw={},Lw=Array.isArray;const Dw=Zv;function Fw(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Fw.Cache||Dw.MapCache),r}Fw.Cache=Dw.MapCache;var Ww=Fw,zw={};zw.isObjectLike=function(e){return null!=e&&"object"==typeof e};const qw=Lw,Vw=Ww,Kw=Gv,Zw=zw;function Hw(e){return"symbol"==typeof e||Zw.isObjectLike(e)&&"[object Symbol]"==Kw.baseGetTag(e)}function Gw(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Jw=1/0,Qw=Kw.Symbol?Kw.Symbol.prototype:void 0,Yw=Qw?Qw.toString:void 0;function Xw(e){if("string"==typeof e)return e;if(qw(e))return Gw(e,Xw)+"";if(Hw(e))return Yw?Yw.call(e):"";var t=e+"";return"0"==t&&1/e==-Jw?"-0":t}var $w=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e_=/^\w*$/;function t_(e,t){if(qw(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Hw(e))||(e_.test(e)||!$w.test(e)||null!=t&&e in Object(t))}var r_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n_=/\\(\\)?/g,i_=function(e){var t=Vw(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r_,(function(e,r,n,i){t.push(n?i.replace(n_,"$1"):r||e)})),t}));var o_=1/0;Cw.arrayMap=Gw,Cw.castPath=function(e,t){return qw(e)?e:t_(e,t)?[e]:i_(function(e){return null==e?"":Xw(e)}(e))},Cw.isKey=t_,Cw.isSymbol=Hw,Cw.toKey=function(e){if("string"==typeof e||Hw(e))return e;var t=e+"";return"0"==t&&1/e==-o_?"-0":t};var s_={exports:{}},a_={};const c_=Gv,u_=zw;function d_(e){return u_.isObjectLike(e)&&"[object Arguments]"==c_.baseGetTag(e)}var f_=Object.prototype,l_=f_.hasOwnProperty,h_=f_.propertyIsEnumerable,p_=d_(function(){return arguments}())?d_:function(e){return u_.isObjectLike(e)&&l_.call(e,"callee")&&!h_.call(e,"callee")};a_.isArguments=p_,a_.isLength=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},function(e,t){const r=Hv,n=a_,i=Gv,o=zw;var s=Object.prototype;var a=t&&!t.nodeType&&t,c=a&&e&&!e.nodeType&&e,u=c&&c.exports===a?i.root.Buffer:void 0,d=(u?u.isBuffer:void 0)||function(){return!1},f={};function l(e){return function(t){return e(t)}}f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1;var h=t&&!t.nodeType&&t,p=h&&e&&!e.nodeType&&e,y=p&&p.exports===h&&i.freeGlobal.process,m=function(){try{return p&&p.require&&p.require("util").types||y&&y.binding&&y.binding("util")}catch{}}(),b=m&&m.isTypedArray,g=b?l(b):function(e){return o.isObjectLike(e)&&n.isLength(e.length)&&!!f[i.baseGetTag(e)]};t.baseUnary=l,t.isArrayLike=function(e){return null!=e&&n.isLength(e.length)&&!r.isFunction(e)},t.isBuffer=d,t.isPrototype=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||s)},t.isTypedArray=g,t.nodeUtil=m}(s_,s_.exports);var y_=s_.exports,m_={},b_={};b_.arrayPush=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e};const g_=b_,v_=Gv,w_=a_,__=Lw;var S_=v_.Symbol?v_.Symbol.isConcatSpreadable:void 0;function E_(e){return __(e)||w_.isArguments(e)||!!(S_&&e&&e[S_])}m_.baseFlatten=function(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=E_),i||(i=[]);++o<s;){var a=e[o];r(a)?g_.arrayPush(i,a):n||(i[i.length]=a)}return i};var k_={},A_={},x_={},I_=/^(?:0|[1-9]\d*)$/;x_.isIndex=function(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&I_.test(e))&&e>-1&&e%1==0&&e<t};const T_=a_,O_=Lw,P_=y_,M_=x_,R_=Zv,B_=Hv,U_=Gv;var N_=Object.prototype.hasOwnProperty;function j_(e){var t=this.__data__=new R_.ListCache(e);this.size=t.size}j_.prototype.clear=function(){this.__data__=new R_.ListCache,this.size=0},j_.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},j_.prototype.get=function(e){return this.__data__.get(e)},j_.prototype.has=function(e){return this.__data__.has(e)},j_.prototype.set=function(e,t){var r=this.__data__;if(r instanceof R_.ListCache){var n=r.__data__;if(!B_.Map||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new R_.MapCache(n)}return r.set(e,t),this.size=r.size,this};var C_=U_.root.Uint8Array;A_.Stack=j_,A_.Uint8Array=C_,A_.arrayLikeKeys=function(e,t){var r=O_(e),n=!r&&T_.isArguments(e),i=!r&&!n&&P_.isBuffer(e),o=!r&&!n&&!i&&P_.isTypedArray(e),s=r||n||i||o,a=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=a.length;for(var u in e)(t||N_.call(e,u))&&(!s||!("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||M_.isIndex(u,c)))&&a.push(u);return a};var L_={},D_={},F_={},W_={};W_.overArg=function(e,t){return function(r){return e(t(r))}};var z_={};const q_=Gv;var V_=Hv.getNative(q_.root,"Set");z_.Set=V_,function(e){const t=y_,r=W_,n=Hv,i=Gv,o=z_;var s=n.getNative(i.root,"WeakMap"),a=r.overArg(Object.keys,Object),c=Object.prototype.hasOwnProperty;var u=n.getNative(i.root,"DataView"),d=n.getNative(i.root,"Promise"),f="[object Map]",l="[object Promise]",h="[object Set]",p="[object WeakMap]",y="[object DataView]",m=n.toSource(u),b=n.toSource(n.Map),g=n.toSource(d),v=n.toSource(o.Set),w=n.toSource(s);e.getTag=i.baseGetTag,(u&&e.getTag(new u(new ArrayBuffer(1)))!=y||n.Map&&e.getTag(new n.Map)!=f||d&&e.getTag(d.resolve())!=l||o.Set&&e.getTag(new o.Set)!=h||s&&e.getTag(new s)!=p)&&(e.getTag=function(e){var t=i.baseGetTag(e),r="[object Object]"==t?e.constructor:void 0,o=r?n.toSource(r):"";if(o)switch(o){case m:return y;case b:return f;case g:return l;case v:return h;case w:return p}return t}),e.baseKeys=function(e){if(!t.isPrototype(e))return a(e);var r=[];for(var n in Object(e))c.call(e,n)&&"constructor"!=n&&r.push(n);return r}}(F_);const K_=b_,Z_=Lw,H_=A_,G_=F_,J_=y_;function Q_(e){return J_.isArrayLike(e)?H_.arrayLikeKeys(e):G_.baseKeys(e)}function Y_(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function X_(){return[]}var $_=Object.prototype.propertyIsEnumerable,eS=Object.getOwnPropertySymbols,tS=eS?function(e){return null==e?[]:(e=Object(e),Y_(eS(e),(function(t){return $_.call(e,t)})))}:X_;function rS(e,t,r){var n=t(e);return Z_(e)?n:K_.arrayPush(n,r(e))}D_.arrayFilter=Y_,D_.baseGetAllKeys=rS,D_.getAllKeys=function(e){return rS(e,Q_,tS)},D_.getSymbols=tS,D_.keys=Q_,D_.stubArray=X_;const nS=A_,iS=Kv,oS=Gv,sS=Zv,aS=D_,cS=F_,uS=Lw,dS=y_,fS=zw;function lS(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function hS(e,t,r,n,i,o){var s=1&r,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var f=-1,l=!0,h=2&r?new iS.SetCache:void 0;for(o.set(e,t),o.set(t,e);++f<a;){var p=e[f],y=t[f];if(n)var m=s?n(y,p,f,t,e,o):n(p,y,f,e,t,o);if(void 0!==m){if(m)continue;l=!1;break}if(h){if(!lS(t,(function(e,t){if(!iS.cacheHas(h,t)&&(p===e||i(p,e,r,n,o)))return h.push(t)}))){l=!1;break}}else if(p!==y&&!i(p,y,r,n,o)){l=!1;break}}return o.delete(e),o.delete(t),l}function pS(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}var yS=oS.Symbol?oS.Symbol.prototype:void 0,mS=yS?yS.valueOf:void 0;var bS=Object.prototype.hasOwnProperty;var gS="[object Arguments]",vS="[object Array]",wS="[object Object]",_S=Object.prototype.hasOwnProperty;function SS(e,t,r,n,i,o){var s=uS(e),a=uS(t),c=s?vS:cS.getTag(e),u=a?vS:cS.getTag(t),d=(c=c==gS?wS:c)==wS,f=(u=u==gS?wS:u)==wS,l=c==u;if(l&&dS.isBuffer(e)){if(!dS.isBuffer(t))return!1;s=!0,d=!1}if(l&&!d)return o||(o=new nS.Stack),s||dS.isTypedArray(e)?hS(e,t,r,n,i,o):function(e,t,r,n,i,o,s){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new nS.Uint8Array(e),new nS.Uint8Array(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return sS.eq(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=pS;case"[object Set]":var c=1&n;if(a||(a=iS.setToArray),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=2,s.set(e,t);var d=hS(a(e),a(t),n,i,o,s);return s.delete(e),d;case"[object Symbol]":if(mS)return mS.call(e)==mS.call(t)}return!1}(e,t,c,r,n,i,o);if(!(1&r)){var h=d&&_S.call(e,"__wrapped__"),p=f&&_S.call(t,"__wrapped__");if(h||p){var y=h?e.value():e,m=p?t.value():t;return o||(o=new nS.Stack),i(y,m,r,n,o)}}return!!l&&(o||(o=new nS.Stack),function(e,t,r,n,i,o){var s=1&r,a=aS.getAllKeys(e),c=a.length;if(c!=aS.getAllKeys(t).length&&!s)return!1;for(var u=c;u--;){var d=a[u];if(!(s?d in t:bS.call(t,d)))return!1}var f=o.get(e),l=o.get(t);if(f&&l)return f==t&&l==e;var h=!0;o.set(e,t),o.set(t,e);for(var p=s;++u<c;){var y=e[d=a[u]],m=t[d];if(n)var b=s?n(m,y,d,t,e,o):n(y,m,d,e,t,o);if(!(void 0===b?y===m||i(y,m,r,n,o):b)){h=!1;break}p||(p="constructor"==d)}if(h&&!p){var g=e.constructor,v=t.constructor;g!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,r,n,i,o))}L_.baseIsEqual=function e(t,r,n,i,o){return t===r||(null==t||null==r||!fS.isObjectLike(t)&&!fS.isObjectLike(r)?t!=t&&r!=r:SS(t,r,n,i,e,o))};var ES={};const kS=Cw;ES.baseGet=function(e,t){for(var r=0,n=(t=kS.castPath(t,e)).length;null!=e&&r<n;)e=e[kS.toKey(t[r++])];return r&&r==n?e:void 0};const AS=ES;var xS=function(e,t,r){var n=null==e?void 0:AS.baseGet(e,t);return void 0===n?r:n},IS={};const TS=Cw,OS=a_,PS=Lw,MS=x_;function RS(e,t){return null!=e&&t in Object(e)}IS.hasIn=function(e,t){return null!=e&&function(e,t,r){for(var n=-1,i=(t=TS.castPath(t,e)).length,o=!1;++n<i;){var s=TS.toKey(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&OS.isLength(i)&&MS.isIndex(s,i)&&(PS(e)||OS.isArguments(e))}(e,t,RS)};var BS={};BS.identity=function(e){return e};const US=A_,NS=L_,jS=Hv,CS=D_,LS=xS,DS=IS,FS=Cw,WS=BS,zS=Lw,qS=ES;function VS(e){return e==e&&!jS.isObject(e)}function KS(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}function ZS(e){var t=function(e){for(var t=CS.keys(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,VS(i)]}return t}(e);return 1==t.length&&t[0][2]?KS(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var i=r.length,o=i;if(null==e)return!o;for(e=Object(e);i--;){var s=r[i];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var a=(s=r[i])[0],c=e[a],u=s[1];if(s[2]){if(void 0===c&&!(a in e))return!1}else{var d=new US.Stack;if(!NS.baseIsEqual(u,c,3,n,d))return!1}}return!0}(r,0,t)}}function HS(e){return FS.isKey(e)?function(e){return function(t){return null==t?void 0:t[e]}}(FS.toKey(e)):function(e){return function(t){return qS.baseGet(t,e)}}(e)}k_.baseIteratee=function(e){return"function"==typeof e?e:null==e?WS.identity:"object"==typeof e?zS(e)?function(e,t){return FS.isKey(e)&&VS(t)?KS(FS.toKey(e),t):function(r){var n=LS(r,e);return void 0===n&&n===t?DS.hasIn(r,e):NS.baseIsEqual(t,n,3)}}(e[0],e[1]):ZS(e):HS(e)};var GS={},JS={},QS={};const YS=Hv;var XS=function(){try{var e=YS.getNative(Object,"defineProperty");return e({},"",{}),e}catch{}}();QS.defineProperty=XS;const $S=QS,eE=BS;var tE=Date.now;function rE(e){return function(){return e}}var nE=$S.defineProperty?function(e,t){return $S.defineProperty(e,"toString",{configurable:!0,enumerable:!1,value:rE(t),writable:!0})}:eE.identity,iE=function(e){var t=0,r=0;return function(){var n=tE(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(nE),oE=Math.max;JS.overRest=function(e,t,r){return t=oE(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=oE(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,a)}},JS.setToString=iE;const sE=BS,aE=JS;GS.baseRest=function(e,t){return aE.setToString(aE.overRest(e,t,sE.identity),e+"")};var cE={};const uE=y_,dE=zw;cE.isArrayLikeObject=function(e){return dE.isObjectLike(e)&&uE.isArrayLike(e)};var fE={};fE.last=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const lE=Kv,hE=Uw,pE=Cw,yE=y_,mE=m_,bE=k_,gE=cE,vE=fE;var wE=GS.baseRest((function(e,t){var r=vE.last(t);return gE.isArrayLikeObject(r)&&(r=void 0),gE.isArrayLikeObject(e)?function(e,t,r,n){var i=-1,o=hE.arrayIncludes,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;r&&(t=pE.arrayMap(t,yE.baseUnary(r))),t.length>=200&&(o=lE.cacheHas,s=!1,t=new lE.SetCache(t));e:for(;++i<a;){var d=e[i],f=null==r?d:r(d);if(d=0!==d?d:0,s&&f==f){for(var l=u;l--;)if(t[l]===f)continue e;c.push(d)}else o(t,f,n)||c.push(d)}return c}(e,mE.baseFlatten(t,1,gE.isArrayLikeObject,!0),bE.baseIteratee(r)):[]})),_E=wE,SE={},EE={},kE={};var AE=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),s=o.length;s--;){var a=o[++n];if(!1===t(i[a],a,i))break}return e};kE.baseFor=AE;const xE=kE,IE=D_;EE.baseForOwn=function(e,t){return e&&xE.baseFor(e,t,IE.keys)};const TE=y_;var OE=function(e){return function(t,r){if(null==t)return t;if(!TE.isArrayLike(t))return e(t,r);for(var n=t.length,i=-1,o=Object(t);++i<n&&!1!==r(o[i],i,o););return t}}(EE.baseForOwn);SE.baseEach=OE;var PE={};const ME=QS;PE.baseAssignValue=function(e,t,r){"__proto__"==t&&ME.defineProperty?ME.defineProperty(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};const RE=PE,BE=SE,UE=k_,NE=Lw;function jE(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}function CE(e,t,r,n){return BE.baseEach(e,(function(e,i,o){t(n,e,r(e),o)})),n}var LE=Object.prototype.hasOwnProperty,DE=function(e){return function(t,r){return(NE(t)?jE:CE)(t,e,UE.baseIteratee(r),{})}}((function(e,t,r){LE.call(e,r)?e[r].push(t):RE.baseAssignValue(e,r,[t])})),FE=DE;const WE=F_,zE=a_,qE=Lw,VE=y_;var KE=Object.prototype.hasOwnProperty;var ZE=function(e){if(null==e)return!0;if(VE.isArrayLike(e)&&(qE(e)||"string"==typeof e||"function"==typeof e.splice||VE.isBuffer(e)||VE.isTypedArray(e)||zE.isArguments(e)))return!e.length;var t=WE.getTag(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(VE.isPrototype(e))return!WE.baseKeys(e).length;for(var r in e)if(KE.call(e,r))return!1;return!0};const HE=L_;var GE=function(e,t){return HE.baseIsEqual(e,t)};var JE=function(e){return null==e},QE={};const YE=Gv,XE=zw;var $E=W_.overArg(Object.getPrototypeOf,Object),ek=Function.prototype,tk=Object.prototype,rk=ek.toString,nk=tk.hasOwnProperty,ik=rk.call(Object);QE.getPrototype=$E,QE.isPlainObject=function(e){if(!XE.isObjectLike(e)||"[object Object]"!=YE.baseGetTag(e))return!1;var t=$E(e);if(null===t)return!0;var r=nk.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&rk.call(r)==ik};const ok=Gv,sk=Lw,ak=zw;var ck=function(e){return"string"==typeof e||!sk(e)&&ak.isObjectLike(e)&&"[object String]"==ok.baseGetTag(e)},uk={},dk={};const fk=Zv,lk=y_,hk=x_,pk=Hv;dk.isIterateeCall=function(e,t,r){if(!pk.isObject(r))return!1;var n=typeof t;return!!("number"==n?lk.isArrayLike(r)&&hk.isIndex(t,r.length):"string"==n&&t in r)&&fk.eq(r[t],e)};const yk=m_,mk=Cw,bk=ES,gk=k_,vk=SE,wk=y_,_k=BS,Sk=Lw,Ek=dk;function kk(e,t){var r=-1,n=wk.isArrayLike(e)?Array(e.length):[];return vk.baseEach(e,(function(e,i,o){n[++r]=t(e,i,o)})),n}function Ak(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,o=mk.isSymbol(e),s=void 0!==t,a=null===t,c=t==t,u=mk.isSymbol(t);if(!a&&!u&&!o&&e>t||o&&s&&c&&!a&&!u||n&&s&&c||!r&&c||!i)return 1;if(!n&&!o&&!u&&e<t||u&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!c)return-1}return 0}function xk(e,t,r){t=t.length?mk.arrayMap(t,(function(e){return Sk(e)?function(t){return bk.baseGet(t,1===e.length?e[0]:e)}:e})):[_k.identity];var n=-1;return t=mk.arrayMap(t,wk.baseUnary(gk.baseIteratee)),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(kk(e,(function(e,r,i){return{criteria:mk.arrayMap(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var c=Ak(i[n],o[n]);if(c)return n>=a?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}var Ik=GS.baseRest((function(e,t){if(null==e)return[];var r=t.length;return r>1&&Ek.isIterateeCall(e,t[0],t[1])?t=[]:r>2&&Ek.isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),xk(e,yk.baseFlatten(t),[])}));uk.baseMap=kk,uk.sortBy=Ik;const Tk=PE,Ok=EE,Pk=k_;var Mk=function(e,t){var r={};return t=Pk.baseIteratee(t),Ok.baseForOwn(e,(function(e,n,i){Tk.baseAssignValue(r,n,t(e,n,i))})),r},Rk={},Bk={exports:{}},Uk={};const Nk=PE,jk=Zv;var Ck=Object.prototype.hasOwnProperty;Uk.assignValue=function(e,t,r){var n=e[t];(!Ck.call(e,t)||!jk.eq(n,r)||void 0===r&&!(t in e))&&Nk.baseAssignValue(e,t,r)},function(e,t){const r=Uk,n=PE,i=A_,o=Hv,s=y_,a=Gv,c=QE;var u=Object.create,d=function(){function e(){}return function(t){if(!o.isObject(t))return{};if(u)return u(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();var f=Object.prototype.hasOwnProperty;function l(e){if(!o.isObject(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=s.isPrototype(e),r=[];for(var n in e)"constructor"==n&&(t||!f.call(e,n))||r.push(n);return r}var h=t&&!t.nodeType&&t,p=h&&e&&!e.nodeType&&e,y=p&&p.exports===h?a.root.Buffer:void 0,m=y?y.allocUnsafe:void 0;function b(e){var t=new e.constructor(e.byteLength);return new i.Uint8Array(t).set(new i.Uint8Array(e)),t}t.cloneArrayBuffer=b,t.cloneBuffer=function(e,t){if(t)return e.slice();var r=e.length,n=m?m(r):new e.constructor(r);return e.copy(n),n},t.cloneTypedArray=function(e,t){var r=t?b(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},t.copyArray=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},t.copyObject=function(e,t,i,o){var s=!i;i||(i={});for(var a=-1,c=t.length;++a<c;){var u=t[a],d=void 0;void 0===d&&(d=e[u]),s?n.baseAssignValue(i,u,d):r.assignValue(i,u,d)}return i},t.initCloneObject=function(e){return"function"!=typeof e.constructor||s.isPrototype(e)?{}:d(c.getPrototype(e))},t.keysIn=function(e){return s.isArrayLike(e)?i.arrayLikeKeys(e,!0):l(e)}}(Bk,Bk.exports);var Lk=Bk.exports;const Dk=GS,Fk=dk,Wk=A_,zk=PE,qk=Zv,Vk=kE,Kk=Lk,Zk=a_,Hk=Lw,Gk=cE,Jk=y_,Qk=Hv,Yk=QE;function Xk(e,t,r){(void 0!==r&&!qk.eq(e[t],r)||void 0===r&&!(t in e))&&zk.baseAssignValue(e,t,r)}function $k(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function eA(e,t,r,n,i,o,s){var a=$k(e,r),c=$k(t,r),u=s.get(c);if(u)Xk(e,r,u);else{var d=o?o(a,c,r+"",e,t,s):void 0,f=void 0===d;if(f){var l=Hk(c),h=!l&&Jk.isBuffer(c),p=!l&&!h&&Jk.isTypedArray(c);d=c,l||h||p?Hk(a)?d=a:Gk.isArrayLikeObject(a)?d=Kk.copyArray(a):h?(f=!1,d=Kk.cloneBuffer(c,!0)):p?(f=!1,d=Kk.cloneTypedArray(c,!0)):d=[]:Yk.isPlainObject(c)||Zk.isArguments(c)?(d=a,Zk.isArguments(a)?d=function(e){return Kk.copyObject(e,Kk.keysIn(e))}(a):(!Qk.isObject(a)||Qk.isFunction(a))&&(d=Kk.initCloneObject(c))):f=!1}f&&(s.set(c,d),i(d,c,n,o,s),s.delete(c)),Xk(e,r,d)}}Rk.baseMerge=function e(t,r,n,i,o){t!==r&&Vk.baseFor(r,(function(s,a){if(o||(o=new Wk.Stack),Qk.isObject(s))eA(t,r,a,n,e,i,o);else{var c=i?i($k(t,a),s,a+"",t,r,o):void 0;void 0===c&&(c=s),Xk(t,a,c)}}),Kk.keysIn)},Rk.createAssigner=function(e){return Dk.baseRest((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&Fk.isIterateeCall(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n,o)}return t}))};const tA=Rk;var rA=tA.createAssigner((function(e,t,r){tA.baseMerge(e,t,r)})),nA=rA;const iA=Rk;var oA=iA.createAssigner((function(e,t,r,n){iA.baseMerge(e,t,r,n)})),sA=oA,aA={},cA={};const uA=m_,dA=JS;function fA(e){return(null==e?0:e.length)?uA.baseFlatten(e):[]}cA.flatRest=function(e){return dA.setToString(dA.overRest(e,void 0,fA),e+"")};const lA=Cw,hA=A_,pA=Uk,yA=Lk,mA=D_,bA=b_,gA=QE,vA=F_,wA=Gv,_A=Lw,SA=y_,EA=zw,kA=Hv,AA=fE,xA=ES,IA=cA;var TA=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)bA.arrayPush(t,mA.getSymbols(e)),e=gA.getPrototype(e);return t}:mA.stubArray;function OA(e){return mA.baseGetAllKeys(e,yA.keysIn,TA)}var PA=Object.prototype.hasOwnProperty;var MA=/\w*$/;var RA=wA.Symbol?wA.Symbol.prototype:void 0,BA=RA?RA.valueOf:void 0;function UA(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return yA.cloneArrayBuffer(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return function(e,t){var r=t?yA.cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return yA.cloneTypedArray(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,MA.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function(e){return BA?Object(BA.call(e)):{}}(e)}}var NA=SA.nodeUtil&&SA.nodeUtil.isMap,jA=NA?SA.baseUnary(NA):function(e){return EA.isObjectLike(e)&&"[object Map]"==vA.getTag(e)};var CA=SA.nodeUtil&&SA.nodeUtil.isSet,LA=CA?SA.baseUnary(CA):function(e){return EA.isObjectLike(e)&&"[object Set]"==vA.getTag(e)},DA="[object Arguments]",FA="[object Function]",WA="[object Object]",zA={};function qA(e,t,r,n,i,o){var s,a=1&t,c=2&t,u=4&t;if(r&&(s=i?r(e,n,i,o):r(e)),void 0!==s)return s;if(!kA.isObject(e))return e;var d=_A(e);if(d){if(s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&PA.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!a)return yA.copyArray(e,s)}else{var f=vA.getTag(e),l=f==FA||"[object GeneratorFunction]"==f;if(SA.isBuffer(e))return yA.cloneBuffer(e,a);if(f==WA||f==DA||l&&!i){if(s=c||l?{}:yA.initCloneObject(e),!a)return c?function(e,t){return yA.copyObject(e,TA(e),t)}(e,function(e,t){return e&&yA.copyObject(t,yA.keysIn(t),e)}(s,e)):function(e,t){return yA.copyObject(e,mA.getSymbols(e),t)}(e,function(e,t){return e&&yA.copyObject(t,mA.keys(t),e)}(s,e))}else{if(!zA[f])return i?e:{};s=UA(e,f,a)}}o||(o=new hA.Stack);var h=o.get(e);if(h)return h;o.set(e,s),LA(e)?e.forEach((function(n){s.add(qA(n,t,r,n,e,o))})):jA(e)&&e.forEach((function(n,i){s.set(i,qA(n,t,r,i,e,o))}));var p=u?c?OA:mA.getAllKeys:c?yA.keysIn:mA.keys,y=d?void 0:p(e);return function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););}(y||e,(function(n,i){y&&(n=e[i=n]),pA.assignValue(s,i,qA(n,t,r,i,e,o))})),s}function VA(e,t){return t.length<2?e:xA.baseGet(e,function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}(t,0,-1))}function KA(e,t){return null==(e=VA(e,t=lA.castPath(t,e)))||delete e[lA.toKey(AA.last(t))]}function ZA(e){return gA.isPlainObject(e)?void 0:e}zA[DA]=zA["[object Array]"]=zA["[object ArrayBuffer]"]=zA["[object DataView]"]=zA["[object Boolean]"]=zA["[object Date]"]=zA["[object Float32Array]"]=zA["[object Float64Array]"]=zA["[object Int8Array]"]=zA["[object Int16Array]"]=zA["[object Int32Array]"]=zA["[object Map]"]=zA["[object Number]"]=zA[WA]=zA["[object RegExp]"]=zA["[object Set]"]=zA["[object String]"]=zA["[object Symbol]"]=zA["[object Uint8Array]"]=zA["[object Uint8ClampedArray]"]=zA["[object Uint16Array]"]=zA["[object Uint32Array]"]=!0,zA["[object Error]"]=zA[FA]=zA["[object WeakMap]"]=!1;var HA=IA.flatRest((function(e,t){var r={};if(null==e)return r;var n=!1;t=lA.arrayMap(t,(function(t){return t=lA.castPath(t,e),n||(n=t.length>1),t})),yA.copyObject(e,OA(e),r),n&&(r=qA(r,7,ZA));for(var i=t.length;i--;)KA(r,t[i]);return r}));aA.getAllKeysIn=OA,aA.omit=HA;var GA={},JA={};const QA=Uk,YA=Cw,XA=x_,$A=Hv;JA.baseSet=function(e,t,r,n){if(!$A.isObject(e))return e;for(var i=-1,o=(t=YA.castPath(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var c=YA.toKey(t[i]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var d=a[c];void 0===(u=void 0)&&(u=$A.isObject(d)?d:XA.isIndex(t[i+1])?[]:{})}QA.assignValue(a,c,u),a=a[c]}return e};const ex=ES,tx=JA,rx=Cw,nx=IS;function ix(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=ex.baseGet(e,s);r(a,s)&&tx.baseSet(o,rx.castPath(s,e),a)}return o}var ox=cA.flatRest((function(e,t){return null==e?{}:function(e,t){return ix(e,t,(function(t,r){return nx.hasIn(e,r)}))}(e,t)}));GA.basePickBy=ix,GA.pick=ox;const sx=JA;var ax=function(e,t,r){return null==e?e:sx.baseSet(e,t,r)},cx={};const ux=Kv,dx=Uw,fx=z_;var lx=fx.Set&&1/ux.setToArray(new fx.Set([,-0]))[1]==1/0?function(e){return new fx.Set(e)}:function(){};cx.baseUniq=function(e,t,r){var n=-1,i=dx.arrayIncludes,o=e.length,s=!0,a=[],c=a;if(o>=200){var u=t?null:lx(e);if(u)return ux.setToArray(u);s=!1,i=ux.cacheHas,c=new ux.SetCache}else c=t?[]:a;e:for(;++n<o;){var d=e[n],f=t?t(d):d;if(d=0!==d?d:0,s&&f==f){for(var l=c.length;l--;)if(c[l]===f)continue e;t&&c.push(f),a.push(d)}else i(c,f,r)||(c!==a&&c.push(f),a.push(d))}return a};const hx=cx;var px=function(e){return e&&e.length?hx.baseUniq(e):[]};const yx=k_,mx=cx;var bx=function(e,t){return e&&e.length?mx.baseUniq(e,yx.baseIteratee(t)):[]};!function(e){Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=_E,r=D_,n=SE,i=k_,o=Lw,s=y_,a=Uw,c=Hv,u=Cw,d=xS,f=FE,l=ZE,h=GE,p=JE,y=QE,m=ck,b=uk,g=Mk,v=Ww,w=nA,_=sA,S=aA,E=GA,k=ax,A=m_,x=GS,I=cx,T=cE,O=fE,P=px,M=bx;var R=/\s/;var B=/^\s+/;function U(e){return e&&e.slice(0,function(e){for(var t=e.length;t--&&R.test(e.charAt(t)););return t}(e)+1).replace(B,"")}var N=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,C=/^0o[0-7]+$/i,L=parseInt;var D=1/0;function F(e){return e?(e=function(e){if("number"==typeof e)return e;if(u.isSymbol(e))return NaN;if(c.isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c.isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=U(e);var r=j.test(e);return r||C.test(e)?L(e.slice(2),r?2:8):N.test(e)?NaN:+e}(e),e===D||e===-D?17976931348623157e292*(e<0?-1:1):e==e?e:0):0===e?e:0}function W(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function z(e,t){var r=[];return n.baseEach(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function q(e,t){return(o(e)?r.arrayFilter:z)(e,i.baseIteratee(t))}var V=Math.max;var K,Z=(K=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:function(e){var t=F(e),r=t%1;return t==t?r?t-r:t:0}(r);return o<0&&(o=V(n+o,0)),a.baseFindIndex(e,i.baseIteratee(t),o)},function(e,t,n){var o=Object(e);if(!s.isArrayLike(e)){var a=i.baseIteratee(t);e=r.keys(e),t=function(e){return a(o[e],e,o)}}var c=K(e,t,n);return c>-1?o[a?e[c]:c]:void 0});function H(e,t){return(o(e)?u.arrayMap:b.baseMap)(e,i.baseIteratee(t))}function G(e){return null==e?[]:function(e,t){return u.arrayMap(t,(function(t){return e[t]}))}(e,r.keys(e))}function J(e,t){if(null==e)return{};var r=u.arrayMap(S.getAllKeysIn(e),(function(e){return[e]}));return t=i.baseIteratee(t),E.basePickBy(e,r,(function(e,r){return t(e,r[0])}))}var Q=Math.floor,Y=Math.random;function X(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function $(e,t,r){var s=o(e)?W:X,a=arguments.length<3;return s(e,i.baseIteratee(t),r,a,n.baseEach)}function ee(e){var t=e.length;return t?e[function(e,t){return e+Q(Y()*(t-e+1))}(0,t-1)]:void 0}function te(e){return ee(G(e))}function re(e){return(o(e)?ee:te)(e)}var ne=x.baseRest((function(e){var t=O.last(e);return T.isArrayLikeObject(t)&&(t=void 0),I.baseUniq(A.baseFlatten(e,1,T.isArrayLikeObject,!0),i.baseIteratee(t))}));const ie={differenceBy:t,filter:q,find:Z,get:d,groupBy:f,isArray:o,isEmpty:l,isEqual:h,isNil:p,isObject:c.isObject,isPlainObject:y.isPlainObject,isString:m,map:H,mapValues:g,memoize:v,merge:w,mergeWith:_,omit:S.omit,pick:E.pick,pickBy:J,reduce:$,sample:re,set:k,sortBy:b.sortBy,unionBy:ne,uniq:P,uniqBy:M};e.differenceBy=t,e.isArray=o,e.isObject=c.isObject,e.get=d,e.groupBy=f,e.isEmpty=l,e.isEqual=h,e.isNil=p,e.isPlainObject=y.isPlainObject,e.isString=m,e.sortBy=b.sortBy,e.mapValues=g,e.memoize=v,e.merge=w,e.mergeWith=_,e.omit=S.omit,e.pick=E.pick,e.set=k,e.uniq=P,e.uniqBy=M,e.default=ie,e.filter=q,e.find=Z,e.map=H,e.pickBy=J,e.reduce=$,e.sample=re,e.unionBy=ne}(Vv);const gx=cr(Vv);var vx={},wx={},_x={};Object.defineProperty(_x,"__esModule",{value:!0}),_x.default=function(e){return null!=e&&"object"==typeof e&&("_number"in e&&"unit"in e&&"unitType"in e&&"baseUnit"in e)};var Sx={},Ex={};Object.defineProperty(Ex,"__esModule",{value:!0}),Ex.default=function(e){return null!=e&&"object"==typeof e&&(Ax.every((t=>t in e))&&kx.every((t=>"function"==typeof e[t])))};const kx=["parse","equals","toJSON"],Ax=["units","baseUnit","defaultUnit","ZERO"];Object.defineProperty(Sx,"__esModule",{value:!0}),Sx.default=function(e,t,r,n={}){if(!(0,xx.default)(e)||!(0,xx.default)(t))throw new Error("Must pass in an instance of UnitType for ut1 and ut2.");const{unit1:i,unit2:o}={unit1:e.defaultUnit,unit2:t.defaultUnit,...n};if(!e[i])throw new Error(`unit1 (${i}) is not from ut1`);if(!t[o])throw new Error(`unit2 (${o}) is not from ut2`);return function(n){const s=n.unitType;if(s.equals(e)){const s=t.baseUnit(n._number).mul(t[o].multiplier).mul(r);return s._number=s._number.div(e[i].multiplier),s.to(o)}if(s.equals(t)){let s=e.baseUnit(n._number).mul(e[i].multiplier);try{s=s.div(r)}catch(t){if("Invalid division by 0"!==String(t.message))throw t;s=e.baseUnit(0)}return s._number=s._number.div(t[o].multiplier),s.to(i)}throw new Error("Conversion error")}};var xx=function(e){return e&&e.__esModule?e:{default:e}}(Ex);var Ix={};Object.defineProperty(Ix,"__esModule",{value:!0}),Ix.maybeReportDifferentTypesDeprecated=Ix.default=void 0;const Tx=e=>{try{console.warn("***************************************************************"),console.warn(e),console.warn("***************************************************************"),console.trace()}catch{}};Ix.maybeReportDifferentTypesDeprecated=(e,t,r)=>{e.unitType.equals(t.unitType)||Tx(`DEPRECATION WARNING: number-unit.${r} on different NumberUnit types (${e}, ${t}) is not correct and will be removed soon`)};var Ox=Tx;Ix.default=Ox,Object.defineProperty(wx,"__esModule",{value:!0}),wx.default=void 0;var Px=jx(fd),Mx=jx(_x),Rx=jx(Sx),Bx=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=Nx(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(Ix),Ux=jx(Ex);function Nx(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(Nx=function(e){return e?r:t})(e)}function jx(e){return e&&e.__esModule?e:{default:e}}function Cx(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Lx{static create(e,t){return new Lx(e,t)}constructor(e,t){Cx(this,"_number",void 0),Cx(this,"unit",void 0),Cx(this,"unitType",void 0),Cx(this,"baseUnit",void 0),Cx(this,"defaultUnit",void 0),Cx(this,"unitName",void 0),this.unit=t,this.unitType=t.unitType,this.baseUnit=t.unitType.baseUnit,this.defaultUnit=t.unitType.defaultUnit,this.unitName=this.unit.unitName,this._number=this._createNumber(e),Object.defineProperty(this,"_numberStringMap",{enumerable:!1,value:new Map,writable:!0})}_createNumber(e){if(Px.default.isBN(e))return e;const t=this._stringToNumberFraction(e,this.unit.power,{numberOnly:!0});return new Px.default(t,10)}_stringToNumberFraction(e,t,{numberOnly:r=!1}={}){if("number"==typeof e){if(e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)throw new Error("Infinity is not supported");e=e.toString()}else e=e.toLowerCase();if(e.length>2&&"0"===e[0]&&"x"===e[1]){if(e=e.slice(2),!/^[\d.a-f]*$/.test(e))throw new Error(`Invalid hex number: 0x${e}`);e=new Px.default(e,16).toString(10)}const n="-"===e[0];n&&(e=e.slice(1));const i=n?"-":"";"+"===e[0]&&!n&&(e=e.slice(1));const o=e.indexOf("e");if(-1!==o){if(t+=Number.parseInt(e.slice(o+1),10),Number.isNaN(t))throw new TypeError(`Invalid exponential in number: ${e}`);e=e.slice(0,o)}if(!/^\d*\.?\d*$/.test(e))throw new Error(`Not allowed symbol in number: ${e}`);switch(e.indexOf(".")){case-1:e+=".0";break;case 0:e="0"+e;break;case e.length-1:e+="0"}if(0===t){const t=e.indexOf("."),n=i+e.slice(0,t);if(r)return n;const o=e.slice(t+1);return{number:n,fraction:i+o,fractionLength:o.length}}const s=(e=t>0?e.padEnd(e.length+t,"0"):e.padStart(e.length-t,"0")).indexOf("."),a=i+(e=e.slice(0,s)+e.slice(s+1)).slice(0,s+t);if(r)return a;let c=e.slice(s+t),u=c.length-1;for(;"0"===c[u]&&u>0;)u-=1;return u!==c.length-1&&(c=c.slice(0,u+1)),{number:a,fraction:i+c,fractionLength:c.length}}abs(){return new Lx(this._number.abs(),this.unit)}add(e){return e=this._coerceToNumberUnit(e),(0,Bx.maybeReportDifferentTypesDeprecated)(this,e,"add"),e.isZero?this:this.isZero?new Lx(e._number,this.unit):new Lx(this._number.add(e._number),this.unit)}clampLowerZero(){const e=new Lx(0,this.unit);return this.gte(e)?this:e}clone(){return new Lx(this._number,this.unit)}equals(e){return(0,Bx.maybeReportDifferentTypesDeprecated)(this,e,"equals"),this._number.eq(e._number)}gt(e){return(0,Bx.maybeReportDifferentTypesDeprecated)(this,e,"gt"),this._number.gt(e._number)}gte(e){return(0,Bx.maybeReportDifferentTypesDeprecated)(this,e,"gte"),this._number.gte(e._number)}lt(e){return(0,Bx.maybeReportDifferentTypesDeprecated)(this,e,"lt"),this._number.lt(e._number)}lte(e){return(0,Bx.maybeReportDifferentTypesDeprecated)(this,e,"lte"),this._number.lte(e._number)}mul(e){if(Px.default.isBN(e))return new Lx(this._number.mul(e),this.unit);Lx.isNumberUnit(e)&&(0,Bx.maybeReportDifferentTypesDeprecated)(this,e,"mul");const{number:t,fraction:r,fractionLength:n}=this._stringToNumberFraction(e,0),i=new Px.default(0,10);if("0"!==t&&"-0"!==t&&this._number.mulTo(new Px.default(t,10),i),"0"!==r&&"-0"!==r){const e=new Px.default(r,10).imul(this._number).div(new Px.default(10,10).pow(new Px.default(n,10)));i.iadd(e)}return new Lx(i,this.unit)}div(e){if(Px.default.isBN(e))return new Lx(this._number.div(e),this.unit);Lx.isNumberUnit(e)&&(0,Bx.maybeReportDifferentTypesDeprecated)(this,e,"div");const{number:t,fraction:r,fractionLength:n}=this._stringToNumberFraction(e,0),i=new Px.default(10,10).pow(new Px.default(n,10)),o=new Px.default(t,10).imul(i).iadd(new Px.default(r,10));if(o.isZero())throw new Error("Invalid division by 0");const s=this._number.mul(i).div(o);return new Lx(s,this.unit)}floor(){if(0===this.unit.power)return this;{const e=this._toNumberString(),[t]=e.split(".");return new Lx(t,this.unit)}}round(){if(0===this.unit.power)return this;{const e=this._toNumberString(),[t,r]=e.split(".");let n=new Lx(t,this.unit);return r&&Math.round(Number.parseFloat(`0.${r}`))>0&&(n=n.add(new Lx(1,this.unit))),n}}ceil(){if(0===this.unit.power)return this;{const e=this._toNumberString(),[t,r]=e.split(".");let n=new Lx(t,this.unit);return r&&Math.ceil(Number.parseFloat(`0.${r}`))>0&&(n=n.add(new Lx(1,this.unit))),n}}toFixed(e,t){const r=new Px.default(10,10).pow(new Px.default(e,10));let n=new Lx(this._number.mul(r),this.unit);switch(t){case"floor":n=n.floor();break;case"ceil":n=n.ceil();break;default:n=n.round()}return n=new Lx(n._number.div(r),this.unit),n}negate(){return new Lx(this._number.neg(),this.unit)}sub(e){return e=this._coerceToNumberUnit(e),(0,Bx.maybeReportDifferentTypesDeprecated)(this,e,"sub"),e.isZero?this:this.isZero?new Lx(e._number.neg(),this.unit):new Lx(this._number.sub(e._number),this.unit)}cast(e){if(!(0,Ux.default)(e))throw new Error("unitType needs to be a UnitType instance");if(this.unitType.equals(e))return this.toBase();const t=e.baseUnit;let r=this._number;const n=this.unitType.defaultUnit.power,i=e.defaultUnit.power;if(r.isZero()||n===i)return new Lx(r,t);const o=new Px.default(10,10).pow(new Px.default(Math.abs(i-n),10));return n<i?r=r.mul(o):n>i&&(r=r.div(o)),new Lx(r,t)}toBase(){return 0===this.unit.power?this:new Lx(this._number,this.baseUnit)}toDefault(){return this.defaultUnit===this.unit?this:this.to(this.defaultUnit)}to(e,t){if(e===this.unit)return this;if("string"==typeof e&&(e=this.unitType.units[e]),this.unit.unitType.equals(e.unitType))return new Lx(this._number,e);if(!t)throw new Error("Incompatible unit types. Must specify a conversion.");if("function"==typeof t)return t(this);{if(!this.unitType.equals(t.from.unitType))throw new Error("Conversion unit from is of different type.");const e=Number.parseFloat(t.toValue)/Number.parseFloat(t.fromValue);return(0,Rx.default)(t.from.unitType,t.to.unitType,e,{unit1:t.fromUnit,unit2:t.toUnit})(this)}}toJSON(){return{value:this._toNumberString(),unit:this.unitName,unitType:this.unitType.toString(),type:"NumberUnit"}}toNumber(e){return Number.parseFloat(this._toNumberString(e))}toDefaultNumber(){return this.toNumber(this.defaultUnit)}toBaseNumber(){return this.toNumber(this.baseUnit)}toBaseBufferLE(e){return this._number.toBuffer("le",e)}toBaseBufferBE(e){return this._number.toBuffer("be",e)}toNumberString(e){return(0,Bx.default)("DEPRECATION WARNING: number-unit.toNumberString usage will be removed soon. Use number-unit.toString({unit: false}) instead"),this._toNumberString(e)}_toNumberString(e=this.unit){const t="WARNING: number-unit was cloned improperly and is no longer a NumberUnit instance",r=e.toString();if(this._numberStringMap&&this._numberStringMap.get(r))return this._numberStringMap.get(r);let n;this._numberStringMap||(0,Bx.default)(t),n=e===this.unit?this:this.to(e);let i=n._number.toString(10);if(0===n.unit.power)return this._numberStringMap?this._numberStringMap.set(r,i):(0,Bx.default)(t),i;const o="-"===i[0];o&&(i=i.slice(1)),i.length<n.unit.power+1&&(i=i.padStart(n.unit.power+1,"0")),i=i.slice(0,-n.unit.power)+"."+i.slice(-n.unit.power);const s=i.indexOf(".");if(-1!==s){let e=i.length-1;for(;"0"===i[e]&&e>s;)e-=1;e!==i.length-1&&("."===i[e]&&e--,i=i.slice(0,e+1))}return o&&(i="-"+i),this._numberStringMap?this._numberStringMap.set(r,i):(0,Bx.default)(t),i}toString({unit:e=!0,format:t,unitInstance:r=this.unit}={}){return t?t(this._toNumberString(r),r):this._toNumberString(r)+(e?" "+r.unitName:"")}toDefaultString({unit:e=!1}={}){return this.toString({unitInstance:this.defaultUnit,unit:e})}toBaseString({unit:e=!1}={}){return this.toString({unitInstance:this.baseUnit,unit:e})}valueOf(){return this.toDefaultNumber()}get value(){return this.toString()}get isNegative(){return this._number.isNeg()}get isPositive(){return this._number.gt(new Px.default(0))}get isZero(){return this._number.isZero()}_coerceToNumberUnit(e){return Lx.isNumberUnit(e)?e:((0,Bx.default)("DEPRECATION WARNING: number-unit.add/sub usage with int or string param will be removed soon"),new Lx(e,this.unit))}}wx.default=Lx,Cx(Lx,"isNumberUnit",Mx.default),Object.defineProperty(vx,"__esModule",{value:!0}),vx.create=function(e,t,r){if(r<0)throw new Error("power cannot be less than 0");const n=function(e){if(Number.isNaN(e))throw new Error("Value NaN not supported for number unit conversion.");return(0,Wx.default)(e)?((0,zx.maybeReportDifferentTypesDeprecated)(e,n,"create"),e.to(n)):Fx.default.create(e,n)};return n.unitName=t,n.power=r,n.multiplier=new Dx.default(10,10).pow(new Dx.default(r)),n.unitType=e,n.toJSON=function(){return{unitName:n.unitName,power:n.power}},n[Symbol.toStringTag]=()=>String(n),n.toString=function(){return n.unitName},n};var Dx=qx(fd),Fx=qx(wx),Wx=qx(_x),zx=Ix;function qx(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(qv,"__esModule",{value:!0}),qv.default=void 0;var Vx=Gx(Jc),Kx=Vv,Zx=vx,Hx=Gx(Ex);function Gx(e){return e&&e.__esModule?e:{default:e}}function Jx(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function Qx(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yx(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,Xx(e,t,"set"),r),r}function Xx(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}const $x=Symbol("UnitType");var eI=new WeakMap;class tI{static equals(e,t){return(0,Vx.default)(e instanceof tI,"argument must be a UnitType"),e===t||e.equals(t)}constructor(e,t){Qx(this,"units",void 0),Qx(this,"baseUnit",void 0),Qx(this,"defaultUnit",void 0),Jx(this,eI,{writable:!0,value:void 0}),(0,Vx.default)(t===$x,"please use UnitType.create()"),this.units={},Object.keys(e).forEach((t=>{this.units[t]=(0,Zx.create)(this,t,e[t]),this[t]=this.units[t]}));const r=Object.keys(this.units).filter((e=>0===this.units[e].power));if(0===r.length)throw new Error("Must specify at least one unit with a power of 0.");this.baseUnit=this.units[r[0]],this.defaultUnit=Object.values(this.units).reduce(((e,t)=>Math.trunc(e.power)>t.power?e:t),{}),Yx(this,eI,this.defaultUnit(0))}equals(e){return(0,Vx.default)((0,Hx.default)(e),"argument must be a UnitType"),this===e||this.toString()===e.toString()}parse(e){const[t,r]=e.split(" ");if(void 0===this.units[r])throw new Error(`Unit "${r}" not found from parsing "${e}"`);return this.units[r](t)}toString(){return String(this.defaultUnit)}toJSON(){return(0,Kx.mapValues)(this.units,(e=>e.power))}get ZERO(){return function(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Xx(e,t,"get"))}(this,eI)}}qv.default=tI,Qx(tI,"create",(0,Kx.memoize)((e=>((0,Vx.default)(!(0,Kx.isEmpty)(e),"definitions must have at least one item"),new tI(e,$x))),(e=>JSON.stringify(e)))),Object.defineProperty(zv,"__esModule",{value:!0}),zv.createFromBaseValue=void 0;var rI=function(e){return e&&e.__esModule?e:{default:e}}(qv);zv.createFromBaseValue=({value:e,symbol:t,power:r})=>rI.default.create({base:0,[t]:r}).baseUnit(e);var nI={};Object.defineProperty(nI,"__esModule",{value:!0}),nI.default=function(e,t){const r=e.unitType,n=t.unitType;return function(i){const o=i.unitType;if(o.equals(r)){const r=i.to(e.unitName),o=e.isZero?e.unitType.ZERO._number:r._number.mul(t._number).div(e._number);return n[t.unitName](o).to(t.unitName)}if(o.equals(n)){const n=i.to(t.unitName),o=t.isZero?t.unitType.ZERO._number:n._number.mul(e._number).div(t._number);return r[e.unitName](o).to(e.unitName)}throw new Error("Conversion error")}},function(e){e&&e.__esModule}(wx),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={isNumberUnit:!0,conversionByRate:!0,conversion:!0,UnitType:!0};Object.defineProperty(e,"UnitType",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"conversion",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"conversionByRate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"isNumberUnit",{enumerable:!0,get:function(){return i.default}});var r=zv;Object.keys(r).forEach((function(n){"default"===n||"__esModule"===n||Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===r[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[n]}})}));var n=c(wx),i=c(_x),o=c(Sx),s=c(nI),a=c(qv);function c(e){return e&&e.__esModule?e:{default:e}}}(Wv);const iI=(e,t,r)=>{void 0===e[t]&&void 0!==r&&(e[t]=r)},oI=({assets:e,asset:t})=>{if(Object.defineProperties(t,{baseAsset:{get(){return e[t.baseAssetName||t.name]},enumerable:!0},feeAsset:{get(){return e[t.feeAssetName||t.baseAssetName||t.name]},enumerable:!0}}),t.isCombined){const r=t.combinedAssetNames.filter((t=>e[t]));Object.defineProperties(t,{combinedAssetNames:{get(){return r},enumerable:!0}}),Object.defineProperties(t,{combinedAssets:{get(){return r.map((t=>e[t]))},enumerable:!0}})}t.isBuiltIn=!t.isCustomToken,t.isCustomToken&&function(e,t){const{units:r,properName:n,properTicker:i,ticker:o,color:s}=e;iI(e,"currency",Wv.UnitType.create(r)),iI(e,"displayName",n),iI(e,"displayTicker",i||o),iI(e,"primaryColor",s||"#FFFFFF"),iI(e,"chainBadgeColors",t.chainBadgeColors),iI(e,"displayNetworkName",t.displayNetworkName||t.displayName),iI(e,"displayNetworkTicker",t.displayNetworkTicker||t.displayTicker),iI(e,"blockExplorer",t.blockExplorer),iI(e,"gradientCoords",{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}),iI(e,"gradientColors",["#EAEAEA","#FFF"]);const{displayName:a,displayTicker:c}=e;e.properName=a,e.properTicker=c}(t,t.baseAsset)};var sI={},aI={};Object.defineProperty(aI,"__esModule",{value:!0}),aI.default=void 0;aI.default=[{name:"7dhb_solana_c9e04412",displayName:"Lido Staked SOL",decimals:9,ticker:"7DHBsolanaC9E04412",displayTicker:"stSOL",mintAddress:"7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj",info:{description:"When someone stakes their SOL with Lido, they instantly receive stSOL tokens in return. The stSOL tokens increase in value over time and can be used in other DeFi products while the SOL is staked.",telegram:"https://t.me/lidofinance",reddit:"https://reddit.com/r/lidofinance",twitter:"https://twitter.com/lidofinance",website:"https://www.lido.fi"},primaryColor:"#00A3FF",gradientColors:["#00A3FF","#3ADCFF"],gradientCoords:{x1:"29.931%",y1:"11.994%",x2:"10.494%",y2:"28.187%"}},{name:"7i5k_solana_c9e04412",displayName:"STEPN",decimals:9,ticker:"7I5KsolanaC9E04412",displayTicker:"GMT",mintAddress:"7i5KKsX2weiTkry7jA4ZwSuXGhs5eJBEjY8vVxR4pfRx",primaryColor:"#E6BC7B",gradientColors:["#FFE5C0","#E6BC7B"],gradientCoords:{x1:"3%",y1:"8.5%",x2:"41.043%",y2:"26.738%"}},{name:"8hgy_solana_43b58185",displayName:"COPE",decimals:6,ticker:"8HGYsolana43B58185",displayTicker:"COPE",mintAddress:"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh",info:{description:"Cope ranks and indexes online call makers (such as trader influencers on social media), and filters out the ones who make low quality calls. This creates a powerful leaderboard that can be used to follow the top call makers.",twitter:"https://twitter.com/unlimitedcope",website:"https://www.unlimitedcope.com"},primaryColor:"#77B0DD",gradientColors:["#44b6BB","#77B0DD"],gradientCoords:{x1:"19.031%",y1:"-66.682%",x2:"123.324%",y2:"91.487%"}},{name:"audius_solana",displayName:"Audius",decimals:8,ticker:"AUDIOSOL",displayTicker:"AUDIO",mintAddress:"9LzCMqDgTKYz9Drzqnpgee3SGa89up3a247ypMj2xrqM",primaryColor:"#ED43FF",gradientColors:["#EAEAEA","#FFF"],gradientCoords:{x1:"19.031%",y1:"-66.682%",x2:"123.324%",y2:"91.487%"}},{name:"aury_solana_c9e04412",displayName:"Aurory",decimals:9,ticker:"AURYsolanaC9E04412",displayTicker:"AURY",mintAddress:"AURYydfxJib1ZkTir1Jn1J9ECYUtjb6rKQVmtYaixWPP",info:{description:"Aurory is a Solana-based role-playing game that rewards players with NFTs and tokens. Its universe has a blend of Japanese, retro, and futuristic styles, including hand-drawn art.",twitter:"https://twitter.com/auroryproject",website:"https://aurory.io/",telegram:"https://t.me/aurory_project"},primaryColor:"#B53BE1",gradientColors:["#8312AC","#B53BE1"],gradientCoords:{x1:"22.6%",y1:"7.867%",x2:"22.426%",y2:"30.81%"}},{name:"eche_solana_c5cba5c4",displayName:"Bonfida",decimals:6,ticker:"ECHEsolanaC5CBA5C4",displayTicker:"FIDA",mintAddress:"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",info:{description:"FIDA is a Solana-based governance token that offers multiple services such as a graphical user interface for the Serum DEX and Solana data analytics.",website:"https://bonfida.org/#/",telegram:"https://t.me/bonfidatg"},primaryColor:"#6868FC",gradientColors:["#A0A0FF","#6868FC"],gradientCoords:{x1:"-4.68%",y1:"1.381%",x2:"48.573%",y2:"30.414%"}},{name:"dezx_solana_3b523050",displayName:"Bonk",decimals:5,ticker:"DEZXsolana3B523050",displayTicker:"BONK",mintAddress:"DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263",info:{description:"BONK is a memecoin that gave users airdrops of BONK on the Solana network.",website:"https://www.bonkcoin.com/"},primaryColor:"#6868FC",gradientColors:["#A0A0FF","#6868FC"],gradientCoords:{x1:"-4.68%",y1:"1.381%",x2:"48.573%",y2:"30.414%"}},{name:"gene_solana_c9e04412",displayName:"Genopets",decimals:9,ticker:"GENEsolanaC9E04412",displayTicker:"GENE",mintAddress:"GENEtH5amGSi8kHAtQoezp1XEXwZJ8vcuePYnXdKrMYz",info:{description:"Genopets is a game that rewards users for being active while raising their in-game Genopet. The GENE token offers staking, NFT-creation, exclusive features, and governance of the Genopets platform.",reddit:"https://reddit.com/r/genopets",twitter:"https://twitter.com/genopets",website:"https://www.genopets.me/"},primaryColor:"#00FFC8",gradientColors:["#00AE89","#00FFC8"],gradientCoords:{x1:"19.031%",y1:"-66.682%",x2:"123.324%",y2:"91.487%"}},{name:"jupy_solana_ed7ebe51",displayName:"Jupiter",decimals:6,ticker:"JUPYsolanaED7EBE51",displayTicker:"JUP",mintAddress:"JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN",info:{description:"JUP is the governance token of the Jupiter platform, originally split 50% to the community and 50% to the Jupiter ecosystem team.  Holders are expecting to vote on token mints and initiatives within the Jupiter platform.",twitter:"https://twitter.com/JupiterExchange",website:"https://jup.ag/"},primaryColor:"#00FFC8",gradientColors:["#98C158","#C7F284"],gradientCoords:{x1:"19.031%",y1:"-66.682%",x2:"123.324%",y2:"91.487%"}},{name:"kinx_solana_bf1442d2",displayName:"KIN",decimals:5,ticker:"KINXsolanaBF1442D2",displayTicker:"KIN",mintAddress:"kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6",info:{description:"Kin is used as money in consumer apps and services in the spaces of gaming, finance, communication, and more. By implementing Kin, apps can offer their users the ability to earn, pay, or transfer cryptocurrency.",telegram:"https://t.me/TheKinChannel",reddit:"https://reddit.com/r/KinFoundation",twitter:"https://twitter.com/kin_ecosystem",website:"https://kin.org"},primaryColor:"#946DFC",gradientColors:["#EAEAEA","#FFF"],gradientCoords:{x1:"19.031%",y1:"-66.682%",x2:"123.324%",y2:"91.487%"}},{name:"mang_solana_c5cba5c4",displayName:"Mango",decimals:6,ticker:"MANGsolanaC5CBA5C4",displayTicker:"MNGO",mintAddress:"MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac",info:{description:"MNGO is a governance token for Mango, a DAO offering margin trading, lending, and perpetual futures. Powered by Solana, Mangos transactions are nearly instant, with fees close to zero. ",twitter:"https://twitter.com/mangomarkets",website:"https://mango.markets/"},primaryColor:"#EEB91B",gradientColors:["#E54033","#EEB91B"],gradientCoords:{x1:"61.5%",y1:"7.3%",x2:"47.7%",y2:"-6.5%"}},{name:"mean_solana_c5cba5c4",displayName:"Meanfi",decimals:6,ticker:"MEANsolanaC5CBA5C4",displayTicker:"MEAN",mintAddress:"MEANeD3XDdUmNMsRGjASkSWdC8prLYsoRJ61pPeHctD",info:{description:"MeanFi is a self-custody, trustless bank that connects traditional finance and DeFi. It can save users time and money with services such as money streaming, dollar cost averaging, and searches that find the best prices for Solana-based exchanges.",twitter:"https://twitter.com/meanfinance",website:"https://meanfi.com/"},primaryColor:"#FF4F4F",gradientColors:["#B7011C","#FF4F4F"],gradientCoords:{x1:"10.5%",y1:"3.5%",x2:"38.5%",y2:"53.5%"}},{name:"msol_solana_c9e04412",displayName:"Marinade Staked SOL",decimals:9,ticker:"MSOLsolanaC9E04412",displayTicker:"mSOL",mintAddress:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",info:{description:"Marinade Staked SOL is a token users receive for staking their SOL with Marinade, the first liquid staking protocol built on Solana. While earning staking rewards with Marinade, users can earn even more by using their mSOL for borrowing, lending, and other DeFi use cases.",twitter:"https://twitter.com/MarinadeFinance",website:"https://marinade.finance/"},primaryColor:"#C8ECE1",gradientColors:["#308DBA","#C8ECE1"],gradientCoords:{x1:"-3.5%",y1:"3.5%",x2:"48.05%",y2:"30.724%"}},{name:"orca_solana",displayName:"Orca",decimals:6,ticker:"ORCASOL",displayTicker:"ORCA",mintAddress:"orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE",info:{description:"Orca is an AMM on Solana where users can exchange assets with low fees and get rewarded for providing liquidity to trading pools.",reddit:"https://www.reddit.com/r/orca_so",twitter:"https://twitter.com/orca_so",website:"https://orca.so",telegram:"https://t.me/orca_so"},primaryColor:"#5969DB",gradientColors:["#1D257A","#5969DB"],gradientCoords:{x1:"44.5%",y1:"40%",x2:"-4.548%",y2:"4.017%"}},{name:"poli_solana_0cc3745c",displayName:"Star Atlas DAO",decimals:8,ticker:"POLIsolana0CC3745C",displayTicker:"POLIS",mintAddress:"poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk",info:{description:"Star Atlas DAO (POLIS) is the governance token for Star Atlas, an expansive, breathtaking gaming metaverse. POLIS holders can participate in decisions that affect how Star Atlas is operated.",reddit:"https://reddit.com/r/staratlas",twitter:"https://twitter.com/staratlas",website:"https://staratlas.com"},primaryColor:"#32FFFF",gradientColors:["#32FFFF","#EDFEFF"],gradientCoords:{x1:"19.031%",y1:"-66.682%",x2:"123.324%",y2:"91.487%"}},{name:"raydium",displayName:"Raydium",decimals:6,ticker:"RAY",mintAddress:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",info:{description:"Raydium, an AMM (Automated Market Market), powers DeFi on the Solana blockchain, providing on-chain liquidity for the Serum Decentralized Exchange. This means lightning fast token swaps and a whole lot more!",twitter:"https://twitter.com/RaydiumProtocol",website:"https://raydium.io/",telegram:"https://t.me/raydiumprotocol"},primaryColor:"#3772FF",gradientColors:["#3772FF","#C200FB"],gradientCoords:{x1:"99.911%",y1:"25.033%",x2:"-6.116%",y2:"61.756%"}},{name:"rndr_solana_4b3ba195",displayName:"Render",decimals:8,ticker:"RNDRsolana4B3BA195",displayTicker:"RENDER",mintAddress:"rndrizKT3MK1iimdxRdWabcF7Zg7AR5T4nud4EkHBof",info:{description:"Render is a token that creators can pay to node operators to get GPU rendering power for their work on images, animation, and special effects. This saves creators money as its cheaper than in-house rendering, and it allows node operators to earn RNDR with their idle GPUs.",reddit:"https://www.reddit.com/r/RenderToken/",twitter:"https://twitter.com/rendertoken",website:"https://rendertoken.com/",telegram:"https://t.me/RenderTokenOfficial"},primaryColor:"#FF5A5A",gradientColors:["#E62249","#FF5A5A"],gradientCoords:{x1:"38%",y1:"37.5%",x2:"0.537%",y2:"6.714%"}},{name:"serum",displayName:"Serum",decimals:6,ticker:"SRM",mintAddress:"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",info:{description:"SRM tokens power Serum, a centralized exchange software system built on the Solana blockchain. It allows for trading of cryptocurrencies and has the advantage of a cross-chain support, meaning that it enables a trustless exchange of crypto between various blockchains.",reddit:"https://www.reddit.com/r/ProjectSerum/",twitter:"https://twitter.com/ProjectSerum",website:"https://projectserum.com/"},primaryColor:"#71E0EC",gradientColors:["#71E0EC","#05AAC5"],gradientCoords:{x1:"0%",y1:"-.006%",x2:"99.694%",y2:"99.694%"}},{name:"smoothlovepotion_solana",displayName:"Smooth Love Potion",decimals:8,ticker:"SLPSOL",displayTicker:"SLP",mintAddress:"4hpngEp1v3CXpeKB81Gw4sv7YvwUVRKvY3SGag9ND8Q4",primaryColor:"#77BAA1",gradientColors:["#EAEAEA","#FFF"],gradientCoords:{x1:"19.031%",y1:"-66.682%",x2:"123.324%",y2:"91.487%"}},{name:"staratlas_solana",displayName:"Star Atlas",decimals:8,ticker:"ATLASSOL",displayTicker:"ATLAS",mintAddress:"ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx",info:{description:"Star Atlas is a massive multiplayer online game in a breathtaking metaverse run on Solana. Players can travel in space, build space stations, form alliances, and battle for virtual assets.",reddit:"https://reddit.com/r/staratlas",twitter:"https://twitter.com/staratlas",website:"https://staratlas.com",telegram:"https://t.me/staratlasgame"},primaryColor:"#32FFFF",gradientColors:["#32FFFF","#EDFEFF"],gradientCoords:{x1:"44.5%",y1:"40%",x2:"-4.548%",y2:"4.017%"}},{name:"tetherusd_solana",displayName:"Tether USD",decimals:6,ticker:"USDTSOL",displayTicker:"USDT",mintAddress:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",primaryColor:"#53AE94",gradientColors:["#EAEAEA","#FFF"],gradientCoords:{x1:"19.031%",y1:"-66.682%",x2:"123.324%",y2:"91.487%"}},{name:"thegraph_solana",displayName:"The Graph",decimals:8,ticker:"GRTSOL",displayTicker:"GRT",mintAddress:"HGsLG4PnZ28L8A4R5nPqKgZd86zUUdmfnkTRnuFJ5dAX",primaryColor:"#33A0FF",gradientColors:["#EAEAEA","#FFF"],gradientCoords:{x1:"19.031%",y1:"-66.682%",x2:"123.324%",y2:"91.487%"}},{name:"tulip_solana",displayName:"Tulip Protocol",decimals:6,ticker:"TULIPSOL",displayTicker:"TULIP",mintAddress:"TuLipcqtGVXP9XR62wM8WWCm6a9vhLs7T1uoWBk6FDs",info:{description:"Tulip is the first Solana-powered platform to offer decentralized yield aggregation and auto-compounding vault strategies.",twitter:"https://twitter.com/tulipprotocol",website:"https://tulip.garden",telegram:"https://t.me/tulipprotocol"},primaryColor:"#1C88B4",gradientColors:["#2BD9B9","#D141E9"],gradientCoords:{x1:"44.5%",y1:"40%",x2:"-4.548%",y2:"4.017%"}},{name:"usdcoin_solana",displayName:"USD Coin",decimals:6,ticker:"USDCSOL",displayTicker:"USDC",mintAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",primaryColor:"#3E90E8",gradientColors:["#EAEAEA","#FFF"],gradientCoords:{x1:"19.031%",y1:"-66.682%",x2:"123.324%",y2:"91.487%"}}];var cI={};Object.defineProperty(cI,"__esModule",{value:!0}),cI.extractUnits=function(e){return e.units||{base:0,[e.ticker]:e.decimals}},Object.defineProperty(sI,"__esModule",{value:!0}),sI.tokens=sI.default=sI.asset=void 0;var uI=function(e){return e&&e.__esModule?e:{default:e}}(aI),dI=cI,fI=Wv;const lI="solana",hI="Solana",pI="SOL",yI=pI,mI=hI,bI=lI,gI={Lamports:0,SOL:9},vI=fI.UnitType.create(gI),wI={addressUrl:e=>`https://solscan.io/account/${encodeURIComponent(e)}`,txUrl:e=>`https://solscan.io/tx/${encodeURIComponent(e)}`},_I={assetType:"SOLANA_LIKE",baseAssetName:bI,blockExplorer:wI,chainBadgeColors:["#0CF3A8","#D823FE"],currency:vI,displayName:hI,displayNetworkName:mI,displayNetworkTicker:yI,displayTicker:pI,gradientColors:["#14F195","#9BFFD7"],gradientCoords:{x1:"12.519%",y1:"28.482%",x2:"27.289%",y2:"11.831%"},info:{description:"Solana is a high-performance blockchain, taking on one of tech's biggest challenges: scaling blockchain for global adoption.",reddit:"https://www.reddit.com/r/solana/",twitter:"https://twitter.com/solana",website:"https://solana.com/",telegram:"https://t.me/solana"},name:lI,primaryColor:"#14F195",properName:hI,properTicker:pI,ticker:"SOL",toString:()=>lI,units:gI};sI.asset=_I;const SI=uI.default.map((e=>{const t=(0,dI.extractUnits)(e);return{...e,assetType:"SOLANA_TOKEN",baseAssetName:bI,blockExplorer:wI,chainBadgeColors:e.chainBadgeColors||e.gradientColors,currency:fI.UnitType.create(t),displayNetworkName:mI,displayNetworkTicker:yI,displayTicker:e.displayTicker||e.ticker,mintAddress:e.mintAddress,info:e.info||{},properName:e.displayName,properTicker:e.displayTicker||e.ticker,toString:()=>e.name,units:t}}));sI.tokens=SI;var EI=[_I,...SI],kI=sI.default=EI,AI={},xI=function(){return xI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xI.apply(this,arguments)},II=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)(n||!(i in t))&&(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},TI=function(e,t,r){if(void 0===r&&(r=!1),!e||!t||"object"!=typeof e||"object"!=typeof t)return e;var n=xI({},e);for(var i in t)t.hasOwnProperty(i)&&(t[i]instanceof Array&&e[i]instanceof Array?n[i]=r?II(II([],e[i],!0),t[i],!0):t[i]:"object"==typeof t[i]&&"object"==typeof e[i]?n[i]=TI(e[i],t[i],r):n[i]=t[i]);return n};const OI=globalThis||self;var PI={defaults:{},errorType:null,polyfills:{fetch:null,FormData:null,URLSearchParams:null,performance:null,PerformanceObserver:null,AbortController:null},polyfill:function(e,t){for(var r=void 0===t?{}:t,n=r.doThrow,i=void 0===n||n,o=r.instance,s=void 0!==o&&o,a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];var u=this.polyfills[e]||(typeof self<"u"?self[e]:null)||(typeof OI<"u"?OI[e]:null);if(i&&!u)throw new Error(e+" is not defined");return s&&u?new(u.bind.apply(u,function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)(n||!(i in t))&&(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}([void 0],a,!1))):u}},MI=function(e,t,r,n){if(!e.getEntriesByName)return!1;var i=e.getEntriesByName(t);return!!(i&&i.length>0)&&(r(i.reverse()[0]),n.clearMeasures&&n.clearMeasures(t),RI.callbacks.delete(t),RI.callbacks.size<1&&(RI.observer.disconnect(),n.clearResourceTimings&&n.clearResourceTimings()),!0)},RI={callbacks:new Map,observer:null,observe:function(e,t){if(e&&t){var r=PI.polyfill("performance",{doThrow:!1});(function(e,t){return!RI.observer&&e&&t&&(RI.observer=new t((function(t){RI.callbacks.forEach((function(r,n){MI(t,n,r,e)}))})),e.clearResourceTimings&&e.clearResourceTimings()),RI.observer})(r,PI.polyfill("PerformanceObserver",{doThrow:!1}))&&(MI(r,e,t,r)||(RI.callbacks.size<1&&RI.observer.observe({entryTypes:["resource","measure"]}),RI.callbacks.set(e,t)))}}},BI=function(){return function(e){this.error=e}}(),UI=function(e){var t=e._url,r=e._catchers,n=e._resolvers,i=e._middlewares,o=e._options,s=new Map(r),a=TI(PI.defaults,o),c=PI.polyfill("AbortController",{doThrow:!1,instance:!0});!a.signal&&c&&(a.signal=c.signal);var u={ref:null,clear:function(){u.ref&&(clearTimeout(u.ref),u.ref=null)}},d=function(e){return function(t){return 0===e.length?t:1===e.length?e[0](t):e.reduceRight((function(r,n,i){return i===e.length-2?n(r(t)):n(r)}))}}(i)(PI.polyfill("fetch"))(t,a),f=d.catch((function(e){throw new BI(e)})).then((function(e){if(u.clear(),!e.ok){if("opaque"===e.type){var t=new Error("Opaque response");throw t.status=e.status,t.response=e,t}return e[PI.errorType||"text"]().then((function(t){var r=new Error(t);throw r[PI.errorType||"text"]=t,r.status=e.status,r.response=e,r}))}return e})),l=function(t){return function(r){return function(t){return t.catch((function(t){u.clear();var r=t instanceof BI?t.error:t;if(t instanceof BI&&s.has("__fromFetch"))return s.get("__fromFetch")(r,e);if(s.has(r.status))return s.get(r.status)(r,e);if(s.has(r.name))return s.get(r.name)(r,e);throw r}))}(t?f.then((function(e){return e&&e[t]()})).then((function(e){return r?r(e):e})):f.then((function(e){return r?r(e):e})))}},h={res:l(null),json:l("json"),blob:l("blob"),formData:l("formData"),arrayBuffer:l("arrayBuffer"),text:l("text"),perfs:function(e){return d.then((function(t){return RI.observe(t.url,e)})).catch((function(){})),h},setTimeout:function(e,t){return void 0===t&&(t=c),u.clear(),u.ref=setTimeout((function(){return t.abort()}),e),h},controller:function(){return[c,h]},error:function(e,t){return s.set(e,t),h},badRequest:function(e){return h.error(400,e)},unauthorized:function(e){return h.error(401,e)},forbidden:function(e){return h.error(403,e)},notFound:function(e){return h.error(404,e)},timeout:function(e){return h.error(408,e)},internalError:function(e){return h.error(500,e)},fetchError:function(e){return h.error("__fromFetch",e)},onAbort:function(e){return h.error("AbortError",e)}};return n.reduce((function(t,r){return r(t,e)}),h)},NI=function(){return NI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},NI.apply(this,arguments)},jI=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)(n||!(i in t))&&(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},CI="Content-Type";function LI(e){var t;return void 0===e&&(e={}),null===(t=Object.entries(e).find((function(e){return e[0].toLowerCase()===CI.toLowerCase()})))||void 0===t?void 0:t[1]}function DI(e){return/^application\/.*json.*/.test(e)}var FI=function(){function e(e,t,r,n,i,o){void 0===r&&(r=new Map),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===o&&(o=[]),this._url=e,this._options=t,this._catchers=r,this._resolvers=n,this._middlewares=i,this._deferredChain=o}return e.factory=function(t,r){return void 0===t&&(t=""),void 0===r&&(r={}),new e(t,r)},e.prototype.selfFactory=function(t){var r=void 0===t?{}:t,n=r.url,i=void 0===n?this._url:n,o=r.options,s=void 0===o?this._options:o,a=r.catchers,c=void 0===a?this._catchers:a,u=r.resolvers,d=void 0===u?this._resolvers:u,f=r.middlewares,l=void 0===f?this._middlewares:f,h=r.deferredChain,p=void 0===h?this._deferredChain:h;return new e(i,NI({},s),new Map(c),jI([],d,!0),jI([],l,!0),jI([],p,!0))},e.prototype.defaults=function(e,t){return void 0===t&&(t=!1),PI.defaults=t?TI(PI.defaults,e):e,this},e.prototype.errorType=function(e){return PI.errorType=e,this},e.prototype.polyfills=function(e){return PI.polyfills=NI(NI({},PI.polyfills),e),this},e.prototype.url=function(e,t){if(void 0===t&&(t=!1),t)return this.selfFactory({url:e});var r=this._url.split("?");return this.selfFactory({url:r.length>1?r[0]+e+"?"+r[1]:this._url+e})},e.prototype.options=function(e,t){return void 0===t&&(t=!0),this.selfFactory({options:t?TI(this._options,e):e})},e.prototype.query=function(e,t){return void 0===t&&(t=!1),this.selfFactory({url:WI(this._url,e,t)})},e.prototype.headers=function(e){return this.selfFactory({options:TI(this._options,{headers:e||{}})})},e.prototype.accept=function(e){return this.headers({Accept:e})},e.prototype.content=function(e){var t;return this.headers(((t={})[CI]=e,t))},e.prototype.auth=function(e){return this.headers({Authorization:e})},e.prototype.catcher=function(e,t){var r=new Map(this._catchers);return r.set(e,t),this.selfFactory({catchers:r})},e.prototype.signal=function(e){return this.selfFactory({options:NI(NI({},this._options),{signal:e.signal})})},e.prototype.resolve=function(e,t){return void 0===t&&(t=!1),this.selfFactory({resolvers:t?[e]:jI(jI([],this._resolvers,!0),[e],!1)})},e.prototype.defer=function(e,t){return void 0===t&&(t=!1),this.selfFactory({deferredChain:t?[e]:jI(jI([],this._deferredChain,!0),[e],!1)})},e.prototype.middlewares=function(e,t){return void 0===t&&(t=!1),this.selfFactory({middlewares:t?e:jI(jI([],this._middlewares,!0),e,!0)})},e.prototype.method=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r=null);var n=this.options(NI(NI({},t),{method:e})),i=LI(n._options.headers),o="object"==typeof r&&(!n._options.headers||!i||DI(i));return n=r?o?n.json(r,i):n.body(r):n,UI(n._deferredChain.reduce((function(e,t){return t(e,e._url,e._options)}),n))},e.prototype.get=function(e){return this.method("GET",e)},e.prototype.delete=function(e){return this.method("DELETE",e)},e.prototype.put=function(e,t){return this.method("PUT",t,e)},e.prototype.post=function(e,t){return this.method("POST",t,e)},e.prototype.patch=function(e,t){return this.method("PATCH",t,e)},e.prototype.head=function(e){return this.method("HEAD",e)},e.prototype.opts=function(e){return this.method("OPTIONS",e)},e.prototype.replay=function(e){return this.method(this._options.method,e)},e.prototype.body=function(e){return this.selfFactory({options:NI(NI({},this._options),{body:e})})},e.prototype.json=function(e,t){var r=LI(this._options.headers);return this.content(t||DI(r)&&r||"application/json").body(JSON.stringify(e))},e.prototype.formData=function(e,t){return void 0===t&&(t=!1),this.body(zI(e,t))},e.prototype.formUrl=function(e){return this.body("string"==typeof e?e:function(e){return Object.keys(e).map((function(t){var r=e[t];return r instanceof Array?r.map((function(e){return qI(t,e)})).join("&"):qI(t,r)})).join("&")}(e)).content("application/x-www-form-urlencoded")},e}(),WI=function(e,t,r){var n;if("string"==typeof t)n=t;else{var i=PI.polyfill("URLSearchParams",{instance:!0});for(var o in t)if(t[o]instanceof Array)for(var s=0,a=t[o];s<a.length;s++){var c=a[s];i.append(o,c)}else i.append(o,t[o]);n=i.toString()}var u=e.split("?");return n?r||u.length<2?u[0]+"?"+n:e+"&"+n:r?u[0]:e};function zI(e,t,r,n){return void 0===t&&(t=!1),void 0===r&&(r=PI.polyfill("FormData",{instance:!0})),void 0===n&&(n=[]),Object.entries(e).forEach((function(e){var i=e[0],o=e[1],s=n.reduce((function(e,t){return e?"".concat(e,"[").concat(t,"]"):t}),null);if(s=s?"".concat(s,"[").concat(i,"]"):i,o instanceof Array)for(var a=0,c=o;a<c.length;a++){var u=c[a];r.append(s+"[]",u)}else!t||"object"!=typeof o||t instanceof Array&&t.includes(i)?r.append(s,o):null!==o&&zI(o,t,r,jI(jI([],n,!0),[i],!1))})),r}function qI(e,t){return encodeURIComponent(e)+"="+encodeURIComponent("object"==typeof t?JSON.stringify(t):""+t)}var VI=FI.factory;VI.default=FI.factory;const KI=ur(Object.freeze(Object.defineProperty({__proto__:null,Wretcher:FI,default:VI},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(AI,"__esModule",{value:!0});var ZI=AI.default=function(e,t={}){return(0,HI.default)(e).middlewares([e=>async(t,r)=>{const n=JSON.stringify(JI({jsonrpc:"2.0",id:1,params:[]},JSON.parse(r.body)));return e(t,JI({},r,{body:n}))}]).resolve((async e=>{const{result:t,error:r}=await e.json();if(r)throw new Error(JSON.stringify(r));return t}))},HI=function(e){return e&&e.__esModule?e:{default:e}}(KI);function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function JI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GI(Object(r),!0).forEach((function(t){QI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function QI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YI={},XI={},$I={};const eT=cr(Hf());let tT=!1,rT=!1;const nT={debug:1,default:2,info:2,warning:3,error:4,off:5};let iT=nT.default,oT=null;const sT=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch{e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if("e"!=="".normalize("NFD"))throw new Error("broken implementation")}catch(e){return e.message}return null}();var aT,cT;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(aT||(aT={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(cT||(cT={}));const uT="0123456789abcdef";class dT{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==nT[r]&&this.throwArgumentError("invalid log level name","logLevel",e),!(iT>nT[r])&&console.log.apply(console,t)}debug(...e){this._log(dT.levels.DEBUG,e)}info(...e){this._log(dT.levels.INFO,e)}warn(...e){this._log(dT.levels.WARNING,e)}makeError(e,t,r){if(rT)return this.makeError("censored error",t,{});t||(t=dT.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=uT[t[e]>>4],r+=uT[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch{n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case cT.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case cT.CALL_EXCEPTION:case cT.INSUFFICIENT_FUNDS:case cT.MISSING_NEW:case cT.NONCE_EXPIRED:case cT.REPLACEMENT_UNDERPRICED:case cT.TRANSACTION_REPLACED:case cT.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,dT.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){sT&&this.throwError("platform missing String.prototype.normalize",dT.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:sT})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,dT.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,dT.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,dT.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,dT.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",dT.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",dT.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",dT.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return oT||(oT=new dT("logger/5.7.0")),oT}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",dT.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),tT){if(!e)return;this.globalLogger().throwError("error censorship permanent",dT.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}rT=!!e,tT=!!t}static setLogLevel(e){const t=nT[e.toLowerCase()];null!=t?iT=t:dT.globalLogger().warn("invalid log level - "+e)}static from(e){return new dT(e)}}dT.errors=cT,dT.levels=aT;const fT=new dT("bytes/5.7.0");function lT(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return lT(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function hT(e){return"number"==typeof e&&e==e&&e%1==0}function pT(e,t){if(t||(t={}),"number"==typeof e){fT.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),lT(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":fT.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return lT(new Uint8Array(n))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!hT(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!hT(r)||r<0||r>=256)return!1}return!0}(e)?lT(new Uint8Array(e)):fT.throwArgumentError("invalid arrayify value","value",e)}var yT;!function(e){e.sha256="sha256",e.sha512="sha512"}(yT||(yT={}));const mT=new dT("sha2/5.7.0");const bT=Object.freeze(Object.defineProperty({__proto__:null,get SupportedAlgorithm(){return yT},computeHmac:function(e,t,r){return yT[e]||mT.throwError("unsupported algorithm "+e,dT.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+eT.hmac(eT[e],pT(t)).update(pT(r)).digest("hex")},ripemd160:function(e){return"0x"+eT.ripemd160().update(pT(e)).digest("hex")},sha256:function(e){return"0x"+eT.sha256().update(pT(e)).digest("hex")},sha512:function(e){return"0x"+eT.sha512().update(pT(e)).digest("hex")}},Symbol.toStringTag,{value:"Module"})),gT=ur(bT);var vT={},wT=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vT,"__esModule",{value:!0}),vT.isOnCurve=void 0;const _T=wT(xh).default.lowlevel;vT.isOnCurve=function(e){const t=[_T.gf(),_T.gf(),_T.gf(),_T.gf()],r=_T.gf(),n=_T.gf(),i=_T.gf(),o=_T.gf(),s=_T.gf(),a=_T.gf(),c=_T.gf();return _T.set25519(t[2],ST),_T.unpack25519(t[1],e),_T.S(i,t[1]),_T.M(o,i,_T.D),_T.Z(i,i,t[2]),_T.A(o,t[2],o),_T.S(s,o),_T.S(a,s),_T.M(c,a,s),_T.M(r,c,i),_T.M(r,r,o),_T.pow2523(r,r),_T.M(r,r,i),_T.M(r,r,o),_T.M(r,r,o),_T.M(t[0],r,o),_T.S(n,t[0]),_T.M(n,n,o),kT(n,i)&&_T.M(t[0],t[0],ET),_T.S(n,t[0]),_T.M(n,n,o),!kT(n,i)};const ST=_T.gf([1]),ET=_T.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function kT(e,t){const r=new Uint8Array(32),n=new Uint8Array(32);return _T.pack25519(r,e),_T.pack25519(n,t),_T.crypto_verify_32(r,0,n,0)}var AT=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($I,"__esModule",{value:!0}),$I.findProgramAddress=$I.createProgramAddress=void 0;const xT=AT(Ph),IT=AT(fd),TT=gT,OT=vT;async function PT(e,t){let r=Hn.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=Hn.concat([r,e])})),r=Hn.concat([r,xT.default.decode(t),Hn.from("ProgramDerivedAddress")]);const n=await(0,TT.sha256)(new Uint8Array(r)),i=new IT.default(n.slice(2),16),o=i.toArray(void 0,32);if((0,OT.isOnCurve)(o))throw new Error("Invalid seeds, address must fall off the curve");return xT.default.encode(function(e){const t=e.toArrayLike(Hn);if(32===t.length)return t;const r=Hn.alloc(32);return t.copy(r,32-t.length),r}(i))}$I.createProgramAddress=PT,$I.findProgramAddress=async function(e,t){let r,n=255;for(;0!==n;){try{const i=e.concat(Hn.from([n]));r=await PT(i,t)}catch{n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")};var MT={};Object.defineProperty(MT,"__esModule",{value:!0}),MT.PROGRAM_IDS=MT.AUCTION_PREFIX=MT.METADATA_PREFIX=void 0,MT.METADATA_PREFIX="metadata",MT.AUCTION_PREFIX="auction",MT.PROGRAM_IDS={token:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",associatedToken:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",bpf_upgrade_loader:"BPFLoaderUpgradeab1e11111111111111111111111",system:"11111111111111111111111111111111",metadata:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s",memo:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr",vault:"vau1zxA2LbssAUEF7Gpw91zMM1LvXrvpzJtmZ58rPsn",auction:"auctxRXPeJoc4817jDhf4HbjnhEcr1cCXenosMhK5R8",metaplex:"p1exdMJcjVao65QdewkaZRUnU6VPSXhus9n2GzWfh98"};var RT={};var BT=function({fetch:e}){async function t(e,t,n,i){if(n.body)throw new Error("unexpected pre-set body option");const o=await r.fetch(t,{...n,method:e,headers:{Accept:"application/json","Content-Type":"application/json",...n.headers},...i?{body:JSON.stringify(i)}:{}});if(o.status>=200&&o.status<300)return"response"===n.responseAs?o:204===o.status?null:"text"===n.responseAs?o.text():o.json();const s=new Error(o.statusText);throw s.response=o,s}function r(e,n={}){const i=(t,i={})=>r(`${e}`.endsWith("/")?`${e}${t}`:`${e}/${t}`,{...n,...i});return i.get=r=>t("GET",e+function(e){return e?`?${Object.entries(e).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&")}`:""}(r),n),i.post=r=>t("POST",e,n,r),i.put=r=>t("PUT",e,n,r),i.patch=r=>t("PATCH",e,n,r),i.delete=()=>t("DELETE",e,n),i}return r.fetch=e,r};var UT=BT({fetch:typeof fetch>"u"?null:fetch.bind(globalThis)});var NT={fetch:fetch.bind(globalThis),WebSocket:WebSocket,fetchival:UT};Object.defineProperty(RT,"__esModule",{value:!0});const jT=NT,CT=MT;RT.default=new class{constructor(){this.setServer()}setServer(e){this.url=e||"https://solana.a.exodus.io"}async request(e,t){return(await(0,jT.fetchival)(this.url).post({jsonrpc:"2.0",id:1,method:e,params:t})).result.value}async getTokenAccountsByOwner(e){return this.request("getTokenAccountsByOwner",[e,{programId:CT.PROGRAM_IDS.token},{encoding:"jsonParsed"}])}async getMultipleAccounts(e){return this.request("getMultipleAccounts",[e])}};var LT={},DT={},FT=ar&&ar.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),WT=ar&&ar.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zT=ar&&ar.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},qT=ar&&ar.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&FT(t,e,r);return WT(t,e),t},VT=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(DT,"__esModule",{value:!0}),DT.deserializeUnchecked=DT.deserialize=DT.serialize=DT.BinaryReader=DT.BinaryWriter=DT.BorshError=DT.baseDecode=DT.baseEncode=void 0;const KT=VT(fd),ZT=VT(Ph),HT=qT(qh),GT=new("function"!=typeof ar.TextDecoder?HT.TextDecoder:ar.TextDecoder)("utf-8",{fatal:!0});DT.baseEncode=function(e){return"string"==typeof e&&(e=Hn.from(e,"utf8")),ZT.default.encode(Hn.from(e))},DT.baseDecode=function(e){return Hn.from(ZT.default.decode(e))};const JT=1024;class QT extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}DT.BorshError=QT;class YT{constructor(){this.buf=Hn.alloc(JT),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Hn.concat([this.buf,Hn.alloc(JT)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Hn.from(new KT.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Hn.from(new KT.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Hn.from(new KT.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Hn.from(new KT.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Hn.concat([Hn.from(this.buf.subarray(0,this.length)),e,Hn.alloc(JT)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Hn.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Hn.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function XT(e,t,r){const n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new QT("Reached the end of buffer when deserializing")}throw e}}}DT.BinaryWriter=YT;class $T{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new KT.default(e,"le")}readU128(){const e=this.readBuffer(16);return new KT.default(e,"le")}readU256(){const e=this.readBuffer(32);return new KT.default(e,"le")}readU512(){const e=this.readBuffer(64);return new KT.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new QT(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return GT.decode(t)}catch(e){throw new QT(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let n=0;n<t;++n)r.push(e());return r}}function eO(e){return e.charAt(0).toUpperCase()+e.slice(1)}function tO(e,t,r,n,i){try{if("string"==typeof n)i[`write${eO(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new QT(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new QT(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)tO(e,null,r[t],n[0],i)}else i.writeArray(r,(r=>{tO(e,t,r,n[0],i)}));else if(void 0!==n.kind){if("option"!==n.kind)throw new QT(`FieldType ${n} unrecognized`);null==r?i.writeU8(0):(i.writeU8(1),tO(e,t,r,n.type,i))}else rO(e,r,i)}catch(e){throw e instanceof QT&&e.addToFieldPath(t),e}}function rO(e,t,r){if("function"==typeof t.borshSerialize)return void t.borshSerialize(r);const n=e.get(t.constructor);if(!n)throw new QT(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((([n,i])=>{tO(e,n,t[n],i,r)}));else{if("enum"!==n.kind)throw new QT(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const i=t[n.field];for(let o=0;o<n.values.length;++o){const[s,a]=n.values[o];if(s===i){r.writeU8(o),tO(e,s,t[s],a,r);break}}}}}function nO(e,t,r,n){try{if("string"==typeof r)return n[`read${eO(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"==typeof r[1]){const t=[];for(let i=0;i<r[1];i++)t.push(nO(e,null,r[0],n));return t}return n.readArray((()=>nO(e,t,r[0],n)))}return"option"===r.kind?n.readU8()?nO(e,t,r.type,n):void 0:iO(e,r,n)}catch(e){throw e instanceof QT&&e.addToFieldPath(t),e}}function iO(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new QT(`Class ${t.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,o]of e.get(t).fields)n[i]=nO(e,i,o,r);return new t(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new QT(`Enum index: ${i} is out of range`);const[o,s]=n.values[i],a=nO(e,o,s,r);return new t({[o]:a})}throw new QT(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}zT([XT],$T.prototype,"readU8",null),zT([XT],$T.prototype,"readU16",null),zT([XT],$T.prototype,"readU32",null),zT([XT],$T.prototype,"readU64",null),zT([XT],$T.prototype,"readU128",null),zT([XT],$T.prototype,"readU256",null),zT([XT],$T.prototype,"readU512",null),zT([XT],$T.prototype,"readString",null),zT([XT],$T.prototype,"readFixedArray",null),zT([XT],$T.prototype,"readArray",null),DT.BinaryReader=$T,DT.serialize=function(e,t,r=YT){const n=new r;return rO(e,t,n),n.toArray()},DT.deserialize=function(e,t,r,n=$T){const i=new n(r),o=iO(e,t,i);if(i.offset<r.length)throw new QT(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o},DT.deserializeUnchecked=function(e,t,r,n=$T){return iO(e,t,new n(r))};!function(e){var t=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.extendBorsh=void 0;const r=DT,n=t(Ph);e.extendBorsh=()=>{r.BinaryReader.prototype.readPubkeyAsString=function(){const e=this.readFixedArray(32);return n.default.encode(e)},r.BinaryWriter.prototype.writePubkeyAsString=function(e){this.writeFixedArray(n.default.decode(e))}},(0,e.extendBorsh)()}({}),function(e){var t=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.getEdition=e.decodeMetadata=e.METADATA_SCHEMA=e.Metadata=e.Data=e.Edition=e.EditionMarker=e.MasterEditionV2=e.MasterEditionV1=e.Creator=e.MetadataCategory=e.MetadataKey=e.EDITION_MARKER_BIT_SIZE=e.MAX_EDITION_LEN=e.MAX_METADATA_LEN=e.MAX_CREATOR_LEN=e.MAX_CREATOR_LIMIT=e.MAX_URI_LENGTH=e.MAX_SYMBOL_LENGTH=e.MAX_NAME_LENGTH=e.RESERVATION=e.EDITION=void 0;const r=t(Ph),n=DT,i=$I,o=MT,s=new RegExp("\0","g");var a,c;e.EDITION="edition",e.RESERVATION="reservation",e.MAX_NAME_LENGTH=32,e.MAX_SYMBOL_LENGTH=10,e.MAX_URI_LENGTH=200,e.MAX_CREATOR_LIMIT=5,e.MAX_CREATOR_LEN=34,e.MAX_METADATA_LEN=65+e.MAX_NAME_LENGTH+e.MAX_SYMBOL_LENGTH+e.MAX_URI_LENGTH+e.MAX_CREATOR_LIMIT*e.MAX_CREATOR_LEN+2+1+1+198,e.MAX_EDITION_LEN=241,e.EDITION_MARKER_BIT_SIZE=248,(c=a=e.MetadataKey||(e.MetadataKey={}))[c.Uninitialized=0]="Uninitialized",c[c.MetadataV1=4]="MetadataV1",c[c.EditionV1=1]="EditionV1",c[c.MasterEditionV1=2]="MasterEditionV1",c[c.MasterEditionV2=6]="MasterEditionV2",c[c.EditionMarker=7]="EditionMarker",function(e){e.Audio="audio",e.Video="video",e.Image="image",e.VR="vr",e.HTML="html"}(e.MetadataCategory||(e.MetadataCategory={}));class u{constructor(e){this.address=e.address,this.verified=e.verified,this.share=e.share}}e.Creator=u;class d{constructor(e){this.key=a.MasterEditionV1,this.supply=e.supply,this.maxSupply=e.maxSupply,this.printingMint=e.printingMint,this.oneTimePrintingAuthorizationMint=e.oneTimePrintingAuthorizationMint}}e.MasterEditionV1=d;class f{constructor(e){this.key=a.MasterEditionV2,this.supply=e.supply,this.maxSupply=e.maxSupply}}e.MasterEditionV2=f;class l{constructor(e){this.key=a.EditionMarker,this.ledger=e.ledger}editionTaken(t){const r=t%e.EDITION_MARKER_BIT_SIZE,n=Math.floor(r/8);if(n>30)throw Error("bad index for edition");const i=7-r%8,o=Math.pow(2,i);return!!(this.ledger[n]&o)}}e.EditionMarker=l;class h{constructor(e){this.key=a.EditionV1,this.parent=e.parent,this.edition=e.edition}}e.Edition=h;class p{constructor(e){this.name=e.name,this.symbol=e.symbol,this.uri=e.uri,this.sellerFeeBasisPoints=e.sellerFeeBasisPoints,this.creators=e.creators}}e.Data=p;class y{constructor(e){var t;this.key=a.MetadataV1,this.updateAuthority=e.updateAuthority,this.mint=e.mint,this.data=e.data,this.primarySaleHappened=e.primarySaleHappened,this.isMutable=e.isMutable,this.editionNonce=null!==(t=e.editionNonce)&&void 0!==t?t:null}async init(){null!==this.editionNonce?this.edition=await(0,i.createProgramAddress)([Hn.from(o.METADATA_PREFIX),r.default.decode(o.PROGRAM_IDS.metadata),r.default.decode(this.mint),Hn.from([this.editionNonce||0])],o.PROGRAM_IDS.metadata):this.edition=await m(this.mint),this.masterEdition=this.edition}}e.Metadata=y;async function m(t){return(await(0,i.findProgramAddress)([Hn.from(o.METADATA_PREFIX),r.default.decode(o.PROGRAM_IDS.metadata),r.default.decode(t),Hn.from(e.EDITION)],o.PROGRAM_IDS.metadata))[0]}e.METADATA_SCHEMA=new Map([[class{constructor(e){this.instruction=0,this.data=e.data,this.isMutable=e.isMutable}},{kind:"struct",fields:[["instruction","u8"],["data",p],["isMutable","u8"]]}],[class{constructor(e){this.instruction=1,this.data=e.data?e.data:null,this.updateAuthority=e.updateAuthority?e.updateAuthority:null,this.primarySaleHappened=e.primarySaleHappened}},{kind:"struct",fields:[["instruction","u8"],["data",{kind:"option",type:p}],["updateAuthority",{kind:"option",type:"pubkeyAsString"}],["primarySaleHappened",{kind:"option",type:"u8"}]]}],[class{constructor(e){this.instruction=10,this.maxSupply=e.maxSupply}},{kind:"struct",fields:[["instruction","u8"],["maxSupply",{kind:"option",type:"u64"}]]}],[class{constructor(e){this.instruction=9,this.supply=e.supply}},{kind:"struct",fields:[["instruction","u8"],["supply","u64"]]}],[d,{kind:"struct",fields:[["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}],["printingMint","pubkeyAsString"],["oneTimePrintingAuthorizationMint","pubkeyAsString"]]}],[f,{kind:"struct",fields:[["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}]]}],[h,{kind:"struct",fields:[["key","u8"],["parent","pubkeyAsString"],["edition","u64"]]}],[p,{kind:"struct",fields:[["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[u]}]]}],[u,{kind:"struct",fields:[["address","pubkeyAsString"],["verified","u8"],["share","u8"]]}],[y,{kind:"struct",fields:[["key","u8"],["updateAuthority","pubkeyAsString"],["mint","pubkeyAsString"],["data",p],["primarySaleHappened","u8"],["isMutable","u8"]]}],[l,{kind:"struct",fields:[["key","u8"],["ledger",[31]]]}]]),e.decodeMetadata=function(t){const r=(0,n.deserializeUnchecked)(e.METADATA_SCHEMA,y,t);return r.data.name=r.data.name.replace(s,""),r.data.uri=r.data.uri.replace(s,""),r.data.symbol=r.data.symbol.replace(s,""),r},e.getEdition=m}(LT),function(e){var t=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.getMetadataAddress=e.decodeMetadata=e.api=void 0;const r=t(Ph),n=$I,i=MT;var o=RT;Object.defineProperty(e,"api",{enumerable:!0,get:function(){return t(o).default}});var s=LT;Object.defineProperty(e,"decodeMetadata",{enumerable:!0,get:function(){return s.decodeMetadata}}),e.getMetadataAddress=async function(e){return(await(0,n.findProgramAddress)([Hn.from("metadata"),r.default.decode(i.PROGRAM_IDS.metadata),r.default.decode(e)],i.PROGRAM_IDS.metadata))[0]}}(XI);var oO={},sO={},aO={};Object.defineProperty(aO,"__esModule",{value:!0}),aO.SELLER_REFERRAL=aO.AUCTION_HOUSE_KEY=aO.ROOT_URL=void 0,aO.ROOT_URL="https://api-mainnet.magiceden.dev",aO.AUCTION_HOUSE_KEY="E8cU1WiRWjanGxmn96ewBgk9vPTcL6AEZ1t6F6fkgUWe",aO.SELLER_REFERRAL="autMW8SgBkVYeBgqYiTuJZnkvDZMVU2MHJh9Jh7CSQ2";var cO={};Object.defineProperty(cO,"__esModule",{value:!0}),cO.objectToQueryString=void 0,cO.objectToQueryString=function(e){return encodeURIComponent(JSON.stringify(e))},Object.defineProperty(sO,"__esModule",{value:!0});const uO=NT,dO=aO,fO=cO;sO.default=new class{constructor(e,t){this.setServer(e),this.setApiKey(t)}setServer(e){this.url=e||dO.ROOT_URL}setApiKey(e){this.apiKey=e}async getNFTsByOwner(e){return(await(0,uO.fetchival)(`${this.url}/rpc/getNFTsByOwner/${e}`).get()).results}async getNFTsByEscrowOwner(e){return(await(0,uO.fetchival)(`${this.url}/rpc/getNFTsByEscrowOwner/${e}`).get()).results}async getNFTByMintAddress(e){return(await(0,uO.fetchival)(`${this.url}/rpc/getNFTByMintAddress/${e}`).get()).results}async getNFTStatsByMintAddress(e){return(await(0,uO.fetchival)(`${this.url}/rpc/getNFTStatsByMintAddress/${e}`).get()).results}async getListedNFTsByQuery(e){return(await(0,uO.fetchival)(`${this.url}/rpc/getListedNFTsByQuery?q=${(0,fO.objectToQueryString)(e)}`).get()).results}async getBiddingsByQuery(e){return(await(0,uO.fetchival)(`${this.url}/rpc/getBiddingsByQuery?q=${(0,fO.objectToQueryString)(e)}`).get()).results}async getActivitiesByQuery(e){return(await(0,uO.fetchival)(`${this.url}/rpc/getActivitiesByQuery?q=${(0,fO.objectToQueryString)(e)}`).get()).results}async getUpcomingCollections(){return await(0,uO.fetchival)(`${this.url}/launchpad_collections`).get()}async getAllCollections(){return await(0,uO.fetchival)(`${this.url}/all_collections`).get()}async getNewCollections(){return await(0,uO.fetchival)(`${this.url}/new_collections`).get()}async getPopularCollections(){return await(0,uO.fetchival)(`${this.url}/popular_collections`).get()}async getCollection(e){return await(0,uO.fetchival)(`${this.url}/collections/${e}`).get()}async getCollectionStats(e){return(await(0,uO.fetchival)(`${this.url}/rpc/getCollectionEscrowStats/${e}`).get()).results}ensureApiKey(){if(this.apiKey)return!0;throw new Error("The `apiKey` is necessary for this function")}fetchV2(e){return this.ensureApiKey(),(0,uO.fetchival)(`${this.url}/v2/${e}`,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`}})}async getNFTActivity(e){return await this.fetchV2(`tokens/${e}/activities`).get()}async getNFTBuyNowInstructions(e,t){const r=await this.getNFTByMintAddress(t);return await this.fetchV2("instructions/buy_now").get({auctionHouseAddress:r.v2.auctionHouseKey,buyer:e,price:`${r.price}`,seller:r.owner,sellerExpiry:`${r.v2.expiry}`,sellerReferral:r.v2.sellerReferral,tokenATA:r.id,tokenMint:r.mintAddress})}async getNFTListForSaleInstructions(e,t,r,n){return await this.fetchV2("instructions/sell").get({auctionHouseAddress:dO.AUCTION_HOUSE_KEY,expiry:-1,price:n,seller:e,sellerReferral:dO.SELLER_REFERRAL,tokenAccount:r,tokenMint:t})}async getNFTDelistForSaleInstructions(e,t){const r=await this.getNFTByMintAddress(t);return await this.fetchV2("instructions/sell_cancel").get({auctionHouseAddress:r.v2.auctionHouseKey,expiry:r.v2.expiry||-1,price:r.price,seller:e,sellerReferral:r.v2.sellerReferral,tokenAccount:r.id,tokenMint:t})}},function(e){var t=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.api=void 0;var r=sO;Object.defineProperty(e,"api",{enumerable:!0,get:function(){return t(r).default}})}(oO);var lO=ar&&ar.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),hO=ar&&ar.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pO=ar&&ar.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&lO(t,e,r);return hO(t,e),t};Object.defineProperty(YI,"__esModule",{value:!0});var yO=YI.magicEden=YI.solana=void 0;YI.solana=pO(XI),yO=YI.magicEden=pO(oO);var mO={},bO={exports:{}};const gO=()=>{const e=new Error("Delay aborted");return e.name="AbortError",e},vO=({clearTimeout:e,setTimeout:t,willResolve:r})=>(n,{value:i,signal:o}={})=>{if(o&&o.aborted)return Promise.reject(gO());let s,a,c;const u=e||clearTimeout,d=()=>{u(s),c(gO())},f=new Promise(((e,u)=>{a=()=>{o&&o.removeEventListener("abort",d),r?e(i):u(i)},c=u,s=(t||setTimeout)(a,n)}));return o&&o.addEventListener("abort",d,{once:!0}),f.clear=()=>{u(s),s=null,a()},f},wO=vO({willResolve:!0});wO.reject=vO({willResolve:!1}),wO.range=(e,t,r)=>wO(((e,t)=>Math.floor(Math.random()*(t-e+1)+e))(e,t),r),wO.createWithTimers=({clearTimeout:e,setTimeout:t})=>{const r=vO({clearTimeout:e,setTimeout:t,willResolve:!0});return r.reject=vO({clearTimeout:e,setTimeout:t,willResolve:!1}),r},bO.exports=wO,bO.exports.default=wO;var _O=bO.exports,SO=1e3,EO=6e4,kO=60*EO,AO=24*kO,xO=7*AO,IO=365.25*AO,TO=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*IO;case"weeks":case"week":case"w":return r*xO;case"days":case"day":case"d":return r*AO;case"hours":case"hour":case"hrs":case"hr":case"h":return r*kO;case"minutes":case"minute":case"mins":case"min":case"m":return r*EO;case"seconds":case"second":case"secs":case"sec":case"s":return r*SO;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=AO?OO(e,t,AO,"day"):t>=kO?OO(e,t,kO,"hour"):t>=EO?OO(e,t,EO,"minute"):t>=SO?OO(e,t,SO,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=AO?Math.round(e/AO)+"d":t>=kO?Math.round(e/kO)+"h":t>=EO?Math.round(e/EO)+"m":t>=SO?Math.round(e/SO)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function OO(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}const PO=cr(TO);Object.defineProperty(mO,"__esModule",{value:!0});var MO=mO.retry=function(e,{delayTimesMs:t=[(0,BO.default)("10s")]}){return async function(...r){const n=t.map((e=>"number"==typeof e?e:(0,BO.default)(e))),i=[];let o=0;for(;;)try{return await e(...r)}catch(e){const t=e||new Error("Null error");if(t.finalError||o===n.length)throw t.errorChain=i,t;i.push(NO(t)),await(0,RO.default)(n[o]),o++}}},RO=UO(_O),BO=UO(TO);function UO(e){return e&&e.__esModule?e:{default:e}}function NO(e){return e instanceof Error?Object.assign({name:e.name,message:e.message,stack:e.stack},e):e}const jO=cr($a()),CO=Ih.lowlevel;let LO=class e{constructor(e){if(i(this,"_bn"),"string"==typeof e){const t=Mh.decode(e);if(32!==t.length)throw new Error("Invalid public key input");this._bn=new ld(t)}else this._bn=new ld(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}equals(e){return this._bn.eq(e._bn)}toBase58(){return Mh.encode(this.toBuffer())}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Hn);if(32===e.length)return e;const t=Hn.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}toJSON(){return this.toBase58()}static findProgramAddress(e,t){let r,n=255;for(;0!==n;){try{const i=[...e,Hn.from([n])];r=this.createProgramAddress(i,t)}catch{n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static createWithSeed(t,r,n){const i=Hn.concat([t.toBuffer(),Hn.from(r),n.toBuffer()]),o=jO("sha256").update(i).digest("hex");return new e(Hn.from(o,"hex"))}static createProgramAddress(t,r){let n=Hn.alloc(0);t.forEach((function(e){if(e.length>32)throw new Error("Max seed length exceeded");n=Hn.concat([n,Hn.from(e)])})),n=Hn.concat([n,r.toBuffer(),Hn.from("ProgramDerivedAddress")]);const i=jO("sha256").update(n).digest("hex"),o=new ld(i,16).toArray(null,32);if(function(e){const t=[CO.gf(),CO.gf(),CO.gf(),CO.gf()],r=CO.gf(),n=CO.gf(),i=CO.gf(),o=CO.gf(),s=CO.gf(),a=CO.gf(),c=CO.gf();return CO.set25519(t[2],DO),CO.unpack25519(t[1],e),CO.S(i,t[1]),CO.M(o,i,CO.D),CO.Z(i,i,t[2]),CO.A(o,t[2],o),CO.S(s,o),CO.S(a,s),CO.M(c,a,s),CO.M(r,c,i),CO.M(r,r,o),CO.pow2523(r,r),CO.M(r,r,i),CO.M(r,r,o),CO.M(r,r,o),CO.M(t[0],r,o),CO.S(n,t[0]),CO.M(n,n,o),WO(n,i)&&CO.M(t[0],t[0],FO),CO.S(n,t[0]),CO.M(n,n,o),WO(n,i)?0:1}(o))throw new Error("Invalid seeds, address must fall off the curve");return new e(o)}};const DO=CO.gf([1]),FO=CO.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function WO(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return CO.pack25519(r,e),CO.pack25519(n,t),CO.crypto_verify_32(r,0,n,0)}var zO,qO={exports:{}},VO={},KO={},ZO={},HO=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0},GO=HO,JO=function(){return GO()&&!!Symbol.toStringTag},QO=Error,YO=EvalError,XO=RangeError,$O=ReferenceError,eP=SyntaxError,tP=TypeError,rP=URIError,nP=typeof Symbol<"u"&&Symbol,iP=HO,oP={__proto__:null,foo:{}},sP=Object,aP=Object.prototype.toString,cP=Math.max,uP=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},dP=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==aP.apply(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r,n=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r}(arguments,1),i=cP(0,t.length-n.length),o=[],s=0;s<i;s++)o[s]="$"+s;if(r=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(o,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var i=t.apply(this,uP(n,arguments));return Object(i)===i?i:this}return t.apply(e,uP(n,arguments))})),t.prototype){var a=function(){};a.prototype=t.prototype,r.prototype=new a,a.prototype=null}return r},fP=Function.prototype.bind||dP,lP=Function.prototype.call,hP=Object.prototype.hasOwnProperty,pP=fP.call(lP,hP),yP=QO,mP=YO,bP=XO,gP=$O,vP=eP,wP=tP,_P=rP,SP=Function,EP=function(e){try{return SP('"use strict"; return ('+e+").constructor;")()}catch{}},kP=Object.getOwnPropertyDescriptor;if(kP)try{kP({},"")}catch{kP=null}var AP=function(){throw new wP},xP=kP?function(){try{return AP}catch{try{return kP(arguments,"callee").get}catch{return AP}}}():AP,IP="function"==typeof nP&&"function"==typeof Symbol&&"symbol"==typeof nP("foo")&&"symbol"==typeof Symbol("bar")&&iP(),TP={__proto__:oP}.foo===oP.foo&&!(oP instanceof sP),OP=Object.getPrototypeOf||(TP?function(e){return e.__proto__}:null),PP={},MP=typeof Uint8Array>"u"||!OP?zO:OP(Uint8Array),RP={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?zO:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?zO:ArrayBuffer,"%ArrayIteratorPrototype%":IP&&OP?OP([][Symbol.iterator]()):zO,"%AsyncFromSyncIteratorPrototype%":zO,"%AsyncFunction%":PP,"%AsyncGenerator%":PP,"%AsyncGeneratorFunction%":PP,"%AsyncIteratorPrototype%":PP,"%Atomics%":typeof Atomics>"u"?zO:Atomics,"%BigInt%":typeof BigInt>"u"?zO:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?zO:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?zO:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?zO:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":yP,"%eval%":eval,"%EvalError%":mP,"%Float32Array%":typeof Float32Array>"u"?zO:Float32Array,"%Float64Array%":typeof Float64Array>"u"?zO:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?zO:FinalizationRegistry,"%Function%":SP,"%GeneratorFunction%":PP,"%Int8Array%":typeof Int8Array>"u"?zO:Int8Array,"%Int16Array%":typeof Int16Array>"u"?zO:Int16Array,"%Int32Array%":typeof Int32Array>"u"?zO:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":IP&&OP?OP(OP([][Symbol.iterator]())):zO,"%JSON%":"object"==typeof JSON?JSON:zO,"%Map%":typeof Map>"u"?zO:Map,"%MapIteratorPrototype%":typeof Map>"u"||!IP||!OP?zO:OP((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?zO:Promise,"%Proxy%":typeof Proxy>"u"?zO:Proxy,"%RangeError%":bP,"%ReferenceError%":gP,"%Reflect%":typeof Reflect>"u"?zO:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?zO:Set,"%SetIteratorPrototype%":typeof Set>"u"||!IP||!OP?zO:OP((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?zO:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":IP&&OP?OP(""[Symbol.iterator]()):zO,"%Symbol%":IP?Symbol:zO,"%SyntaxError%":vP,"%ThrowTypeError%":xP,"%TypedArray%":MP,"%TypeError%":wP,"%Uint8Array%":typeof Uint8Array>"u"?zO:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?zO:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?zO:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?zO:Uint32Array,"%URIError%":_P,"%WeakMap%":typeof WeakMap>"u"?zO:WeakMap,"%WeakRef%":typeof WeakRef>"u"?zO:WeakRef,"%WeakSet%":typeof WeakSet>"u"?zO:WeakSet};if(OP)try{null.error}catch(P){var BP=OP(OP(P));RP["%Error.prototype%"]=BP}var UP,NP,jP=function e(t){var r;if("%AsyncFunction%"===t)r=EP("async function () {}");else if("%GeneratorFunction%"===t)r=EP("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=EP("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&OP&&(r=OP(i.prototype))}return RP[t]=r,r},CP={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},LP=fP,DP=pP,FP=LP.call(Function.call,Array.prototype.concat),WP=LP.call(Function.apply,Array.prototype.splice),zP=LP.call(Function.call,String.prototype.replace),qP=LP.call(Function.call,String.prototype.slice),VP=LP.call(Function.call,RegExp.prototype.exec),KP=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ZP=/\\(\\)?/g,HP=function(e,t){var r,n=e;if(DP(CP,n)&&(n="%"+(r=CP[n])[0]+"%"),DP(RP,n)){var i=RP[n];if(i===PP&&(i=jP(n)),typeof i>"u"&&!t)throw new wP("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new vP("intrinsic "+e+" does not exist!")},GP=function(e,t){if("string"!=typeof e||0===e.length)throw new wP("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new wP('"allowMissing" argument must be a boolean');if(null===VP(/^%?[^%]*%?$/,e))throw new vP("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=qP(e,0,1),r=qP(e,-1);if("%"===t&&"%"!==r)throw new vP("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new vP("invalid intrinsic syntax, expected opening `%`");var n=[];return zP(e,KP,(function(e,t,r,i){n[n.length]=r?zP(i,ZP,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=HP("%"+n+"%",t),o=i.name,s=i.value,a=!1,c=i.alias;c&&(n=c[0],WP(r,FP([0,1],c)));for(var u=1,d=!0;u<r.length;u+=1){var f=r[u],l=qP(f,0,1),h=qP(f,-1);if(('"'===l||"'"===l||"`"===l||'"'===h||"'"===h||"`"===h)&&l!==h)throw new vP("property names with quotes must have matching quotes");if(("constructor"===f||!d)&&(a=!0),DP(RP,o="%"+(n+="."+f)+"%"))s=RP[o];else if(null!=s){if(!(f in s)){if(!t)throw new wP("base intrinsic for "+e+" exists, but the property is not available.");return}if(kP&&u+1>=r.length){var p=kP(s,f);s=(d=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:s[f]}else d=DP(s,f),s=s[f];d&&!a&&(RP[o]=s)}}return s},JP={exports:{}};function QP(){if(NP)return UP;NP=1;var e=GP("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return UP=e}var YP=GP("%Object.getOwnPropertyDescriptor%",!0);if(YP)try{YP([],"length")}catch{YP=null}var XP=YP,$P=QP(),eM=eP,tM=tP,rM=XP,nM=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new tM("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new tM("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new tM("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new tM("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new tM("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new tM("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6&&arguments[6],a=!!rM&&rM(e,t);if($P)$P(e,t,{configurable:null===o&&a?a.configurable:!o,enumerable:null===n&&a?a.enumerable:!n,value:r,writable:null===i&&a?a.writable:!i});else{if(!s&&(n||i||o))throw new eM("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}},iM=QP(),oM=function(){return!!iM};oM.hasArrayLengthDefineBug=function(){if(!iM)return null;try{return 1!==iM([],"length",{value:1}).length}catch{return!0}};var sM=oM,aM=GP,cM=nM,uM=sM(),dM=XP,fM=tP,lM=aM("%Math.floor%"),hM=function(e,t){if("function"!=typeof e)throw new fM("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||lM(t)!==t)throw new fM("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,i=!0;if("length"in e&&dM){var o=dM(e,"length");o&&!o.configurable&&(n=!1),o&&!o.writable&&(i=!1)}return(n||i||!r)&&(uM?cM(e,"length",t,!0,!0):cM(e,"length",t)),e};!function(e){var t=fP,r=GP,n=hM,i=tP,o=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||t.call(s,o),c=QP(),u=r("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new i("a function is required");var r=a(t,s,arguments);return n(r,1+u(0,e.length-(arguments.length-1)),!0)};var d=function(){return a(t,o,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d}(JP);var pM=JP.exports,yM=GP,mM=pM,bM=mM(yM("String.prototype.indexOf")),gM=function(e,t){var r=yM(e,!!t);return"function"==typeof r&&bM(e,".prototype.")>-1?mM(r):r},vM=JO(),wM=gM("Object.prototype.toString"),_M=function(e){return!(vM&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===wM(e)},SM=function(e){return!!_M(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==wM(e)&&"[object Function]"===wM(e.callee)},EM=function(){return _M(arguments)}();_M.isLegacyArguments=SM;var kM,AM,xM,IM=EM?_M:SM,TM=Object.prototype.toString,OM=Function.prototype.toString,PM=/^\s*(?:function)?\*/,MM=JO(),RM=Object.getPrototypeOf,BM=function(e){if("function"!=typeof e)return!1;if(PM.test(OM.call(e)))return!0;if(!MM)return"[object GeneratorFunction]"===TM.call(e);if(!RM)return!1;if(typeof kM>"u"){var t=function(){if(!MM)return!1;try{return Function("return function*() {}")()}catch{}}();kM=!!t&&RM(t)}return RM(e)===kM},UM=Function.prototype.toString,NM="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof NM&&"function"==typeof Object.defineProperty)try{AM=Object.defineProperty({},"length",{get:function(){throw xM}}),xM={},NM((function(){throw 42}),null,AM)}catch(P){P!==xM&&(NM=null)}else NM=null;var jM=/^\s*class\b/,CM=function(e){try{var t=UM.call(e);return jM.test(t)}catch{return!1}},LM=function(e){try{return!CM(e)&&(UM.call(e),!0)}catch{return!1}},DM=Object.prototype.toString,FM="function"==typeof Symbol&&!!Symbol.toStringTag,WM=!(0 in[,]),zM=function(){return!1};if("object"==typeof document){var qM=document.all;DM.call(qM)===DM.call(document.all)&&(zM=function(e){if((WM||!e)&&(typeof e>"u"||"object"==typeof e))try{var t=DM.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch{}return!1})}var VM=NM?function(e){if(zM(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;try{NM(e,null,AM)}catch(e){if(e!==xM)return!1}return!CM(e)&&LM(e)}:function(e){if(zM(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if(FM)return LM(e);if(CM(e))return!1;var t=DM.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&LM(e)},KM=Object.prototype.toString,ZM=Object.prototype.hasOwnProperty,HM=function(e,t,r){if(!VM(t))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=r),"[object Array]"===KM.call(e)?function(e,t,r){for(var n=0,i=e.length;n<i;n++)ZM.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,n):"string"==typeof e?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,n):function(e,t,r){for(var n in e)ZM.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,n)},GM=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],JM=typeof globalThis>"u"?ar:globalThis,QM=HM,YM=function(){for(var e=[],t=0;t<GM.length;t++)"function"==typeof JM[GM[t]]&&(e[e.length]=GM[t]);return e},XM=pM,$M=gM,eR=XP,tR=$M("Object.prototype.toString"),rR=JO(),nR=typeof globalThis>"u"?ar:globalThis,iR=YM(),oR=$M("String.prototype.slice"),sR=Object.getPrototypeOf,aR=$M("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},cR={__proto__:null};QM(iR,rR&&eR&&sR?function(e){var t=new nR[e];if(Symbol.toStringTag in t){var r=sR(t),n=eR(r,Symbol.toStringTag);if(!n){var i=sR(r);n=eR(i,Symbol.toStringTag)}cR["$"+e]=XM(n.get)}}:function(e){var t=new nR[e],r=t.slice||t.set;r&&(cR["$"+e]=XM(r))});var uR=function(e){if(!e||"object"!=typeof e)return!1;if(!rR){var t=oR(tR(e),8,-1);return aR(iR,t)>-1?t:"Object"===t&&function(e){var t=!1;return QM(cR,(function(r,n){if(!t)try{r(e),t=oR(n,1)}catch{}})),t}(e)}return eR?function(e){var t=!1;return QM(cR,(function(r,n){if(!t)try{"$"+r(e)===n&&(t=oR(n,1))}catch{}})),t}(e):null},dR=uR,fR=function(e){return!!dR(e)};!function(e){var t=IM,r=BM,n=uR,i=fR;function o(e){return e.call.bind(e)}var s=typeof BigInt<"u",a=typeof Symbol<"u",c=o(Object.prototype.toString),u=o(Number.prototype.valueOf),d=o(String.prototype.valueOf),f=o(Boolean.prototype.valueOf);if(s)var l=o(BigInt.prototype.valueOf);if(a)var h=o(Symbol.prototype.valueOf);function p(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch{return!1}}function y(e){return"[object Map]"===c(e)}function m(e){return"[object Set]"===c(e)}function b(e){return"[object WeakMap]"===c(e)}function g(e){return"[object WeakSet]"===c(e)}function v(e){return"[object ArrayBuffer]"===c(e)}function w(e){return!(typeof ArrayBuffer>"u")&&(v.working?v(e):e instanceof ArrayBuffer)}function _(e){return"[object DataView]"===c(e)}function S(e){return!(typeof DataView>"u")&&(_.working?_(e):e instanceof DataView)}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i,e.isPromise=function(e){return typeof Promise<"u"&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},e.isArrayBufferView=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):i(e)||S(e)},e.isUint8Array=function(e){return"Uint8Array"===n(e)},e.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===n(e)},e.isUint16Array=function(e){return"Uint16Array"===n(e)},e.isUint32Array=function(e){return"Uint32Array"===n(e)},e.isInt8Array=function(e){return"Int8Array"===n(e)},e.isInt16Array=function(e){return"Int16Array"===n(e)},e.isInt32Array=function(e){return"Int32Array"===n(e)},e.isFloat32Array=function(e){return"Float32Array"===n(e)},e.isFloat64Array=function(e){return"Float64Array"===n(e)},e.isBigInt64Array=function(e){return"BigInt64Array"===n(e)},e.isBigUint64Array=function(e){return"BigUint64Array"===n(e)},y.working=typeof Map<"u"&&y(new Map),e.isMap=function(e){return!(typeof Map>"u")&&(y.working?y(e):e instanceof Map)},m.working=typeof Set<"u"&&m(new Set),e.isSet=function(e){return!(typeof Set>"u")&&(m.working?m(e):e instanceof Set)},b.working=typeof WeakMap<"u"&&b(new WeakMap),e.isWeakMap=function(e){return!(typeof WeakMap>"u")&&(b.working?b(e):e instanceof WeakMap)},g.working=typeof WeakSet<"u"&&g(new WeakSet),e.isWeakSet=function(e){return g(e)},v.working=typeof ArrayBuffer<"u"&&v(new ArrayBuffer),e.isArrayBuffer=w,_.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&_(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=S;var E=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function k(e){return"[object SharedArrayBuffer]"===c(e)}function A(e){return!(typeof E>"u")&&(typeof k.working>"u"&&(k.working=k(new E)),k.working?k(e):e instanceof E)}function x(e){return p(e,u)}function I(e){return p(e,d)}function T(e){return p(e,f)}function O(e){return s&&p(e,l)}function P(e){return a&&p(e,h)}e.isSharedArrayBuffer=A,e.isAsyncFunction=function(e){return"[object AsyncFunction]"===c(e)},e.isMapIterator=function(e){return"[object Map Iterator]"===c(e)},e.isSetIterator=function(e){return"[object Set Iterator]"===c(e)},e.isGeneratorObject=function(e){return"[object Generator]"===c(e)},e.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===c(e)},e.isNumberObject=x,e.isStringObject=I,e.isBooleanObject=T,e.isBigIntObject=O,e.isSymbolObject=P,e.isBoxedPrimitive=function(e){return x(e)||I(e)||T(e)||O(e)||P(e)},e.isAnyArrayBuffer=function(e){return typeof Uint8Array<"u"&&(w(e)||A(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))}(ZO);var lR,hR,pR,yR=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8};function mR(){if(lR)return VO;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function r(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===e(r)?r:String(r)}function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i(t){var r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}();return function(){var n,i=o(t);if(r){var s=o(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(t,r){if(r&&("object"===e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(this,n)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}lR=1;var s,a,c={};function u(e,r,o){o||(o=Error);var s=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}(a,o);var s=i(a);function a(t,n,i){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=s.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i)),o.code=e,o}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(a)}(o);c[e]=s}function d(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}return u("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),u("ERR_INVALID_ARG_TYPE",(function(t,r,n){var i,o;if(void 0===s&&(s=dB()),s("string"==typeof t,"'name' must be a string"),"string"==typeof r&&function(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}(r,"not ")?(i="must not be",r=r.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(t," argument"))o="The ".concat(t," ").concat(i," ").concat(d(r,"type"));else{var a=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(t,".")?"property":"argument";o='The "'.concat(t,'" ').concat(a," ").concat(i," ").concat(d(r,"type"))}return o+=". Received type ".concat(e(n))}),TypeError),u("ERR_INVALID_ARG_VALUE",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===a&&(a=KO);var n=a.inspect(t);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(r,". Received ").concat(n)}),TypeError),u("ERR_INVALID_RETURN_VALUE",(function(t,r,n){var i;return i=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(e(n)),"Expected ".concat(t,' to be returned from the "').concat(r,'"')+" function but got ".concat(i,".")}),TypeError),u("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];void 0===s&&(s=dB()),s(t.length>0,"At least one arg needs to be specified");var n="The ",i=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),i){case 1:n+="".concat(t[0]," argument");break;case 2:n+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:n+=t.slice(0,i-1).join(", "),n+=", and ".concat(t[i-1]," arguments")}return"".concat(n," must be specified")}),TypeError),VO.codes=c,VO}function bR(){if(pR)return hR;function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function i(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function o(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)},a(e)}function c(e,t,r){return(c=u()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&d(i,r.prototype),i}).apply(null,arguments)}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}pR=1;var h=KO.inspect,p=mR().codes.ERR_INVALID_ARG_TYPE;function y(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}var m="",b="",g="",v="",w={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function _(e){var t=Object.keys(e),r=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){r[t]=e[t]})),Object.defineProperty(r,"message",{value:e.message}),r}function S(e){return h(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function E(e,t,r){var n="",i="",o=0,s="",a=!1,c=S(e),u=c.split("\n"),d=S(t).split("\n"),f=0,h="";if("strictEqual"===r&&"object"===l(e)&&"object"===l(t)&&null!==e&&null!==t&&(r="strictEqualObject"),1===u.length&&1===d.length&&u[0]!==d[0]){var p=u[0].length+d[0].length;if(p<=10){if(!("object"===l(e)&&null!==e||"object"===l(t)&&null!==t||0===e&&0===t))return"".concat(w[r],"\n\n")+"".concat(u[0]," !== ").concat(d[0],"\n")}else if("strictEqualObject"!==r){if(p<(I.stderr&&I.stderr.isTTY?I.stderr.columns:80)){for(;u[0][f]===d[0][f];)f++;f>2&&(h="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var r=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,r-e.length)}(" ",f),"^"),f=0)}}}for(var _=u[u.length-1],E=d[d.length-1];_===E&&(f++<2?s="\n  ".concat(_).concat(s):n=_,u.pop(),d.pop(),0!==u.length&&0!==d.length);)_=u[u.length-1],E=d[d.length-1];var k=Math.max(u.length,d.length);if(0===k){var A=c.split("\n");if(A.length>30)for(A[26]="".concat(m,"...").concat(v);A.length>27;)A.pop();return"".concat(w.notIdentical,"\n\n").concat(A.join("\n"),"\n")}f>3&&(s="\n".concat(m,"...").concat(v).concat(s),a=!0),""!==n&&(s="\n  ".concat(n).concat(s),n="");var x=0,T=w[r]+"\n".concat(b,"+ actual").concat(v," ").concat(g,"- expected").concat(v),O=" ".concat(m,"...").concat(v," Lines skipped");for(f=0;f<k;f++){var P=f-o;if(u.length<f+1)P>1&&f>2&&(P>4?(i+="\n".concat(m,"...").concat(v),a=!0):P>3&&(i+="\n  ".concat(d[f-2]),x++),i+="\n  ".concat(d[f-1]),x++),o=f,n+="\n".concat(g,"-").concat(v," ").concat(d[f]),x++;else if(d.length<f+1)P>1&&f>2&&(P>4?(i+="\n".concat(m,"...").concat(v),a=!0):P>3&&(i+="\n  ".concat(u[f-2]),x++),i+="\n  ".concat(u[f-1]),x++),o=f,i+="\n".concat(b,"+").concat(v," ").concat(u[f]),x++;else{var M=d[f],R=u[f],B=R!==M&&(!y(R,",")||R.slice(0,-1)!==M);B&&y(M,",")&&M.slice(0,-1)===R&&(B=!1,R+=","),B?(P>1&&f>2&&(P>4?(i+="\n".concat(m,"...").concat(v),a=!0):P>3&&(i+="\n  ".concat(u[f-2]),x++),i+="\n  ".concat(u[f-1]),x++),o=f,i+="\n".concat(b,"+").concat(v," ").concat(R),n+="\n".concat(g,"-").concat(v," ").concat(M),x+=2):(i+=n,n="",(1===P||0===f)&&(i+="\n  ".concat(R),x++))}if(x>20&&f<k-2)return"".concat(T).concat(O,"\n").concat(i,"\n").concat(m,"...").concat(v).concat(n,"\n")+"".concat(m,"...").concat(v)}return"".concat(T).concat(a?O:"","\n").concat(i).concat(n).concat(s).concat(h)}var k=function(e,r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,e);var i=function(e){var t=u();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return o(this,r)}}(a);function a(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),"object"!==l(e)||null===e)throw new p("options","Object",e);var r=e.message,n=e.operator,c=e.stackStartFn,u=e.actual,d=e.expected,f=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=r)t=i.call(this,String(r));else if(I.stderr&&I.stderr.isTTY&&(I.stderr&&I.stderr.getColorDepth&&1!==I.stderr.getColorDepth()?(m="[34m",b="[32m",v="[39m",g="[31m"):(m="",b="",v="",g="")),"object"===l(u)&&null!==u&&"object"===l(d)&&null!==d&&"stack"in u&&u instanceof Error&&"stack"in d&&d instanceof Error&&(u=_(u),d=_(d)),"deepStrictEqual"===n||"strictEqual"===n)t=i.call(this,E(u,d,n));else if("notDeepStrictEqual"===n||"notStrictEqual"===n){var h=w[n],y=S(u).split("\n");if("notStrictEqual"===n&&"object"===l(u)&&null!==u&&(h=w.notStrictEqualObject),y.length>30)for(y[26]="".concat(m,"...").concat(v);y.length>27;)y.pop();t=1===y.length?i.call(this,"".concat(h," ").concat(y[0])):i.call(this,"".concat(h,"\n\n").concat(y.join("\n"),"\n"))}else{var k=S(u),A="",x=w[n];"notDeepEqual"===n||"notEqual"===n?(k="".concat(w[n],"\n\n").concat(k)).length>1024&&(k="".concat(k.slice(0,1021),"...")):(A="".concat(S(d)),k.length>512&&(k="".concat(k.slice(0,509),"...")),A.length>512&&(A="".concat(A.slice(0,509),"...")),"deepEqual"===n||"equal"===n?k="".concat(x,"\n\n").concat(k,"\n\nshould equal\n\n"):A=" ".concat(n," ").concat(A)),t=i.call(this,"".concat(k).concat(A))}return Error.stackTraceLimit=f,t.generatedMessage=!r,Object.defineProperty(s(t),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),t.code="ERR_ASSERTION",t.actual=u,t.expected=d,t.operator=n,Error.captureStackTrace&&Error.captureStackTrace(s(t),c),t.stack,t.name="AssertionError",o(t)}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(a,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:r,value:function(e,r){return h(this,t(t({},r),{},{customInspect:!1,depth:0}))}}]),a}(a(Error),h.custom);return hR=k}!function(e){var t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;e.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch{return"[Circular]"}default:return e}})),c=i[n];n<o;c=i[++n])p(c)||!v(c)?a+=" "+c:a+=" "+s(c);return a},e.deprecate=function(t,r){if(typeof I<"u"&&!0===I.noDeprecation)return t;if(typeof I>"u")return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(I.throwDeprecation)throw new Error(r);I.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n={},i=/^$/;if(I.env.NODE_DEBUG){var o=I.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}function s(t,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(r)?n.showHidden=r:r&&e._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),u(n,t,n.depth)}function a(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function c(e,t){return e}function u(t,r,n){if(t.customInspect&&r&&S(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return m(i)||(i=u(t,i,n)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(y(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(p(t))return e.stylize("null","null")}(t,r);if(o)return o;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),_(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return d(r);if(0===s.length){if(S(r)){var c=r.name?": "+r.name:"";return t.stylize("[Function"+c+"]","special")}if(g(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return t.stylize(Date.prototype.toString.call(r),"date");if(_(r))return d(r)}var v,E="",k=!1,A=["{","}"];(l(r)&&(k=!0,A=["[","]"]),S(r))&&(E=" [Function"+(r.name?": "+r.name:"")+"]");return g(r)&&(E=" "+RegExp.prototype.toString.call(r)),w(r)&&(E=" "+Date.prototype.toUTCString.call(r)),_(r)&&(E=" "+d(r)),0!==s.length||k&&0!=r.length?n<0?g(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),v=k?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)x(t,String(s))?o.push(f(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(e,t,r,n,i,!0))})),o}(t,r,n,a,s):s.map((function(e){return f(t,r,n,a,e,k)})),t.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return n>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(v,E,A)):A[0]+E+A[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),x(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=p(r)?u(e,c.value,null):u(e,c.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function l(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function p(e){return null===e}function y(e){return"number"==typeof e}function m(e){return"string"==typeof e}function b(e){return void 0===e}function g(e){return v(e)&&"[object RegExp]"===E(e)}function v(e){return"object"==typeof e&&null!==e}function w(e){return v(e)&&"[object Date]"===E(e)}function _(e){return v(e)&&("[object Error]"===E(e)||e instanceof Error)}function S(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!n[t])if(i.test(t)){var r=I.pid;n[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else n[t]=function(){};return n[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=ZO,e.isArray=l,e.isBoolean=h,e.isNull=p,e.isNullOrUndefined=function(e){return null==e},e.isNumber=y,e.isString=m,e.isSymbol=function(e){return"symbol"==typeof e},e.isUndefined=b,e.isRegExp=g,e.types.isRegExp=g,e.isObject=v,e.isDate=w,e.types.isDate=w,e.isError=_,e.types.isNativeError=_,e.isFunction=S,e.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||typeof e>"u"},e.isBuffer=yR;var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.log=function(){var t,r;console.log("%s - %s",(r=[k((t=new Date).getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":"),[t.getDate(),A[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=pi,e._extend=function(e,t){if(!t||!v(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var T=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function O(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}e.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var r;if("function"!=typeof(r=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,T,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),T&&Object.defineProperty(r,T,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},e.promisify.custom=T,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};e.apply(this,t).then((function(e){I.nextTick(o.bind(null,null,e))}),(function(e){I.nextTick(O.bind(null,e,o))}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,t(e)),r}}(KO);var gR,vR,wR=Object.prototype.toString,_R=function(e){var t=wR.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===wR.call(e.callee)),r};var SR=Array.prototype.slice,ER=_R,kR=Object.keys,AR=kR?function(e){return kR(e)}:function(){if(vR)return gR;var e;if(vR=1,!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=_R,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call((function(){}),"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(e){var t=e.constructor;return t&&t.prototype===e},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if(typeof window>"u")return!1;for(var e in window)try{if(!u["$"+e]&&t.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{c(window[e])}catch{return!0}}catch{return!0}return!1}();e=function(e){var i=null!==e&&"object"==typeof e,u="[object Function]"===r.call(e),f=n(e),l=i&&"[object String]"===r.call(e),h=[];if(!i&&!u&&!f)throw new TypeError("Object.keys called on a non-object");var p=s&&u;if(l&&e.length>0&&!t.call(e,0))for(var y=0;y<e.length;++y)h.push(String(y));if(f&&e.length>0)for(var m=0;m<e.length;++m)h.push(String(m));else for(var b in e)(!p||"prototype"!==b)&&t.call(e,b)&&h.push(String(b));if(o)for(var g=function(e){if(typeof window>"u"||!d)return c(e);try{return c(e)}catch{return!1}}(e),v=0;v<a.length;++v)(!g||"constructor"!==a[v])&&t.call(e,a[v])&&h.push(a[v]);return h}}return gR=e}(),xR=Object.keys;AR.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return ER(e)?xR(SR.call(e)):xR(e)})}else Object.keys=AR;return Object.keys||AR};var IR,TR,OR,PR,MR,RR,BR,UR,NR,jR,CR,LR,DR,FR,WR,zR,qR,VR=AR,KR=VR,ZR=HO(),HR=gM,GR=Object,JR=HR("Array.prototype.push"),QR=HR("Object.prototype.propertyIsEnumerable"),YR=ZR?Object.getOwnPropertySymbols:null,XR=function(e,t){if(null==e)throw new TypeError("target must be an object");var r=GR(e);if(1===arguments.length)return r;for(var n=1;n<arguments.length;++n){var i=GR(arguments[n]),o=KR(i),s=ZR&&(Object.getOwnPropertySymbols||YR);if(s)for(var a=s(i),c=0;c<a.length;++c){var u=a[c];QR(i,u)&&JR(o,u)}for(var d=0;d<o.length;++d){var f=o[d];if(QR(i,f)){var l=i[f];r[f]=l}}}return r},$R=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var i=Object.assign({},r),o="";for(var s in i)o+=s;return e!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return"y"===e[1]}return!1}()?XR:Object.assign},eB=function(e){return e!=e},tB=function(e,t){return 0===e&&0===t?1/e==1/t:!!(e===t||eB(e)&&eB(t))},rB=tB,nB=function(){return"function"==typeof Object.is?Object.is:rB};function iB(){if(TR)return IR;TR=1;var e=VR,t="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),r=Object.prototype.toString,n=Array.prototype.concat,i=nM,o=sM(),s=function(e,t,n,s){if(t in e)if(!0===s){if(e[t]===n)return}else if(!function(e){return"function"==typeof e&&"[object Function]"===r.call(e)}(s)||!s())return;o?i(e,t,n,!0):i(e,t,n)},a=function(r,i){var o=arguments.length>2?arguments[2]:{},a=e(i);t&&(a=n.call(a,Object.getOwnPropertySymbols(i)));for(var c=0;c<a.length;c+=1)s(r,a[c],i[a[c]],o[a[c]])};return a.supportsDescriptors=!!o,IR=a}function oB(){if(RR)return MR;RR=1;var e=iB(),t=pM,r=tB,n=nB,i=function(){if(PR)return OR;PR=1;var e=nB,t=iB();return OR=function(){var r=e();return t(Object,{is:r},{is:function(){return Object.is!==r}}),r}}(),o=t(n(),Object);return e(o,{getPolyfill:n,implementation:r,shim:i}),MR=o}function sB(){return UR||(UR=1,BR=function(e){return e!=e}),BR}function aB(){if(jR)return NR;jR=1;var e=sB();return NR=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e}}function cB(){if(FR)return DR;FR=1;var e=pM,t=iB(),r=sB(),n=aB(),i=function(){if(LR)return CR;LR=1;var e=iB(),t=aB();return CR=function(){var r=t();return e(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r}}(),o=e(n(),Number);return t(o,{getPolyfill:n,implementation:r,shim:i}),DR=o}function uB(){if(zR)return WR;function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,s,a=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(e,r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,r)}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}zR=1;var n=void 0!==/a/g.flags,i=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},o=function(e){var t=[];return e.forEach((function(e,r){return t.push([r,e])})),t},s=Object.is?Object.is:oB(),a=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},c=Number.isNaN?Number.isNaN:cB();function u(e){return e.call.bind(e)}var d=u(Object.prototype.hasOwnProperty),f=u(Object.prototype.propertyIsEnumerable),l=u(Object.prototype.toString),h=KO.types,p=h.isAnyArrayBuffer,y=h.isArrayBufferView,m=h.isDate,b=h.isMap,g=h.isRegExp,v=h.isSet,w=h.isNativeError,_=h.isBoxedPrimitive,S=h.isNumberObject,E=h.isStringObject,k=h.isBooleanObject,A=h.isBigIntObject,x=h.isSymbolObject,I=h.isFloat32Array,T=h.isFloat64Array;function O(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<48||r>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function P(e){return Object.keys(e).filter(O).concat(a(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function M(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function R(e,t,i,o){if(e===t)return 0!==e||(!i||s(e,t));if(i){if("object"!==r(e))return"number"==typeof e&&c(e)&&c(t);if("object"!==r(t)||null===e||null===t||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==r(e))return(null===t||"object"!==r(t))&&e==t;if(null===t||"object"!==r(t))return!1}var a=l(e);if(a!==l(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var u=P(e),d=P(t);return u.length===d.length&&U(e,t,i,o,1,u)}if("[object Object]"===a&&(!b(e)&&b(t)||!v(e)&&v(t)))return!1;if(m(e)){if(!m(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(g(e)){if(!g(t)||!function(e,t){return n?e.source===t.source&&e.flags===t.flags:RegExp.prototype.toString.call(e)===RegExp.prototype.toString.call(t)}(e,t))return!1}else if(w(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(y(e)){if(i||!I(e)&&!T(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===M(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}(e,t))return!1;var f=P(e),h=P(t);return f.length===h.length&&U(e,t,i,o,0,f)}if(v(e))return!(!v(t)||e.size!==t.size)&&U(e,t,i,o,2);if(b(e))return!(!b(t)||e.size!==t.size)&&U(e,t,i,o,3);if(p(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===M(new Uint8Array(e),new Uint8Array(t))}(e,t))return!1}else if(_(e)&&!function(e,t){return S(e)?S(t)&&s(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):E(e)?E(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):k(e)?k(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):A(e)?A(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):x(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return U(e,t,i,o,0)}function B(e,t){return t.filter((function(t){return f(e,t)}))}function U(t,n,s,c,u,l){if(5===arguments.length){l=Object.keys(t);var h=Object.keys(n);if(l.length!==h.length)return!1}for(var p=0;p<l.length;p++)if(!d(n,l[p]))return!1;if(s&&5===arguments.length){var y=a(t);if(0!==y.length){var m=0;for(p=0;p<y.length;p++){var b=y[p];if(f(t,b)){if(!f(n,b))return!1;l.push(b),m++}else if(f(n,b))return!1}var g=a(n);if(y.length!==g.length&&B(n,g).length!==m)return!1}else{var v=a(n);if(0!==v.length&&0!==B(n,v).length)return!1}}if(0===l.length&&(0===u||1===u&&0===t.length||0===t.size))return!0;if(void 0===c)c={val1:new Map,val2:new Map,position:0};else{var w=c.val1.get(t);if(void 0!==w){var _=c.val2.get(n);if(void 0!==_)return w===_}c.position++}c.val1.set(t,c.position),c.val2.set(n,c.position);var S=function(t,n,s,a,c,u){var f=0;if(2===u){if(!function(e,t,n,o){for(var s=null,a=i(e),c=0;c<a.length;c++){var u=a[c];if("object"===r(u)&&null!==u)null===s&&(s=new Set),s.add(u);else if(!t.has(u)){if(n||!C(e,t,u))return!1;null===s&&(s=new Set),s.add(u)}}if(null!==s){for(var d=i(t),f=0;f<d.length;f++){var l=d[f];if("object"===r(l)&&null!==l){if(!N(s,l,n,o))return!1}else if(!n&&!e.has(l)&&!N(s,l,n,o))return!1}return 0===s.size}return!0}(t,n,s,c))return!1}else if(3===u){if(!function(t,n,i,s){for(var a=null,c=o(t),u=0;u<c.length;u++){var d=e(c[u],2),f=d[0],l=d[1];if("object"===r(f)&&null!==f)null===a&&(a=new Set),a.add(f);else{var h=n.get(f);if(void 0===h&&!n.has(f)||!R(l,h,i,s)){if(i||!L(t,n,f,l,s))return!1;null===a&&(a=new Set),a.add(f)}}}if(null!==a){for(var p=o(n),y=0;y<p.length;y++){var m=e(p[y],2),b=m[0],g=m[1];if("object"===r(b)&&null!==b){if(!D(a,t,b,g,i,s))return!1}else if(!(i||t.has(b)&&R(t.get(b),g,!1,s)||D(a,t,b,g,!1,s)))return!1}return 0===a.size}return!0}(t,n,s,c))return!1}else if(1===u)for(;f<t.length;f++){if(!d(t,f)){if(d(n,f))return!1;for(var l=Object.keys(t);f<l.length;f++){var h=l[f];if(!d(n,h)||!R(t[h],n[h],s,c))return!1}return l.length===Object.keys(n).length}if(!d(n,f)||!R(t[f],n[f],s,c))return!1}for(f=0;f<a.length;f++){var p=a[f];if(!R(t[p],n[p],s,c))return!1}return!0}(t,n,s,l,c,u);return c.val1.delete(t),c.val2.delete(n),S}function N(e,t,r,n){for(var o=i(e),s=0;s<o.length;s++){var a=o[s];if(R(t,a,r,n))return e.delete(a),!0}return!1}function j(e){switch(r(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(c(e))return!1}return!0}function C(e,t,r){var n=j(r);return n??(t.has(n)&&!e.has(n))}function L(e,t,r,n,i){var o=j(r);if(null!=o)return o;var s=t.get(o);return!(void 0===s&&!t.has(o)||!R(n,s,!1,i))&&(!e.has(o)&&R(n,s,!1,i))}function D(e,t,r,n,o,s){for(var a=i(e),c=0;c<a.length;c++){var u=a[c];if(R(r,u,o,s)&&R(n,t.get(u),o,s))return e.delete(u),!0}return!1}return WR={isDeepEqual:function(e,t){return R(e,t,false)},isDeepStrictEqual:function(e,t){return R(e,t,true)}}}function dB(){if(qR)return qO.exports;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r||"default");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===e(r)?r:String(r)}qR=1;var i,o,s=mR().codes,a=s.ERR_AMBIGUOUS_ARGUMENT,c=s.ERR_INVALID_ARG_TYPE,u=s.ERR_INVALID_ARG_VALUE,d=s.ERR_INVALID_RETURN_VALUE,f=s.ERR_MISSING_ARGS,l=bR(),h=KO.inspect,p=KO.types,y=p.isPromise,m=p.isRegExp,b=$R(),g=nB(),v=gM("RegExp.prototype.test");function w(){var e=uB();i=e.isDeepEqual,o=e.isDeepStrictEqual}var _=!1,S=qO.exports=x,E={};function k(e){throw e.message instanceof Error?e.message:new l(e)}function A(e,t,r,n){if(!r){var i=!1;if(0===t)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new l({actual:r,expected:!0,message:n,operator:"==",stackStartFn:e});throw o.generatedMessage=i,o}}function x(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];A.apply(void 0,[x,t.length].concat(t))}S.fail=function e(t,r,n,i,o){var s,a=arguments.length;if(0===a)s="Failed";else if(1===a)n=t,t=void 0;else{if(!1===_)_=!0,(I.emitWarning?I.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094");2===a&&(i="!=")}if(n instanceof Error)throw n;var c={actual:t,expected:r,operator:void 0===i?"fail":i,stackStartFn:o||e};void 0!==n&&(c.message=n);var u=new l(c);throw s&&(u.message=s,u.generatedMessage=!0),u},S.AssertionError=l,S.ok=x,S.equal=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");t!=r&&k({actual:t,expected:r,message:n,operator:"==",stackStartFn:e})},S.notEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");t==r&&k({actual:t,expected:r,message:n,operator:"!=",stackStartFn:e})},S.deepEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===i&&w(),i(t,r)||k({actual:t,expected:r,message:n,operator:"deepEqual",stackStartFn:e})},S.notDeepEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===i&&w(),i(t,r)&&k({actual:t,expected:r,message:n,operator:"notDeepEqual",stackStartFn:e})},S.deepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===i&&w(),o(t,r)||k({actual:t,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:e})},S.notDeepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");void 0===i&&w(),o(t,r)&&k({actual:t,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:e})},S.strictEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");g(t,r)||k({actual:t,expected:r,message:n,operator:"strictEqual",stackStartFn:e})},S.notStrictEqual=function e(t,r,n){if(arguments.length<2)throw new f("actual","expected");g(t,r)&&k({actual:t,expected:r,message:n,operator:"notStrictEqual",stackStartFn:e})};var T=r((function e(t,r,n){var i=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),r.forEach((function(e){e in t&&(void 0!==n&&"string"==typeof n[e]&&m(t[e])&&v(t[e],n[e])?i[e]=n[e]:i[e]=t[e])}))}));function O(t,r,n,s){if("function"!=typeof r){if(m(r))return v(r,t);if(2===arguments.length)throw new c("expected",["Function","RegExp"],r);if("object"!==e(t)||null===t){var a=new l({actual:t,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:s});throw a.operator=s.name,a}var d=Object.keys(r);if(r instanceof Error)d.push("name","message");else if(0===d.length)throw new u("error",r,"may not be an empty object");return void 0===i&&w(),d.forEach((function(e){"string"==typeof t[e]&&m(r[e])&&v(r[e],t[e])||function(e,t,r,n,i,s){if(!(r in e)||!o(e[r],t[r])){if(!n){var a=new T(e,i),c=new T(t,i,e),u=new l({actual:a,expected:c,operator:"deepStrictEqual",stackStartFn:s});throw u.actual=e,u.expected=t,u.operator=s.name,u}k({actual:e,expected:t,message:n,operator:s.name,stackStartFn:s})}}(t,r,e,n,d,s)})),!0}return void 0!==r.prototype&&t instanceof r||!Error.isPrototypeOf(r)&&!0===r.call({},t)}function P(e){if("function"!=typeof e)throw new c("fn","Function",e);try{e()}catch(e){return e}return E}function M(t){return y(t)||null!==t&&"object"===e(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function R(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!M(t=e()))throw new d("instance of Promise","promiseFn",t)}else{if(!M(e))throw new c("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return E})).catch((function(e){return e}))}))}function B(t,r,n,i){if("string"==typeof n){if(4===arguments.length)throw new c("error",["Object","Error","Function","RegExp"],n);if("object"===e(r)&&null!==r){if(r.message===n)throw new a("error/message",'The error message "'.concat(r.message,'" is identical to the message.'))}else if(r===n)throw new a("error/message",'The error "'.concat(r,'" is identical to the message.'));i=n,n=void 0}else if(null!=n&&"object"!==e(n)&&"function"!=typeof n)throw new c("error",["Object","Error","Function","RegExp"],n);if(r===E){var o="";n&&n.name&&(o+=" (".concat(n.name,")")),o+=i?": ".concat(i):".";var s="rejects"===t.name?"rejection":"exception";k({actual:void 0,expected:n,operator:t.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:t})}if(n&&!O(r,n,i,t))throw r}function U(e,t,r,n){if(t!==E){if("string"==typeof r&&(n=r,r=void 0),!r||O(t,r)){var i=n?": ".concat(n):".",o="doesNotReject"===e.name?"rejection":"exception";k({actual:t,expected:r,operator:e.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function N(t,r,n,i,o){if(!m(r))throw new c("regexp","RegExp",r);var s="match"===o;if("string"!=typeof t||v(r,t)!==s){if(n instanceof Error)throw n;var a=!n;n=n||("string"!=typeof t?'The "string" argument must be of type string. Received type '+"".concat(e(t)," (").concat(h(t),")"):(s?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(h(r),". Input:\n\n").concat(h(t),"\n"));var u=new l({actual:t,expected:r,message:n,operator:o,stackStartFn:i});throw u.generatedMessage=a,u}}function j(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];A.apply(void 0,[j,t.length].concat(t))}return S.throws=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];B.apply(void 0,[e,P(t)].concat(n))},S.rejects=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return R(t).then((function(t){return B.apply(void 0,[e,t].concat(n))}))},S.doesNotThrow=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];U.apply(void 0,[e,P(t)].concat(n))},S.doesNotReject=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return R(t).then((function(t){return U.apply(void 0,[e,t].concat(n))}))},S.ifError=function t(r){if(null!=r){var n="ifError got unwanted exception: ";"object"===e(r)&&"string"==typeof r.message?0===r.message.length&&r.constructor?n+=r.constructor.name:n+=r.message:n+=h(r);var i=new l({actual:r,expected:null,operator:"ifError",message:n,stackStartFn:t}),o=r.stack;if("string"==typeof o){var s=o.split("\n");s.shift();for(var a=i.stack.split("\n"),c=0;c<s.length;c++){var u=a.indexOf(s[c]);if(-1!==u){a=a.slice(0,u);break}}i.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw i}},S.match=function e(t,r,n){N(t,r,n,e,"match")},S.doesNotMatch=function e(t,r,n){N(t,r,n,e,"doesNotMatch")},S.strict=b(j,S,{equal:S.strictEqual,deepEqual:S.deepStrictEqual,notEqual:S.notStrictEqual,notDeepEqual:S.notDeepStrictEqual}),S.strict.strict=S.strict,qO.exports}const fB=dB();let lB=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};let hB=class extends lB{isCount(){throw new Error("ExternalLayout is abstract")}},pB=class extends hB{constructor(e,t,r){if(!(e instanceof lB))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof yB||this.layout instanceof mB}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)}},yB=class extends lB{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}},mB=class extends lB{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntBE(e,r,this.span),this.span}};const bB=Math.pow(2,32);function gB(e){const t=Math.floor(e/bB);return{hi32:t,lo32:e-t*bB}}function vB(e,t){return e*bB+t}let wB=class extends lB{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return vB(e.readUInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=gB(e);return t.writeUInt32LE(n.lo32,r),t.writeUInt32LE(n.hi32,r+4),8}},_B=class extends lB{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return vB(e.readInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=gB(e);return t.writeUInt32LE(n.lo32,r),t.writeInt32LE(n.hi32,r+4),8}},SB=class extends lB{constructor(e,t,r){if(!(e instanceof lB))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof hB&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof hB)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0,n=this.count;if(n instanceof hB&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t){void 0===t&&(t=0);const r=[];let n=0,i=this.count;for(i instanceof hB&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r){void 0===r&&(r=0);const n=this.elementLayout,i=e.reduce(((e,i)=>e+n.encode(i,t,r+e)),0);return this.count instanceof hB&&this.count.encode(e.length,t,r),i}},EB=class extends lB{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof lB),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===r&&(r=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch{}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(e,t);return t+=i,r+i}),0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);const n=r;let i=0,o=0;for(const n of this.fields){let s=n.span;if(o=0<s?s:0,void 0===n.property)fB(0<s);else{const i=e[n.property];void 0!==i&&(o=n.encode(i,t,r),0>s&&(s=n.getSpan(t,r)))}i=r,r+=s}return i+o-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}},kB=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},AB=class extends kB{constructor(e,t){if(!(e instanceof hB&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}},xB=class extends lB{constructor(e,t,r){const n=e instanceof yB||e instanceof mB;if(n)e=new AB(new pB(e));else if(e instanceof hB&&e.isCount())e=new AB(e);else if(!(e instanceof kB))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof lB))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&n&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=n,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){let r;void 0===t&&(t=0);const n=this.discriminator,i=n.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[o.property]=this.defaultLayout.decode(e,t+s)}else r=o.decode(e,t);return r}encode(e,t,r){void 0===r&&(r=0);const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new IB(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t){let r=e;return e instanceof Hn&&(void 0===t&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}},IB=class extends lB{constructor(e,t,r,n){if(!(e instanceof xB))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof lB))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}},TB=class extends lB{constructor(e,t){if(!(e instanceof hB&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof hB||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof hB&&(n=e.length),!(e instanceof Hn&&n===e.length))throw new TypeError(function(e,t){return t.property?e+"["+t.property+"]":e}("Blob.encode",this)+" requires (length "+n+") Buffer as src");if(r+n>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,n,"hex"),this.length instanceof hB&&this.length.encode(n,t,r),n}};var OB=(e,t,r)=>new pB(e,t,r),PB=e=>new yB(1,e),MB=e=>new yB(4,e),RB=e=>new wB(e),BB=e=>new _B(e),UB=(e,t,r)=>new EB(e,t,r),NB=(e,t,r)=>new SB(e,t,r),jB=(e,t)=>new TB(e,t);const CB=(e="publicKey")=>jB(32,e),LB=(e="uint64")=>jB(8,e),DB=(e="string")=>{const t=UB([MB("length"),MB("lengthPadding"),jB(OB(MB(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=(e,t)=>r(e,t).chars.toString("utf8"),t.encode=(e,t,r)=>{const i={chars:Hn.from(e,"utf8")};return n(i,t,r)},t.alloc=e=>MB().span+MB().span+Hn.from(e,"utf8").length,t},FB=e=>{const t=jB(8,e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=(e,t=0)=>new ld(r(e,t),10,"le"),t.encode=(e,t,r=0)=>n(e.toArrayLike(Hn,"le",8),t,r),t};function WB(e,t){const r=e.layout.span>=0?e.layout.span:function(e,t){let r=0;return e.layout.fields.forEach((e=>{e.span>=0?r+=e.span:"function"==typeof e.alloc&&(r+=e.alloc(t[e.property]))})),r}(e,t),n=Hn.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}const zB=1232;function qB(e){let t=0,r=0;for(;;){const n=e.shift();if(t|=(127&n)<<7*r,r+=1,!(128&n))break}return t}function VB(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0===r){e.push(t);break}t|=128,e.push(t)}}const KB="Reached end of buffer unexpectedly";function ZB(e){if(0===e.length)throw new Error(KB);return e.shift()}function HB(e,...t){const[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw new Error(KB);return e.splice(...t)}let GB=class e{constructor(e){i(this,"header"),i(this,"accountKeys"),i(this,"recentBlockhash"),i(this,"instructions"),this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new LO(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}findSignerIndex(e){const t=this.accountKeys.findIndex((t=>t.equals(e)));if(t<0)throw new Error(`unknown signer: ${e.toString()}`);return t}serialize(){const e=this.accountKeys.length,t=[];VB(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Mh.decode(e.data),i=[];VB(i,t.length);const o=[];return VB(o,n.length),{programIdIndex:r,keyIndicesCount:Hn.from(i),keyIndices:Hn.from(t),dataLength:Hn.from(o),data:n}})),n=[];VB(n,r.length);let i=Hn.alloc(zB);Hn.from(n).copy(i);let o=n.length;r.forEach((e=>{const t=UB([PB("programIdIndex"),jB(e.keyIndicesCount.length,"keyIndicesCount"),NB(PB("keyIndex"),e.keyIndices.length,"keyIndices"),jB(e.dataLength.length,"dataLength"),NB(PB("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);const s=UB([jB(1,"numRequiredSignatures"),jB(1,"numReadonlySignedAccounts"),jB(1,"numReadonlyUnsignedAccounts"),jB(t.length,"keyCount"),NB(CB("key"),e,"keys"),CB("recentBlockhash")]),a={numRequiredSignatures:Hn.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Hn.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Hn.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Hn.from(t),keys:this.accountKeys.map((e=>e.toBuffer())),recentBlockhash:Mh.decode(this.recentBlockhash)},c=Hn.alloc(2048),u=s.encode(a,c);return i.copy(c,u),c.slice(0,u+i.length)}static from(t){const r=[...t],n=ZB(r);if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=ZB(r),o=ZB(r),s=qB(r),a=[];for(let e=0;e<s;e++){const e=HB(r,0,32);a.push(Hn.from(e))}const c=HB(r,0,32),u=qB(r),d=[];for(let e=0;e<u;e++){const e=ZB(r),t=HB(r,0,qB(r)),n=HB(r,0,qB(r)),i=Mh.encode(Hn.from(n));d.push({programIdIndex:e,accounts:t,data:i})}const f={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Mh.encode(Hn.from(c)),accountKeys:a,instructions:d};return new e(f)}};const JB=RB("lamportsPerSignature"),QB=UB([MB("version"),MB("state"),CB("authorizedPubkey"),CB("nonce"),UB([JB],"feeCalculator")]).span,YB=new LO("SysvarC1ock11111111111111111111111111111111"),XB=new LO("SysvarRecentB1ockHashes11111111111111111111"),$B=new LO("SysvarRent111111111111111111111111111111111");new LO("SysvarRewards111111111111111111111111111111");const eU=new LO("SysvarStakeHistory1111111111111111111111111");const tU=cr(dB()),rU=Hn.alloc(64).fill(0);let nU=class{constructor(e){i(this,"keys",[]),i(this,"programId"),i(this,"data",Hn.alloc(0)),e&&Object.assign(this,e)}},iU=class e{constructor(e){i(this,"signatures",[]),i(this,"feePayer"),i(this,"instructions",[]),i(this,"recentBlockhash"),i(this,"nonceInfo"),e&&Object.assign(this,e)}get signature(){return this.signatures.length>0?this.signatures[0].signature:null}getFeePayer(){return this.signatures.length>0?this.signatures[0].publicKey:null}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=[...this.instructions,...e.instructions]:"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new nU(e))})),this}compileMessage(){const{nonceInfo:e}=this;e&&this.instructions[0]!==e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));const{recentBlockhash:t}=this;if(!t)throw new Error("Transaction recentBlockhash required");if(0===this.instructions.length)throw new Error("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}const n=[],i=[];this.instructions.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new LO(e),isSigner:!1,isWritable:!1})})),i.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;const r=e.pubkey.toBase58().toLowerCase(),n=t.pubkey.toBase58().toLowerCase();return r<n?-1:r>n?1:0}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),r=o.findIndex((e=>e.pubkey.toString()===t));r>-1?o[r].isWritable=o[r].isWritable||e.isWritable:o.push(e)}));const s=o.findIndex((e=>e.pubkey.equals(r)));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});this.signatures.forEach(((e,t)=>{const r=0===t,n=o.findIndex((t=>t.pubkey.equals(e.publicKey)));if(n>-1)if(r){const[e]=o.splice(n,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o[n].isSigner=!0;else{if(!r)throw new Error(`unknown signer: ${e.publicKey.toString()}`);o.unshift({pubkey:e.publicKey,isSigner:!0,isWritable:!0})}}));let a=0,c=0,u=0;const d=[],f=[];o.forEach((({pubkey:e,isSigner:t,isWritable:r})=>{t?(d.push(e.toString()),a+=1,r||(c+=1)):(f.push(e.toString()),r||(u+=1))}));const l=[...d,...f],h=this.instructions.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:l.indexOf(r.toString()),accounts:e.keys.map((e=>l.indexOf(e.pubkey.toString()))),data:Mh.encode(t)}}));return h.forEach((e=>{tU(e.programIdIndex>=0),e.accounts.forEach((e=>tU(e>=0)))})),new GB({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:l,recentBlockhash:t,instructions:h})}serializeMessage(){return this.compileMessage().serialize()}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter((e=>{const r=e.toString();return!t.has(r)&&(t.add(r),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set;return this.signatures=e.filter((e=>{const r=e.publicKey.toString();return!t.has(r)&&(t.add(r),!0)})).map((e=>({signature:null,publicKey:e.publicKey}))),this.partialSign(...e)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=this.compileMessage();this.signatures.sort((function(e,r){return t.findSignerIndex(e.publicKey)<t.findSignerIndex(r.publicKey)?-1:1}));const r=t.serialize();e.forEach((e=>{const t=Ih.sign.detached(r,e.secretKey);this.addSignature(e.publicKey,t)}))}addSignature(e,t){tU(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Hn.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!Ih.sign.detached.verify(e,r,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];VB(r,t.length);const n=r.length+64*t.length+e.length,i=Hn.alloc(n);return tU(t.length<256),Hn.from(r).copy(i,0),t.forEach((({signature:e},t)=>{null!==e&&(tU(64===e.length,"signature has invalid length"),Hn.from(e).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),tU(i.length<=zB,`Transaction too large: ${i.length} > 1232`),i}get keys(){return tU(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return tU(1===this.instructions.length),this.instructions[0].programId}get data(){return tU(1===this.instructions.length),this.instructions[0].data}static from(t){const r=[...t],n=qB(r),i=[];for(let e=0;e<n;e++){const e=HB(r,0,64);i.push(Mh.encode(Hn.from(e)))}return e.populate(GB.from(r),i)}static populate(t,r){const n=new e;return n.recentBlockhash=t.recentBlockhash,r.forEach(((e,r)=>{const i={signature:e===Mh.encode(rU)?null:Mh.decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((e=>{const r=e.accounts.map((e=>{const r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((e=>e.publicKey.toString()===r.toString())),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new nU({keys:r,programId:t.accountKeys[e.programIdIndex],data:Mh.decode(e.data)}))})),n}};const oU=Object.freeze({Create:{index:0,layout:UB([MB("instruction"),BB("lamports"),BB("space"),CB("programId")])},Assign:{index:1,layout:UB([MB("instruction"),CB("programId")])},Transfer:{index:2,layout:UB([MB("instruction"),BB("lamports")])},CreateWithSeed:{index:3,layout:UB([MB("instruction"),CB("base"),DB("seed"),BB("lamports"),BB("space"),CB("programId")])},AdvanceNonceAccount:{index:4,layout:UB([MB("instruction")])},WithdrawNonceAccount:{index:5,layout:UB([MB("instruction"),BB("lamports")])},InitializeNonceAccount:{index:6,layout:UB([MB("instruction"),CB("authorized")])},AuthorizeNonceAccount:{index:7,layout:UB([MB("instruction"),CB("authorized")])},Allocate:{index:8,layout:UB([MB("instruction"),BB("space")])},AllocateWithSeed:{index:9,layout:UB([MB("instruction"),CB("base"),DB("seed"),BB("space"),CB("programId")])},AssignWithSeed:{index:10,layout:UB([MB("instruction"),CB("base"),DB("seed"),CB("programId")])}}),sU={get programId(){return new LO("11111111111111111111111111111111")},createAccount(e){const t=WB(oU.Create,{lamports:e.lamports,space:e.space,programId:e.programId.toBuffer()});return new nU({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})},transfer(e){const t=WB(oU.Transfer,{lamports:e.lamports});return new nU({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}],programId:this.programId,data:t})},assign(e){let t;if(e.basePubkey){t=WB(oU.AssignWithSeed,{base:e.basePubkey.toBuffer(),seed:e.seed,programId:e.programId.toBuffer()})}else{t=WB(oU.Assign,{programId:e.programId.toBuffer()})}return new nU({keys:[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})},createAccountWithSeed(e){const t=WB(oU.CreateWithSeed,{base:e.basePubkey.toBuffer(),seed:e.seed,lamports:e.lamports,space:e.space,programId:e.programId.toBuffer()});return new nU({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}],programId:this.programId,data:t})},createNonceAccount(e){const t=new iU;e.basePubkey&&e.seed?t.add(sU.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:QB,programId:this.programId})):t.add(sU.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:QB,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t},nonceInitialize(e){const t=WB(oU.InitializeNonceAccount,{authorized:e.authorizedPubkey.toBuffer()}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:XB,isSigner:!1,isWritable:!1},{pubkey:$B,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new nU(r)},nonceAdvance(e){const t=WB(oU.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:XB,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new nU(r)},nonceWithdraw(e){const t=WB(oU.WithdrawNonceAccount,{lamports:e.lamports});return new nU({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:XB,isSigner:!1,isWritable:!1},{pubkey:$B,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})},nonceAuthorize(e){const t=WB(oU.AuthorizeNonceAccount,{authorized:e.newAuthorizedPubkey.toBuffer()});return new nU({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})},allocate(e){let t;if(e.basePubkey){t=WB(oU.AllocateWithSeed,{base:e.basePubkey.toBuffer(),seed:e.seed,space:e.space,programId:e.programId.toBuffer()})}else{t=WB(oU.Allocate,{space:e.space})}return new nU({keys:[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}},aU=Object.freeze({RequestUnits:{index:0,layout:UB([PB("instruction"),MB("units"),MB("additionalFee")])},RequestHeapFrame:{index:1,layout:UB([PB("instruction"),MB("bytes")])},SetComputeUnitLimit:{index:2,layout:UB([PB("instruction"),MB("units")])},SetComputeUnitPrice:{index:3,layout:UB([PB("instruction"),BB("microLamports")])}});var cU;i(cU=class{static requestUnits(e){const t=WB(aU.RequestUnits,e);return new nU({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=WB(aU.RequestHeapFrame,e);return new nU({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=WB(aU.SetComputeUnitLimit,e);return new nU({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=WB(aU.SetComputeUnitPrice,{microLamports:Number(e.microLamports)});return new nU({keys:[],programId:this.programId,data:t})}},"programId",new LO("ComputeBudget111111111111111111111111111111"));const uU=new LO("StakeConfig11111111111111111111111111111111"),dU=Object.freeze({Initialize:{index:0,layout:UB([MB("instruction"),((e="authorized")=>UB([CB("staker"),CB("withdrawer")],e))(),((e="lockup")=>UB([BB("unixTimestamp"),BB("epoch"),CB("custodian")],e))()])},Authorize:{index:1,layout:UB([MB("instruction"),CB("newAuthorized"),MB("stakeAuthorizationType")])},Delegate:{index:2,layout:UB([MB("instruction")])},Split:{index:3,layout:UB([MB("instruction"),BB("lamports")])},Withdraw:{index:4,layout:UB([MB("instruction"),BB("lamports")])},Deactivate:{index:5,layout:UB([MB("instruction")])},AuthorizeWithSeed:{index:8,layout:UB([MB("instruction"),CB("newAuthorized"),MB("stakeAuthorizationType"),DB("authoritySeed"),CB("authorityOwner")])}}),fU={get programId(){return new LO("Stake11111111111111111111111111111111111111")},get space(){return 200},initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=WB(dU.Initialize,{authorized:{staker:r.staker.toBuffer(),withdrawer:r.withdrawer.toBuffer()},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:n.custodian.toBuffer()}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:$B,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new nU(o)},createAccountWithSeed(e){const t=new iU;t.add(sU.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))},createAccount(e){const t=new iU;t.add(sU.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))},delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=WB(dU.Delegate);return(new iU).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:YB,isSigner:!1,isWritable:!1},{pubkey:eU,isSigner:!1,isWritable:!1},{pubkey:uU,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})},withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i}=e,o=WB(dU.Withdraw,{lamports:i});return(new iU).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:YB,isSigner:!1,isWritable:!1},{pubkey:eU,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})},deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=WB(dU.Deactivate);return(new iU).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:YB,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}};new LO("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");const lU=sU.programId,hU=fU.programId,pU=new LO("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),yU=new LO("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");new LO("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),new LO("MEisE1HzehtrDpAAT8PnLHjpSSkRYakotTuJRPjTpo8");const mU=new LO("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");new LO("Sysvar1nstructions1111111111111111111111111");const bU=Math.log10(1e9);sp.prototype.readPubkeyAsString=function(){const e=this.readFixedArray(32);return Mh.encode(e)},np.prototype.writePubkeyAsString=function(e){this.writeFixedArray(Mh.decode(e))};class gU{constructor(e){this.name=e.name,this.symbol=e.symbol,this.uri=e.uri,this.sellerFeeBasisPoints=e.sellerFeeBasisPoints,this.creators=e.creators}}class vU{constructor(e){this.address=e.address,this.verified=e.verified,this.share=e.share}}class wU{constructor(e){this.key="",this.updateAuthority=e.updateAuthority,this.mint=e.mint,this.data=e.data,this.primarySaleHappened=e.primarySaleHappened,this.isMutable=e.isMutable,this.editionNonce=e.editionNonce||null}}const _U=new Map([[gU,{kind:"struct",fields:[["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[vU]}]]}],[vU,{kind:"struct",fields:[["address","pubkeyAsString"],["verified","u8"],["share","u8"]]}],[wU,{kind:"struct",fields:[["key","u8"],["updateAuthority","pubkeyAsString"],["mint","pubkeyAsString"],["data",gU],["primarySaleHappened","u8"],["isMutable","u8"],["editionNonce",{kind:"option",type:"u8"}]]}]]);new LO("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),new LO("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");class SU extends ld{toBuffer(){const e=super.toArray().reverse(),t=Hn.from(e);if(8===t.length)return t;tU(t.length<8,"u64 too large");const r=Hn.alloc(8);return t.copy(r),r}static fromBuffer(e){return tU(8===e.length,`Invalid buffer length: ${e.length}`),new SU([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}const EU=(e="publicKey")=>jB(32,e),kU=(e="uint64")=>jB(8,e),AU=e=>Hn.from(e.toBuffer()),xU={createApproveInstruction(e,t,r,n,i,o){const s=UB([PB("instruction"),kU("amount")]),a=Hn.alloc(s.span);s.encode({instruction:4,amount:new SU(o).toBuffer()},a);const c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return 0===i.length?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new nU({keys:c,programId:e,data:a})},createAssociatedTokenAccountInstruction(e,t,r,n,i,o){const s=Hn.alloc(0),a=[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:sU.programId,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:$B,isSigner:!1,isWritable:!1}];return new nU({keys:a,programId:e,data:s})},createCloseAccountInstruction(e,t,r,n,i){const o=UB([PB("instruction")]),s=Hn.alloc(o.span);o.encode({instruction:9},s);const a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?a.push({pubkey:n,isSigner:!0,isWritable:!1}):(a.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>a.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new nU({keys:a,programId:e,data:s})},createInitAccountInstruction(e,t,r,n){const i=UB([PB("instruction")]),o=Hn.alloc(i.span);i.encode({instruction:1},o);return new nU({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:$B,isSigner:!1,isWritable:!1}],programId:e,data:o})},createInitMintInstruction(e,t,r,n,i){const o=UB([PB("instruction"),PB("decimals"),EU("mintAuthority"),PB("option"),EU("freezeAuthority")]);let s=Hn.alloc(1024);const a=o.encode({instruction:0,decimals:r,mintAuthority:AU(n),option:null===i?0:1,freezeAuthority:AU(i||new LO(0))},s);s=s.slice(0,a);return new nU({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:$B,isSigner:!1,isWritable:!1}],programId:e,data:s})},createMintToInstruction(e,t,r,n,i,o){const s=UB([PB("instruction"),kU("amount")]),a=Hn.alloc(s.span);s.encode({instruction:7,amount:new SU(o).toBuffer()},a);const c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new nU({keys:c,programId:e,data:a})},createSyncNativeInstruction(e,t){const r=UB([PB("instruction")]),n=Hn.alloc(r.span);r.encode({instruction:17},n);return new nU({keys:[{pubkey:t,isSigner:!1,isWritable:!0}],programId:e,data:n})},createTransferInstruction(e,t,r,n,i,o){const s=UB([PB("instruction"),LB("amount")]),a=Hn.alloc(s.span);s.encode({instruction:3,amount:new SU(o).toBuffer()},a);const c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new nU({keys:c,programId:e,data:a})},decode(e){return UB([EU("mint"),EU("owner"),kU("amount"),MB("delegateOption"),EU("delegate"),PB("state"),MB("isNativeOption"),kU("isNative"),kU("delegatedAmount"),MB("closeAuthorityOption"),EU("closeAuthority")]).decode(e)}},IU=(e="uint64")=>jB(8,e);function TU(e,t){return new SU(e).sub(new SU(t))}new LO("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),UB([PB("instruction"),PB("transferFeeInstruction"),IU("amount"),PB("decimals"),IU("fee")]),UB([FB("takerAmount"),PB("escrowBump")]),UB([]),UB([FB("expectedTakerAmount"),CB("expectedMint")]),new LO("2NZukH2TXpcuZP4htiuT8CFxcaQSWzkkR6kepSWnZ24Q"),new LO("auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg");var OU={},PU={};class MU{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function RU(e,t){return t.property?e+"["+t.property+"]":e}PU.Layout=MU,PU.nameWithProperty=RU,PU.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(e.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof MU))throw new TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value:function(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,r){return t.decode(e,r)},writable:!0})};class BU extends MU{isCount(){throw new Error("ExternalLayout is abstract")}}class UU extends BU{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){void 0===t&&(t=0);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}class NU extends BU{constructor(e,t,r){if(!(e instanceof MU))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof jU||this.layout instanceof CU}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)}}class jU extends MU{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class CU extends MU{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}class LU extends MU{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeIntLE(e,r,this.span),this.span}}class DU extends MU{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeIntBE(e,r,this.span),this.span}}const FU=Math.pow(2,32);function WU(e){const t=Math.floor(e/FU);return{hi32:t,lo32:e-t*FU}}function zU(e,t){return e*FU+t}class qU extends MU{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return zU(e.readUInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=WU(e);return t.writeUInt32LE(n.lo32,r),t.writeUInt32LE(n.hi32,r+4),8}}class VU extends MU{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return zU(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,r){void 0===r&&(r=0);const n=WU(e);return t.writeUInt32BE(n.hi32,r),t.writeUInt32BE(n.lo32,r+4),8}}class KU extends MU{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return zU(e.readInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=WU(e);return t.writeUInt32LE(n.lo32,r),t.writeInt32LE(n.hi32,r+4),8}}class ZU extends MU{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return zU(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,r){void 0===r&&(r=0);const n=WU(e);return t.writeInt32BE(n.hi32,r),t.writeUInt32BE(n.lo32,r+4),8}}class HU extends MU{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeFloatLE(e,r),4}}class GU extends MU{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeFloatBE(e,r),4}}class JU extends MU{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeDoubleLE(e,r),8}}class QU extends MU{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeDoubleBE(e,r),8}}class YU extends MU{constructor(e,t,r){if(!(e instanceof MU))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof BU&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof BU)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0,n=this.count;if(n instanceof BU&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t){void 0===t&&(t=0);const r=[];let n=0,i=this.count;for(i instanceof BU&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r){void 0===r&&(r=0);const n=this.elementLayout,i=e.reduce(((e,i)=>e+n.encode(i,t,r+e)),0);return this.count instanceof BU&&this.count.encode(e.length,t,r),i}}class XU extends MU{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof MU),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===r&&(r=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch{}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(e,t);return t+=i,r+i}),0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);const n=r;let i=0,o=0;for(const n of this.fields){let s=n.span;if(o=0<s?s:0,void 0!==n.property){const i=e[n.property];void 0!==i&&(o=n.encode(i,t,r),0>s&&(s=n.getSpan(t,r)))}i=r,r+=s}return i+o-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class $U{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class eN extends $U{constructor(e,t){if(!(e instanceof BU&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class tN extends MU{constructor(e,t,r){const n=e instanceof jU||e instanceof CU;if(n)e=new eN(new NU(e));else if(e instanceof BU&&e.isCount())e=new eN(e);else if(!(e instanceof $U))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof MU))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&n&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=n,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){let r;void 0===t&&(t=0);const n=this.discriminator,i=n.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[o.property]=this.defaultLayout.decode(e,t+s)}else r=o.decode(e,t);return r}encode(e,t,r){void 0===r&&(r=0);const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new rN(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t){let r=e;return Hn.isBuffer(e)&&(void 0===t&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class rN extends MU{constructor(e,t,r,n){if(!(e instanceof tN))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof MU))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function nN(e){return 0>e&&(e+=4294967296),e}class iN extends MU{constructor(e,t,r){if(!(e instanceof jU||e instanceof CU))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=nN(e),this},this._packedGetValue=function(){return n}}decode(e,t){const r=this.makeDestinationObject();void 0===t&&(t=0);const n=this.word.decode(e,t);this._packedSetValue(n);for(const e of this.fields)void 0!==e.property&&(r[e.property]=e.decode(n));return r}encode(e,t,r){void 0===r&&(r=0);const n=this.word.decode(t,r);this._packedSetValue(n);for(const t of this.fields)if(void 0!==t.property){const r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new oN(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new sN(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class oN{constructor(e,t,r){if(!(e instanceof iN))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const n=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=nN(this.valueMask<<this.start),this.property=r}decode(){return nN(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==nN(e&this.valueMask))throw new TypeError(RU("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=nN(e<<this.start);this.container._packedSetValue(nN(t&~this.wordMask)|r)}}let sN=class extends oN{constructor(e,t){super(e,1,t)}decode(e,t){return!!oN.prototype.decode.call(this,e,t)}encode(e){return"boolean"==typeof e&&(e=+e),oN.prototype.encode.call(this,e)}};class aN extends MU{constructor(e,t){if(!(e instanceof BU&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof BU||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof BU&&(n=e.length),!Hn.isBuffer(e)||n!==e.length)throw new TypeError(RU("Blob.encode",this)+" requires (length "+n+") Buffer as src");if(r+n>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,n,"hex"),this.length instanceof BU&&this.length.encode(n,t,r),n}}class cN extends MU{constructor(e){super(-1,e)}getSpan(e,t){if(!Hn.isBuffer(e))throw new TypeError("b must be a Buffer");void 0===t&&(t=0);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t,r){void 0===t&&(t=0);let n=this.getSpan(e,t);return e.slice(t,t+n-1).toString("utf-8")}encode(e,t,r){void 0===r&&(r=0),"string"!=typeof e&&(e=e.toString());const n=new Hn(e,"utf8"),i=n.length;if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return n.copy(t,r),t[r+i]=0,i+1}}class uN extends MU{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!Hn.isBuffer(e))throw new TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,r){void 0===t&&(t=0);let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+n).toString("utf-8")}encode(e,t,r){void 0===r&&(r=0),"string"!=typeof e&&(e=e.toString());const n=new Hn(e,"utf8"),i=n.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return n.copy(t,r),i}}class dN extends MU{constructor(e,t){super(0,t),this.value=e}decode(e,t,r){return this.value}encode(e,t,r){return 0}}PU.ExternalLayout=BU,PU.GreedyCount=UU,PU.OffsetLayout=NU,PU.UInt=jU,PU.UIntBE=CU,PU.Int=LU,PU.IntBE=DU,PU.Float=HU,PU.FloatBE=GU,PU.Double=JU,PU.DoubleBE=QU,PU.Sequence=YU,PU.Structure=XU,PU.UnionDiscriminator=$U,PU.UnionLayoutDiscriminator=eN,PU.Union=tN,PU.VariantLayout=rN,PU.BitStructure=iN,PU.BitField=oN,PU.Boolean=sN,PU.Blob=aN,PU.CString=cN,PU.UTF8=uN,PU.Constant=dN,PU.greedy=(e,t)=>new UU(e,t),PU.offset=(e,t,r)=>new NU(e,t,r),PU.u8=e=>new jU(1,e),PU.u16=e=>new jU(2,e),PU.u24=e=>new jU(3,e),PU.u32=e=>new jU(4,e),PU.u40=e=>new jU(5,e),PU.u48=e=>new jU(6,e),PU.nu64=e=>new qU(e),PU.u16be=e=>new CU(2,e),PU.u24be=e=>new CU(3,e),PU.u32be=e=>new CU(4,e),PU.u40be=e=>new CU(5,e),PU.u48be=e=>new CU(6,e),PU.nu64be=e=>new VU(e),PU.s8=e=>new LU(1,e),PU.s16=e=>new LU(2,e),PU.s24=e=>new LU(3,e),PU.s32=e=>new LU(4,e),PU.s40=e=>new LU(5,e),PU.s48=e=>new LU(6,e),PU.ns64=e=>new KU(e),PU.s16be=e=>new DU(2,e),PU.s24be=e=>new DU(3,e),PU.s32be=e=>new DU(4,e),PU.s40be=e=>new DU(5,e),PU.s48be=e=>new DU(6,e),PU.ns64be=e=>new ZU(e),PU.f32=e=>new HU(e),PU.f32be=e=>new GU(e),PU.f64=e=>new JU(e),PU.f64be=e=>new QU(e),PU.struct=(e,t,r)=>new XU(e,t,r),PU.bits=(e,t,r)=>new iN(e,t,r),PU.seq=(e,t,r)=>new YU(e,t,r),PU.union=(e,t,r)=>new tN(e,t,r),PU.unionLayoutDiscriminator=(e,t)=>new eN(e,t),PU.blob=(e,t)=>new aN(e,t),PU.cstr=e=>new cN(e),PU.utf8=(e,t)=>new uN(e,t),PU.const=(e,t)=>new dN(e,t);var fN={};function lN(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function hN(e,...t){if(!function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function pN(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function yN(e,t){hN(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const mN="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function bN(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}const gN=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),vN=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function wN(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function _N(e){if("string"==typeof e&&(e=wN(e)),!bN(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function SN(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(!bN(n))throw new Error("Uint8Array expected");t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}class EN{clone(){return this._cloneInto()}}function kN(e){const t=t=>e().update(_N(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function AN(e=32){if(mN&&"function"==typeof mN.getRandomValues)return mN.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class xN extends EN{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gN(this.buffer)}update(e){pN(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=_N(e)).length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s!==n)r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=gN(e);for(;n<=i-o;o+=n)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){pN(this),yN(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);const s=gN(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,u[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}const IN=BigInt(2**32-1),TN=BigInt(32);function ON(e,t=!1){return t?{h:Number(e&IN),l:Number(e>>TN&IN)}:{h:0|Number(e>>TN&IN),l:0|Number(e&IN)}}function PN(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=ON(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}const MN=(e,t,r)=>e<<r|t>>>32-r,RN=(e,t,r)=>t<<r|e>>>32-r,BN=(e,t,r)=>t<<r-32|e>>>64-r,UN=(e,t,r)=>e<<r-32|t>>>64-r;const NN={fromBig:ON,split:PN,toBig:(e,t)=>BigInt(e>>>0)<<TN|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:MN,rotlSL:RN,rotlBH:BN,rotlBL:UN,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[jN,CN]=NN.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),LN=new Uint32Array(80),DN=new Uint32Array(80);class FN extends xN{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:d,Fl:f,Gh:l,Gl:h,Hh:p,Hl:y}=this;return[e,t,r,n,i,o,s,a,c,u,d,f,l,h,p,y]}set(e,t,r,n,i,o,s,a,c,u,d,f,l,h,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|d,this.Fl=0|f,this.Gh=0|l,this.Gl=0|h,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)LN[r]=e.getUint32(t),DN[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|LN[e-15],r=0|DN[e-15],n=NN.rotrSH(t,r,1)^NN.rotrSH(t,r,8)^NN.shrSH(t,r,7),i=NN.rotrSL(t,r,1)^NN.rotrSL(t,r,8)^NN.shrSL(t,r,7),o=0|LN[e-2],s=0|DN[e-2],a=NN.rotrSH(o,s,19)^NN.rotrBH(o,s,61)^NN.shrSH(o,s,6),c=NN.rotrSL(o,s,19)^NN.rotrBL(o,s,61)^NN.shrSL(o,s,6),u=NN.add4L(i,c,DN[e-7],DN[e-16]),d=NN.add4H(u,n,a,LN[e-7],LN[e-16]);LN[e]=0|d,DN[e]=0|u}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:u,Eh:d,El:f,Fh:l,Fl:h,Gh:p,Gl:y,Hh:m,Hl:b}=this;for(let e=0;e<80;e++){const t=NN.rotrSH(d,f,14)^NN.rotrSH(d,f,18)^NN.rotrBH(d,f,41),g=NN.rotrSL(d,f,14)^NN.rotrSL(d,f,18)^NN.rotrBL(d,f,41),v=d&l^~d&p,w=f&h^~f&y,_=NN.add5L(b,g,w,CN[e],DN[e]),S=NN.add5H(_,m,t,v,jN[e],LN[e]),E=0|_,k=NN.rotrSH(r,n,28)^NN.rotrBH(r,n,34)^NN.rotrBH(r,n,39),A=NN.rotrSL(r,n,28)^NN.rotrBL(r,n,34)^NN.rotrBL(r,n,39),x=r&i^r&s^i&s,I=n&o^n&a^o&a;m=0|p,b=0|y,p=0|l,y=0|h,l=0|d,h=0|f,({h:d,l:f}=NN.add(0|c,0|u,0|S,0|E)),c=0|s,u=0|a,s=0|i,a=0|o,i=0|r,o=0|n;const T=NN.add3L(E,A,I);r=NN.add3H(T,S,k,x),n=0|T}({h:r,l:n}=NN.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=NN.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=NN.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:u}=NN.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:d,l:f}=NN.add(0|this.Eh,0|this.El,0|d,0|f)),({h:l,l:h}=NN.add(0|this.Fh,0|this.Fl,0|l,0|h)),({h:p,l:y}=NN.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:m,l:b}=NN.add(0|this.Hh,0|this.Hl,0|m,0|b)),this.set(r,n,i,o,s,a,c,u,d,f,l,h,p,y,m,b)}roundClean(){LN.fill(0),DN.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const WN=kN((()=>new FN)),zN=BigInt(0),qN=BigInt(1),VN=BigInt(2);function KN(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}const ZN=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function HN(e){if(!KN(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=ZN[e[r]];return t}function GN(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function JN(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const QN=48,YN=57,XN=65,$N=70,ej=97,tj=102;function rj(e){return e>=QN&&e<=YN?e-QN:e>=XN&&e<=$N?e-(XN-10):e>=ej&&e<=tj?e-(ej-10):void 0}function nj(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=rj(e.charCodeAt(i)),o=rj(e.charCodeAt(i+1));if(void 0===r||void 0===o){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n}function ij(e){return JN(HN(e))}function oj(e){if(!KN(e))throw new Error("Uint8Array expected");return JN(HN(Uint8Array.from(e).reverse()))}function sj(e,t){return nj(e.toString(16).padStart(2*t,"0"))}function aj(e,t){return sj(e,t).reverse()}function cj(e,t,r){let n;if("string"==typeof t)try{n=nj(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!KN(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function uj(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(!KN(n))throw new Error("Uint8Array expected");t+=n.length}let r=new Uint8Array(t),n=0;for(let t=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}const dj=e=>(VN<<BigInt(e-1))-qN,fj=e=>new Uint8Array(e),lj=e=>Uint8Array.from(e);function hj(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=fj(e),i=fj(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),c=(e=fj())=>{i=a(lj([0]),e),n=a(),0!==e.length&&(i=a(lj([1]),e),n=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return uj(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(u()));)c();return s(),r}}const pj={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||KN(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function yj(e,t,r={}){const n=(t,r,n)=>{const i=pj[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const o=e[t];if(!(n&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}const mj=Object.freeze(Object.defineProperty({__proto__:null,bitGet:function(e,t){return e>>BigInt(t)&qN},bitLen:function(e){let t;for(t=0;e>zN;e>>=qN,t+=1);return t},bitMask:dj,bitSet:(e,t,r)=>e|(r?qN:zN)<<BigInt(t),bytesToHex:HN,bytesToNumberBE:ij,bytesToNumberLE:oj,concatBytes:uj,createHmacDrbg:hj,ensureBytes:cj,equalBytes:function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},hexToBytes:nj,hexToNumber:JN,isBytes:KN,numberToBytesBE:sj,numberToBytesLE:aj,numberToHexUnpadded:GN,numberToVarBytesBE:function(e){return nj(GN(e))},utf8ToBytes:function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},validateObject:yj},Symbol.toStringTag,{value:"Module"})),bj=BigInt(0),gj=BigInt(1),vj=BigInt(2),wj=BigInt(3),_j=BigInt(4),Sj=BigInt(5),Ej=BigInt(8);function kj(e,t){const r=e%t;return r>=bj?r:t+r}function Aj(e,t,r){if(r<=bj||t<bj)throw new Error("Expected power/modulo > 0");if(r===gj)return bj;let n=gj;for(;t>bj;)t&gj&&(n=n*e%r),e=e*e%r,t>>=gj;return n}function xj(e,t,r){let n=e;for(;t-- >bj;)n*=n,n%=r;return n}function Ij(e,t){if(e===bj||t<=bj)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=kj(e,t),n=t,i=bj,o=gj;for(;r!==bj;){const e=n%r,t=i-o*(n/r);n=r,r=e,i=o,o=t}if(n!==gj)throw new Error("invert: does not exist");return kj(i,t)}function Tj(e){if(e%_j===wj){const t=(e+gj)/_j;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%Ej===Sj){const t=(e-Sj)/Ej;return function(e,r){const n=e.mul(r,vj),i=e.pow(n,t),o=e.mul(r,i),s=e.mul(e.mul(o,vj),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-gj)/vj;let r,n,i;for(r=e-gj,n=0;r%vj===bj;r/=vj,n++);for(i=vj;i<e&&Aj(i,t,e)!==e-gj;i++);if(1===n){const t=(e+gj)/_j;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const o=(r+gj)/vj;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,i),r),u=e.pow(s,o),d=e.pow(s,r);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,gj<<BigInt(a-t-1));c=e.sqr(r),u=e.mul(u,r),d=e.mul(d,c),a=t}return u}}(e)}BigInt(9),BigInt(16);const Oj=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Pj(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Mj(e,t,r=!1,n={}){if(e<=bj)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Pj(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Tj(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:dj(i),ZERO:bj,ONE:gj,create:t=>kj(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return bj<=t&&t<e},is0:e=>e===bj,isOdd:e=>(e&gj)===gj,neg:t=>kj(-t,e),eql:(e,t)=>e===t,sqr:t=>kj(t*t,e),add:(t,r)=>kj(t+r,e),sub:(t,r)=>kj(t-r,e),mul:(t,r)=>kj(t*r,e),pow:(e,t)=>function(e,t,r){if(r<bj)throw new Error("Expected power > 0");if(r===bj)return e.ONE;if(r===gj)return t;let n=e.ONE,i=t;for(;r>bj;)r&gj&&(n=e.mul(n,i)),i=e.sqr(i),r>>=gj;return n}(a,e,t),div:(t,r)=>kj(t*Ij(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Ij(t,e),sqrt:n.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?aj(e,o):sj(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return r?oj(e):ij(e)}});return Object.freeze(a)}function Rj(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Bj(e){const t=Rj(e);return t+Math.ceil(t/2)}const Uj=BigInt(0),Nj=BigInt(1);function jj(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>Uj;)r&Nj&&(n=n.add(i)),i=i.double(),r>>=Nj;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),o=[];let s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){const{windows:s,windowSize:a}=n(t);let c=e.ZERO,u=e.BASE;const d=BigInt(2**t-1),f=2**t,l=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let n=Number(o&d);o>>=l,n>a&&(n-=f,o+=Nj);const s=t,h=t+Math.abs(n)-1,p=e%2!=0,y=n<0;0===n?u=u.add(r(p,i[s])):c=c.add(r(y,i[h]))}return{p:c,f:u}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,n(o))),this.wNAF(i,o,r)}}}function Cj(e){return function(e){yj(e,Oj.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),yj(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Pj(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Lj=BigInt(0),Dj=BigInt(1),Fj=BigInt(2),Wj=BigInt(8),zj={zip215:!0};function qj(e){const t=function(e){const t=Cj(e);return yj(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n:n,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=t,u=Fj<<BigInt(8*a)-Dj,d=r.create,f=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch{return{isValid:!1,value:Lj}}}),l=t.adjustScalarBytes||(e=>e),h=t.domain||((e,t,r)=>{if(t.length||r)throw new Error("Contexts/pre-hash are not supported");return e}),p=e=>"bigint"==typeof e&&Lj<e,y=(e,t)=>p(e)&&p(t)&&e<t,m=e=>e===Lj||y(e,u);function b(e,t){if(y(e,t))return e;throw new Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function g(e){return e===Lj?e:b(e,n)}const v=new Map;function w(e){if(!(e instanceof _))throw new Error("ExtendedPoint expected")}class _{constructor(e,t,r,n){if(this.ex=e,this.ey=t,this.ez=r,this.et=n,!m(e))throw new Error("x required");if(!m(t))throw new Error("y required");if(!m(r))throw new Error("z required");if(!m(n))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof _)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};if(!m(t)||!m(r))throw new Error("invalid affine point");return new _(t,r,Dj,d(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.ez)));return e.map(((e,r)=>e.toAffine(t[r]))).map(_.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,v.delete(this)}assertValidity(){const{a:e,d:r}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:n,ey:i,ez:o,et:s}=this,a=d(n*n),c=d(i*i),u=d(o*o),f=d(u*u),l=d(a*e);if(d(u*d(l+c))!==d(f+d(r*d(a*c))))throw new Error("bad point: equation left != right (1)");if(d(n*i)!==d(o*s))throw new Error("bad point: equation left != right (2)")}equals(e){w(e);const{ex:t,ey:r,ez:n}=this,{ex:i,ey:o,ez:s}=e,a=d(t*s),c=d(i*n),u=d(r*s),f=d(o*n);return a===c&&u===f}is0(){return this.equals(_.ZERO)}negate(){return new _(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:e}=t,{ex:r,ey:n,ez:i}=this,o=d(r*r),s=d(n*n),a=d(Fj*d(i*i)),c=d(e*o),u=r+n,f=d(d(u*u)-o-s),l=c+s,h=l-a,p=c-s,y=d(f*h),m=d(l*p),b=d(f*p),g=d(h*l);return new _(y,m,g,b)}add(e){w(e);const{a:r,d:n}=t,{ex:i,ey:o,ez:s,et:a}=this,{ex:c,ey:u,ez:f,et:l}=e;if(r===BigInt(-1)){const e=d((o-i)*(u+c)),t=d((o+i)*(u-c)),r=d(t-e);if(r===Lj)return this.double();const n=d(s*Fj*l),h=d(a*Fj*f),p=h+n,y=t+e,m=h-n,b=d(p*r),g=d(y*m),v=d(p*m),w=d(r*y);return new _(b,g,w,v)}const h=d(i*c),p=d(o*u),y=d(a*n*l),m=d(s*f),b=d((i+o)*(c+u)-h-p),g=m-y,v=m+y,S=d(p-r*h),E=d(b*g),k=d(v*S),A=d(b*S),x=d(g*v);return new _(E,k,x,A)}subtract(e){return this.add(e.negate())}wNAF(e){return k.wNAFCached(this,v,e,_.normalizeZ)}multiply(e){const{p:t,f:r}=this.wNAF(b(e,n));return _.normalizeZ([t,r])[0]}multiplyUnsafe(e){let t=g(e);return t===Lj?E:this.equals(E)||t===Dj?this:this.equals(S)?this.wNAF(t).p:k.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return k.unsafeLadder(this,n).is0()}toAffine(e){const{ex:t,ey:n,ez:i}=this,o=this.is0();null==e&&(e=o?Wj:r.inv(i));const s=d(t*e),a=d(n*e),c=d(i*e);if(o)return{x:Lj,y:Dj};if(c!==Dj)throw new Error("invZ was invalid");return{x:s,y:a}}clearCofactor(){const{h:e}=t;return e===Dj?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){const{d:i,a:o}=t,s=r.BYTES,a=(e=cj("pointHex",e,s)).slice(),c=e[s-1];a[s-1]=-129&c;const l=oj(a);l===Lj||b(l,n?u:r.ORDER);const h=d(l*l),p=d(h-Dj),y=d(i*h-o);let{isValid:m,value:g}=f(p,y);if(!m)throw new Error("Point.fromHex: invalid y coordinate");const v=(g&Dj)===Dj,w=!!(128&c);if(!n&&g===Lj&&w)throw new Error("Point.fromHex: x=0 and x_0=1");return w!==v&&(g=d(-g)),_.fromAffine({x:g,y:l})}static fromPrivateKey(e){return I(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=aj(t,r.BYTES);return n[n.length-1]|=e&Dj?128:0,n}toHex(){return HN(this.toRawBytes())}}_.BASE=new _(t.Gx,t.Gy,Dj,d(t.Gx*t.Gy)),_.ZERO=new _(Lj,Dj,Dj,Lj);const{BASE:S,ZERO:E}=_,k=jj(_,8*a);function A(e){return kj(e,n)}function x(e){return A(oj(e))}function I(e){const t=a;e=cj("private key",e,t);const r=cj("hashed private key",o(e),2*t),n=l(r.slice(0,t)),i=r.slice(t,2*t),s=x(n),c=S.multiply(s),u=c.toRawBytes();return{head:n,prefix:i,scalar:s,point:c,pointBytes:u}}function T(e=new Uint8Array,...t){const r=uj(...t);return x(o(h(r,cj("context",e),!!i)))}const O=zj;return S._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return I(e).pointBytes},sign:function(e,t,n={}){e=cj("message",e),i&&(e=i(e));const{prefix:o,scalar:s,pointBytes:c}=I(t),u=T(n.context,o,e),d=S.multiply(u).toRawBytes(),f=A(u+T(n.context,d,c,e)*s);return g(f),cj("result",uj(d,aj(f,r.BYTES)),2*a)},verify:function(e,t,n,o=O){const{context:s,zip215:a}=o,c=r.BYTES;e=cj("signature",e,2*c),t=cj("message",t),i&&(t=i(t));const u=oj(e.slice(c,2*c));let d,f,l;try{d=_.fromHex(n,a),f=_.fromHex(e.slice(0,c),a),l=S.multiplyUnsafe(u)}catch{return!1}if(!a&&d.isSmallOrder())return!1;const h=T(s,f.toRawBytes(),d.toRawBytes(),t);return f.add(d.multiplyUnsafe(h)).subtract(l).clearCofactor().equals(_.ZERO)},ExtendedPoint:_,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>s(r.BYTES),precompute(e=8,t=_.BASE){return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}}const Vj=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Kj=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Zj=BigInt(1),Hj=BigInt(2),Gj=BigInt(5),Jj=BigInt(10),Qj=BigInt(20),Yj=BigInt(40),Xj=BigInt(80);const $j=Mj(Vj,void 0,!0),eC={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:$j,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:WN,randomBytes:AN,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){const r=Vj,n=kj(t*t*t,r),i=function(e){const t=Vj,r=e*e%t*e%t,n=xj(r,Hj,t)*r%t,i=xj(n,Zj,t)*e%t,o=xj(i,Gj,t)*i%t,s=xj(o,Jj,t)*o%t,a=xj(s,Qj,t)*s%t,c=xj(a,Yj,t)*a%t,u=xj(c,Xj,t)*c%t,d=xj(u,Xj,t)*c%t,f=xj(d,Jj,t)*o%t;return{pow_p_5_8:xj(f,Hj,t)*e%t,b2:r}}(e*kj(n*n*t,r)).pow_p_5_8;let o=kj(e*n*i,r);const s=kj(t*o*o,r),a=o,c=kj(o*Kj,r),u=s===e,d=s===kj(-e,r),f=s===kj(-e*Kj,r);return u&&(o=a),(d||f)&&(o=c),((e,t)=>(kj(e,t)&gj)===gj)(o,r)&&(o=kj(-o,r)),{isValid:u||d,value:o}}},tC=qj(eC);const rC=($j.ORDER+BigInt(3))/BigInt(8);$j.pow(Hj,rC),$j.sqrt($j.neg($j.ONE)),$j.ORDER,BigInt(5),BigInt(8),BigInt(486662),function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);e.isOdd(r)&&e.neg(r)}($j,$j.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const nC=(e,t,r)=>e&t^~e&r,iC=(e,t,r)=>e&t^e&r^t&r,oC=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sC=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),aC=new Uint32Array(64);class cC extends xN{constructor(){super(64,32,8,!1),this.A=0|sC[0],this.B=0|sC[1],this.C=0|sC[2],this.D=0|sC[3],this.E=0|sC[4],this.F=0|sC[5],this.G=0|sC[6],this.H=0|sC[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)aC[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=aC[e-15],r=aC[e-2],n=vN(t,7)^vN(t,18)^t>>>3,i=vN(r,17)^vN(r,19)^r>>>10;aC[e]=i+aC[e-7]+n+aC[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(vN(s,6)^vN(s,11)^vN(s,25))+nC(s,a,c)+oC[e]+aC[e]|0,d=(vN(r,2)^vN(r,13)^vN(r,22))+iC(r,n,i)|0;u=c,c=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+d|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,i,o,s,a,c,u)}roundClean(){aC.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const uC=kN((()=>new cC));var dC={};Object.defineProperty(dC,"__esModule",{value:!0});var fC=dC.toBigIntLE=function(e){{const t=Hn.from(e);t.reverse();const r=t.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}};dC.toBigIntBE=function(e){{const t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}};var lC=dC.toBufferLE=function(e,t){{const r=e.toString(16),n=Hn.from(r.padStart(2*t,"0").slice(0,2*t),"hex");return n.reverse(),n}};dC.toBufferBE=function(e,t){{const r=e.toString(16);return Hn.from(r.padStart(2*t,"0").slice(0,2*t),"hex")}};var hC,pC=new Uint8Array(16);function yC(){if(!hC&&!(hC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hC(pC)}const mC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function bC(e){return"string"==typeof e&&mC.test(e)}for(var gC=[],vC=0;vC<256;++vC)gC.push((vC+256).toString(16).substr(1));function wC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(gC[e[t+0]]+gC[e[t+1]]+gC[e[t+2]]+gC[e[t+3]]+"-"+gC[e[t+4]]+gC[e[t+5]]+"-"+gC[e[t+6]]+gC[e[t+7]]+"-"+gC[e[t+8]]+gC[e[t+9]]+"-"+gC[e[t+10]]+gC[e[t+11]]+gC[e[t+12]]+gC[e[t+13]]+gC[e[t+14]]+gC[e[t+15]]).toLowerCase();if(!bC(r))throw TypeError("Stringified UUID is invalid");return r}var _C,SC,EC=0,kC=0;function AC(e){if(!bC(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}function xC(e,t,r){function n(e,n,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=AC(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),(s=r(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return wC(s)}try{n.name=e}catch{}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function IC(e){return 14+(e+64>>>9<<4)+1}function TC(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function OC(e,t,r,n,i,o){return TC(function(e,t){return e<<t|e>>>32-t}(TC(TC(t,e),TC(n,o)),i),r)}function PC(e,t,r,n,i,o,s){return OC(t&r|~t&n,e,t,i,o,s)}function MC(e,t,r,n,i,o,s){return OC(t&n|r&~n,e,t,i,o,s)}function RC(e,t,r,n,i,o,s){return OC(t^r^n,e,t,i,o,s)}function BC(e,t,r,n,i,o,s){return OC(r^(t|~n),e,t,i,o,s)}var UC=xC("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[IC(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=r,c=n,u=i,d=o;r=PC(r,n,i,o,e[s],7,-680876936),o=PC(o,r,n,i,e[s+1],12,-389564586),i=PC(i,o,r,n,e[s+2],17,606105819),n=PC(n,i,o,r,e[s+3],22,-1044525330),r=PC(r,n,i,o,e[s+4],7,-176418897),o=PC(o,r,n,i,e[s+5],12,1200080426),i=PC(i,o,r,n,e[s+6],17,-1473231341),n=PC(n,i,o,r,e[s+7],22,-45705983),r=PC(r,n,i,o,e[s+8],7,1770035416),o=PC(o,r,n,i,e[s+9],12,-1958414417),i=PC(i,o,r,n,e[s+10],17,-42063),n=PC(n,i,o,r,e[s+11],22,-1990404162),r=PC(r,n,i,o,e[s+12],7,1804603682),o=PC(o,r,n,i,e[s+13],12,-40341101),i=PC(i,o,r,n,e[s+14],17,-1502002290),r=MC(r,n=PC(n,i,o,r,e[s+15],22,1236535329),i,o,e[s+1],5,-165796510),o=MC(o,r,n,i,e[s+6],9,-1069501632),i=MC(i,o,r,n,e[s+11],14,643717713),n=MC(n,i,o,r,e[s],20,-373897302),r=MC(r,n,i,o,e[s+5],5,-701558691),o=MC(o,r,n,i,e[s+10],9,38016083),i=MC(i,o,r,n,e[s+15],14,-660478335),n=MC(n,i,o,r,e[s+4],20,-405537848),r=MC(r,n,i,o,e[s+9],5,568446438),o=MC(o,r,n,i,e[s+14],9,-1019803690),i=MC(i,o,r,n,e[s+3],14,-187363961),n=MC(n,i,o,r,e[s+8],20,1163531501),r=MC(r,n,i,o,e[s+13],5,-1444681467),o=MC(o,r,n,i,e[s+2],9,-51403784),i=MC(i,o,r,n,e[s+7],14,1735328473),r=RC(r,n=MC(n,i,o,r,e[s+12],20,-1926607734),i,o,e[s+5],4,-378558),o=RC(o,r,n,i,e[s+8],11,-2022574463),i=RC(i,o,r,n,e[s+11],16,1839030562),n=RC(n,i,o,r,e[s+14],23,-35309556),r=RC(r,n,i,o,e[s+1],4,-1530992060),o=RC(o,r,n,i,e[s+4],11,1272893353),i=RC(i,o,r,n,e[s+7],16,-155497632),n=RC(n,i,o,r,e[s+10],23,-1094730640),r=RC(r,n,i,o,e[s+13],4,681279174),o=RC(o,r,n,i,e[s],11,-358537222),i=RC(i,o,r,n,e[s+3],16,-722521979),n=RC(n,i,o,r,e[s+6],23,76029189),r=RC(r,n,i,o,e[s+9],4,-640364487),o=RC(o,r,n,i,e[s+12],11,-421815835),i=RC(i,o,r,n,e[s+15],16,530742520),r=BC(r,n=RC(n,i,o,r,e[s+2],23,-995338651),i,o,e[s],6,-198630844),o=BC(o,r,n,i,e[s+7],10,1126891415),i=BC(i,o,r,n,e[s+14],15,-1416354905),n=BC(n,i,o,r,e[s+5],21,-57434055),r=BC(r,n,i,o,e[s+12],6,1700485571),o=BC(o,r,n,i,e[s+3],10,-1894986606),i=BC(i,o,r,n,e[s+10],15,-1051523),n=BC(n,i,o,r,e[s+1],21,-2054922799),r=BC(r,n,i,o,e[s+8],6,1873313359),o=BC(o,r,n,i,e[s+15],10,-30611744),i=BC(i,o,r,n,e[s+6],15,-1560198380),n=BC(n,i,o,r,e[s+13],21,1309151649),r=BC(r,n,i,o,e[s+4],6,-145523070),o=BC(o,r,n,i,e[s+11],10,-1120210379),i=BC(i,o,r,n,e[s+2],15,718787259),n=BC(n,i,o,r,e[s+9],21,-343485551),r=TC(r,a),n=TC(n,c),i=TC(i,u),o=TC(o,d)}return[r,n,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(IC(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))}));const NC=UC;function jC(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function CC(e,t){return e<<t|e>>>32-t}var LC=xC("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var u=new Uint32Array(16),d=0;d<16;++d)u[d]=e[64*c+4*d]<<24|e[64*c+4*d+1]<<16|e[64*c+4*d+2]<<8|e[64*c+4*d+3];a[c]=u}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<s;++f){for(var l=new Uint32Array(80),h=0;h<16;++h)l[h]=a[f][h];for(var p=16;p<80;++p)l[p]=CC(l[p-3]^l[p-8]^l[p-14]^l[p-16],1);for(var y=r[0],m=r[1],b=r[2],g=r[3],v=r[4],w=0;w<80;++w){var _=Math.floor(w/20),S=CC(y,5)+jC(_,m,b,g)+v+t[_]+l[w]>>>0;v=g,g=b,b=CC(m,30)>>>0,m=y,y=S}r[0]=r[0]+y>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+b>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+v>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}));const DC=LC;const FC=Object.freeze(Object.defineProperty({__proto__:null,NIL:"00000000-0000-0000-0000-000000000000",parse:AC,stringify:wC,v1:function(e,t,r){var n=t&&r||0,i=t||new Array(16),o=(e=e||{}).node||_C,s=void 0!==e.clockseq?e.clockseq:SC;if(null==o||null==s){var a=e.random||(e.rng||yC)();null==o&&(o=_C=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=SC=16383&(a[6]<<8|a[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:kC+1,d=c-EC+(u-kC)/1e4;if(d<0&&void 0===e.clockseq&&(s=s+1&16383),(d<0||c>EC)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");EC=c,kC=u,SC=s;var f=(1e4*(268435455&(c+=122192928e5))+u)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=255&f;var l=c/4294967296*1e4&268435455;i[n++]=l>>>8&255,i[n++]=255&l,i[n++]=l>>>24&15|16,i[n++]=l>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(var h=0;h<6;++h)i[n+h]=o[h];return t||wC(i)},v3:NC,v4:function(e,t,r){var n=(e=e||{}).random||(e.rng||yC)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return wC(n)},v5:DC,validate:bC,version:function(e){if(!bC(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},Symbol.toStringTag,{value:"Module"})),WC=ur(FC),zC=WC.v4;var qC=function(e,t,r,n){if("string"!=typeof e)throw new TypeError(e+" must be a string");const i="number"==typeof(n=n||{}).version?n.version:2;if(1!==i&&2!==i)throw new TypeError(i+" must be 1 or 2");const o={method:e};if(2===i&&(o.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if(typeof r>"u"){const e="function"==typeof n.generator?n.generator:function(){return zC()};o.id=e(o,n)}else 2===i&&null===r?n.notificationIdNull&&(o.id=null):o.id=r;return o};const VC=WC.v4,KC=qC,ZC=function(e,t){if(!(this instanceof ZC))return new ZC(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return VC()},version:typeof t.version<"u"?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};var HC=ZC;ZC.prototype.request=function(e,t,r,n){const i=this;let o=null;const s=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&e&&"object"==typeof e&&"function"==typeof t)n=t,o=e;else{"function"==typeof r&&(n=r,r=void 0);const i="function"==typeof n;try{o=KC(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(i)return n(e);throw e}if(!i)return o}let a;try{a=JSON.stringify(o,this.options.replacer)}catch(e){return n(e)}return this.callServer(a,(function(e,t){i._parseResponse(e,t,n)})),o},ZC.prototype._parseResponse=function(e,t,r){if(e)return void r(e);if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length){if(Array.isArray(n)){const e=function(e){return typeof e.error<"u"},t=function(t){return!e(t)};return r(null,n.filter(e),n.filter(t))}return r(null,n.error,n.result)}r(null,n)};const GC=cr(HC);var JC={},QC={exports:{}};!function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}(QC);var YC,XC,$C,eL,tL=QC.exports,rL={exports:{}},nL={exports:{}};function iL(){return YC||(YC=1,function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(nL)),nL.exports}function oL(){return XC||(XC=1,function(e){var t=iL().default;function r(){e.exports=r=function(){return i},e.exports.__esModule=!0,e.exports.default=e.exports;var n,i={},o=Object.prototype,s=o.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",f=c.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch{l=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),s=new B(n||[]);return a(o,"_invoke",{value:O(e,r,s)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}i.wrap=h;var y="suspendedStart",m="suspendedYield",b="executing",g="completed",v={};function w(){}function _(){}function S(){}var E={};l(E,u,(function(){return this}));var k=Object.getPrototypeOf,A=k&&k(k(U([])));A&&A!==o&&s.call(A,u)&&(E=A);var x=S.prototype=w.prototype=Object.create(E);function I(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,r){function n(i,o,a,c){var u=p(e[i],e,o);if("throw"!==u.type){var d=u.arg,f=d.value;return f&&"object"==t(f)&&s.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):r.resolve(f).then((function(e){d.value=e,a(d)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,t){function o(){return new r((function(r,i){n(e,t,r,i)}))}return i=i?i.then(o,o):o()}})}function O(e,t,r){var i=y;return function(o,s){if(i===b)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:n,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=P(a,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===y)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=b;var u=p(e,t,r);if("normal"===u.type){if(i=r.done?g:m,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=g,r.method="throw",r.arg=u.arg)}}}function P(e,t){var r=t.method,i=e.iterator[r];if(i===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=n,P(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=p(i,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var s=o.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function U(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(s.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}throw new TypeError(t(e)+" is not iterable")}return _.prototype=S,a(x,"constructor",{value:S,configurable:!0}),a(S,"constructor",{value:_,configurable:!0}),_.displayName=l(S,f,"GeneratorFunction"),i.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,l(e,f,"GeneratorFunction")),e.prototype=Object.create(x),e},i.awrap=function(e){return{__await:e}},I(T.prototype),l(T.prototype,d,(function(){return this})),i.AsyncIterator=T,i.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var s=new T(h(e,t,r,n),o);return i.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},I(x),l(x,f,"Generator"),l(x,u,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),i.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},i.values=U,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return a.type="throw",a.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;R(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:U(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}},i}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(rL)),rL.exports}var sL,aL={exports:{}};var cL,uL={exports:{}};function dL(){return cL||(cL=1,function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}(uL)),uL.exports}var fL,lL,hL,pL={exports:{}},yL={exports:{}},mL={exports:{}};function bL(){return lL||(lL=1,function(e){var t=iL().default,r=(fL||(fL=1,function(e){var t=iL().default;e.exports=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(mL)),mL.exports);e.exports=function(e){var n=r(e,"string");return"symbol"===t(n)?n:String(n)},e.exports.__esModule=!0,e.exports.default=e.exports}(yL)),yL.exports}function gL(){return hL||(hL=1,function(e){var t=bL();function r(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,t(i.key),i)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}(pL)),pL.exports}var vL,wL,_L={exports:{}},SL={exports:{}};function EL(){return wL||(wL=1,function(e){var t=(vL||(vL=1,function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(SL)),SL.exports);e.exports=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&t(e,r)},e.exports.__esModule=!0,e.exports.default=e.exports}(_L)),_L.exports}var kL,AL,xL={exports:{}},IL={exports:{}};function TL(){return AL||(AL=1,function(e){var t=iL().default,r=(kL||(kL=1,function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}(IL)),IL.exports);e.exports=function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(xL)),xL.exports}var OL,PL={exports:{}};function ML(){return OL||(OL=1,function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(PL)),PL.exports}!function(e){var t=tL;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(function(){if(eL)return $C;eL=1;var e=oL()();$C=e;try{regeneratorRuntime=e}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}return $C}()),n=t((sL||(sL=1,function(e){function t(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,o){var s=e.apply(r,n);function a(e){t(s,i,o,a,c,"next",e)}function c(e){t(s,i,o,a,c,"throw",e)}a(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}(aL)),aL.exports)),i=t(iL()),o=t(dL()),s=t(gL()),a=t(EL()),c=t(TL()),u=t(ML());function d(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}();return function(){var r,n=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var f=function(e){(0,a.default)(u,e);var t,c=d(u);function u(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;(0,o.default)(this,u);var s=n.autoconnect,a=void 0===s||s,d=n.reconnect,f=void 0===d||d,l=n.reconnect_interval,h=void 0===l?1e3:l,p=n.max_reconnects,y=void 0===p?5:p,m=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(n,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(t=c.call(this)).webSocketFactory=e,t.queue={},t.rpc_id=0,t.address=r,t.autoconnect=a,t.ready=!1,t.reconnect=f,t.reconnect_timer_id=void 0,t.reconnect_interval=h,t.max_reconnects=y,t.rest_options=m,t.current_reconnects=0,t.generate_request_id=i||function(){return++t.rpc_id},t.autoconnect&&t._connect(t.address,Object.assign({autoconnect:t.autoconnect,reconnect:t.reconnect,reconnect_interval:t.reconnect_interval,max_reconnects:t.max_reconnects},t.rest_options)),t}return(0,s.default)(u,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(e,t,r,n){var o=this;return!n&&"object"===(0,i.default)(r)&&(n=r,r=null),new Promise((function(i,s){if(!o.ready)return s(new Error("socket not ready"));var a=o.generate_request_id(e,t),c={jsonrpc:"2.0",method:e,params:t||null,id:a};o.socket.send(JSON.stringify(c),n,(function(e){if(e)return s(e);o.queue[a]={promise:[i,s]},r&&(o.queue[a].timeout=setTimeout((function(){delete o.queue[a],s(new Error("reply timeout"))}),r))}))}))}},{key:"login",value:(t=(0,n.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("rpc.login",t);case 2:if(n=e.sent){e.next=5;break}throw new Error("authentication failed");case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"listMethods",value:function(){var e=(0,n.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("__listMethods");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notify",value:function(e,t){var r=this;return new Promise((function(n,i){if(!r.ready)return i(new Error("socket not ready"));var o={jsonrpc:"2.0",method:e,params:t||null};r.socket.send(JSON.stringify(o),(function(e){if(e)return i(e);n()}))}))}},{key:"subscribe",value:function(){var e=(0,n.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t=[t]),e.next=3,this.call("rpc.on",t);case 3:if(n=e.sent,"string"!=typeof t||"ok"===n[t]){e.next=6;break}throw new Error("Failed subscribing to an event '"+t+"' with: "+n[t]);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=(0,n.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t=[t]),e.next=3,this.call("rpc.off",t);case 3:if(n=e.sent,"string"!=typeof t||"ok"===n[t]){e.next=6;break}throw new Error("Failed unsubscribing from an event with: "+n);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(e,t){this.socket.close(e||1e3,t)}},{key:"_connect",value:function(e,t){var r=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",(function(){r.ready=!0,r.emit("open"),r.current_reconnects=0})),this.socket.addEventListener("message",(function(e){var t=e.data;t instanceof ArrayBuffer&&(t=Hn.from(t).toString());try{t=JSON.parse(t)}catch{return}if(t.notification&&r.listeners(t.notification).length){if(!Object.keys(t.params).length)return r.emit(t.notification);var n=[t.notification];if(t.params.constructor===Object)n.push(t.params);else for(var i=0;i<t.params.length;i++)n.push(t.params[i]);return Promise.resolve().then((function(){r.emit.apply(r,n)}))}if(!r.queue[t.id])return t.method&&t.params?Promise.resolve().then((function(){r.emit(t.method,t.params)})):void 0;"error"in t=="result"in t&&r.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),r.queue[t.id].timeout&&clearTimeout(r.queue[t.id].timeout),t.error?r.queue[t.id].promise[1](t.error):r.queue[t.id].promise[0](t.result),delete r.queue[t.id]})),this.socket.addEventListener("error",(function(e){return r.emit("error",e)})),this.socket.addEventListener("close",(function(n){var i=n.code,o=n.reason;r.ready&&setTimeout((function(){return r.emit("close",i,o)}),0),r.ready=!1,r.socket=void 0,1e3!==i&&(r.current_reconnects++,r.reconnect&&(r.max_reconnects>r.current_reconnects||0===r.max_reconnects)&&(r.reconnect_timer_id=setTimeout((function(){return r._connect(e,t)}),r.reconnect_interval)))}))}}]),u}(Vy.EventEmitter);e.default=f}(JC);const RL=cr(JC);var BL={};!function(e){var t=tL;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){return new c(e,t)};var r=t(dL()),n=t(gL()),i=t(EL()),o=t(TL()),s=t(ML());function a(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}var c=function(e){(0,i.default)(o,e);var t=a(o);function o(e,n,i){var s;return(0,r.default)(this,o),(s=t.call(this)).socket=new window.WebSocket(e,i),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(e){return s.emit("message",e.data)},s.socket.onerror=function(e){return s.emit("error",e)},s.socket.onclose=function(e){s.emit("close",e.code,e.reason)},s}return(0,n.default)(o,[{key:"send",value:function(e,t,r){var n=r||t;try{this.socket.send(e),n()}catch(e){n(e)}}},{key:"close",value:function(e,t){this.socket.close(e,t)}},{key:"addEventListener",value:function(e,t,r){this.socket.addEventListener(e,t,r)}}]),o}(Vy.EventEmitter)}(BL);const UL=cr(BL),[NL,jL,CL]=[[],[],[]],LL=BigInt(0),DL=BigInt(1),FL=BigInt(2),WL=BigInt(7),zL=BigInt(256),qL=BigInt(113);for(let e=0,t=DL,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],NL.push(2*(5*n+r)),jL.push((e+1)*(e+2)/2%64);let i=LL;for(let e=0;e<7;e++)t=(t<<DL^(t>>WL)*qL)%zL,t&FL&&(i^=DL<<(DL<<BigInt(e))-DL);CL.push(i)}const[VL,KL]=PN(CL,!0),ZL=(e,t,r)=>r>32?BN(e,t,r):MN(e,t,r),HL=(e,t,r)=>r>32?UN(e,t,r):RN(e,t,r);class GL extends EN{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,lN(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)))(this.state)}keccak(){(function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,o=r[i],s=r[i+1],a=ZL(o,s,1)^r[n],c=HL(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=jL[r],o=ZL(t,i,n),s=HL(t,i,n),a=NL[r];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=VL[n],e[1]^=KL[n]}r.fill(0)})(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){pN(this);const{blockLen:t,state:r}=this,n=(e=_N(e)).length;for(let i=0;i<n;){const o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){pN(this,!1),hN(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return lN(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(yN(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new GL(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}const JL=(e,t,r)=>kN((()=>new GL(t,e,r))),QL=JL(1,136,32);const{bytesToNumberBE:YL,hexToBytes:XL}=mj,$L={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=$L;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:YL(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=$L,r="string"==typeof e?XL(e):e;if(!KN(r))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=$L._parseInt(r.subarray(2)),{d:s,l:a}=$L._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),c=r(s);return`30${r(s+o+4)}02${c}${i}02${a}${n}`}},eD=BigInt(0),tD=BigInt(1);BigInt(2);const rD=BigInt(3);function nD(e){const t=function(e){const t=Cj(e);yj(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{const i=t.toAffine();return uj(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){const{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&eD<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:o}=t;if(r&&"bigint"!=typeof e){if(KN(e)&&(e=HN(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let s;try{s="bigint"==typeof e?e:ij(cj("private key",e,n))}catch{throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return i&&(s=kj(s,o)),a(s),s}const u=new Map;function d(e){if(!(e instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof f)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?f.ZERO:new f(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(f.fromAffine)}static fromHex(e){const t=f.fromAffine(i(cj("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),s=o(e);if(!r.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){d(e);const{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(o,i)),u=r.eql(r.mul(n,a),r.mul(s,i));return c&&u}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,rD),{px:o,py:s,pz:a}=this;let c=r.ZERO,u=r.ZERO,d=r.ZERO,l=r.mul(o,o),h=r.mul(s,s),p=r.mul(a,a),y=r.mul(o,s);return y=r.add(y,y),d=r.mul(o,a),d=r.add(d,d),c=r.mul(e,d),u=r.mul(i,p),u=r.add(c,u),c=r.sub(h,u),u=r.add(h,u),u=r.mul(c,u),c=r.mul(y,c),d=r.mul(i,d),p=r.mul(e,p),y=r.sub(l,p),y=r.mul(e,y),y=r.add(y,d),d=r.add(l,l),l=r.add(d,l),l=r.add(l,p),l=r.mul(l,y),u=r.add(u,l),p=r.mul(s,a),p=r.add(p,p),l=r.mul(p,y),c=r.sub(c,l),d=r.mul(p,h),d=r.add(d,d),d=r.add(d,d),new f(c,u,d)}add(e){d(e);const{px:n,py:i,pz:o}=this,{px:s,py:a,pz:c}=e;let u=r.ZERO,l=r.ZERO,h=r.ZERO;const p=t.a,y=r.mul(t.b,rD);let m=r.mul(n,s),b=r.mul(i,a),g=r.mul(o,c),v=r.add(n,i),w=r.add(s,a);v=r.mul(v,w),w=r.add(m,b),v=r.sub(v,w),w=r.add(n,o);let _=r.add(s,c);return w=r.mul(w,_),_=r.add(m,g),w=r.sub(w,_),_=r.add(i,o),u=r.add(a,c),_=r.mul(_,u),u=r.add(b,g),_=r.sub(_,u),h=r.mul(p,w),u=r.mul(y,g),h=r.add(u,h),u=r.sub(b,h),h=r.add(b,h),l=r.mul(u,h),b=r.add(m,m),b=r.add(b,m),g=r.mul(p,g),w=r.mul(y,w),b=r.add(b,g),g=r.sub(m,g),g=r.mul(p,g),w=r.add(w,g),m=r.mul(b,w),l=r.add(l,m),m=r.mul(_,w),u=r.mul(v,u),u=r.sub(u,m),m=r.mul(v,b),h=r.mul(_,h),h=r.add(h,m),new f(u,l,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return h.wNAFCached(this,u,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(f.fromAffine)}))}multiplyUnsafe(e){const n=f.ZERO;if(e===eD)return n;if(a(e),e===tD)return this;const{endo:i}=t;if(!i)return h.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:c,k2:u}=i.splitScalar(e),d=n,l=n,p=this;for(;s>eD||u>eD;)s&tD&&(d=d.add(p)),u&tD&&(l=l.add(p)),p=p.double(),s>>=tD,u>>=tD;return o&&(d=d.negate()),c&&(l=l.negate()),l=new f(r.mul(l.px,i.beta),l.py,l.pz),d.add(l)}multiply(e){a(e);let n,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(o);let{p:u,f:d}=this.wNAF(t),{p:l,f:p}=this.wNAF(c);u=h.constTimeNegate(e,u),l=h.constTimeNegate(a,l),l=new f(r.mul(l.px,s.beta),l.py,l.pz),n=u.add(l),i=d.add(p)}else{const{p:e,f:t}=this.wNAF(o);n=e,i=t}return f.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=f.BASE,i=(e,t)=>t!==eD&&t!==tD&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){const{px:t,py:n,pz:i}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(i));const s=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===tD)return!0;if(r)return r(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===tD?this:r?r(f,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(f,this,e)}toHex(e=!0){return HN(this.toRawBytes(e))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const l=t.nBitLength,h=jj(f,t.endo?Math.ceil(l/2):l);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function iD(e){const t=function(e){const t=Cj(e);return yj(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(e){return kj(e,n)}function a(e){return Ij(e,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=nD({...t,toBytes(e,t,n){const i=t.toAffine(),o=r.toBytes(i.x),s=uj;return n?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],s=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===o&&4===n){return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=ij(s);if(!function(e){return eD<e&&e<r.ORDER}(e))throw new Error("Point is not on curve");const t=d(e);let i=r.sqrt(t);return!(1&~n)!==((i&tD)===tD)&&(i=r.neg(i)),{x:e,y:i}}}}),l=e=>HN(sj(e,t.nByteLength));function h(e){return e>n>>tD}const p=(e,t,r)=>ij(e.slice(t,r));class y{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=cj("compactSignature",e,2*r),new y(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=$L.toSig(cj("DER",e));return new y(t,r)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:o}=this,u=v(cj("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const d=2===o||3===o?n+t.n:n;if(d>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=1&o?"03":"02",h=c.fromHex(f+l(d)),p=a(d),y=s(-u*p),m=s(i*p),b=c.BASE.multiplyAndAddUnsafe(h,y,m);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return nj(this.toDERHex())}toDERHex(){return $L.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return nj(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const m={isValidPrivateKey(e){try{return u(e),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Bj(t.n);return function(e,t,r=!1){const n=e.length,i=Rj(t),o=Bj(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const s=kj(r?ij(e):oj(e),t-gj)+gj;return r?aj(s,i):sj(s,i)}(t.randomBytes(e),t.n)},precompute(e=8,t=c.BASE){return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function b(e){const t=KN(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof c}const g=t.bits2int||function(e){const r=ij(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},v=t.bits2int_modN||function(e){return s(g(e))},w=dj(t.nBitLength);function _(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(eD<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return sj(e,t.nByteLength)}function S(e,n,i=E){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:d}=t;let{lowS:l,prehash:p,extraEntropy:m}=i;null==l&&(l=!0),e=cj("msgHash",e),p&&(e=cj("prehashed msgHash",o(e)));const b=v(e),w=u(n),S=[_(w),_(b)];if(null!=m){const e=!0===m?d(r.BYTES):m;S.push(cj("extraEntropy",e))}const k=uj(...S),A=b;return{seed:k,k2sig:function(e){const t=g(e);if(!f(t))return;const r=a(t),n=c.BASE.multiply(t).toAffine(),i=s(n.x);if(i===eD)return;const o=s(r*s(A+i*w));if(o===eD)return;let u=(n.x===i?0:2)|Number(n.y&tD),d=o;return l&&h(o)&&(d=function(e){return h(e)?s(-e):e}(o),u^=1),new y(i,d,u)}}}const E={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(b(e))throw new Error("first arg must be private key");if(!b(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,r,n=E){const{seed:i,k2sig:o}=S(e,r,n),s=t;return hj(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(e,r,n,i=k){var o;const u=e;if(r=cj("msgHash",r),n=cj("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:d,prehash:f}=i;let l,h;try{if("string"==typeof u||KN(u))try{l=y.fromDER(u)}catch(e){if(!(e instanceof $L.Err))throw e;l=y.fromCompact(u)}else{if("object"!=typeof u||"bigint"!=typeof u.r||"bigint"!=typeof u.s)throw new Error("PARSE");{const{r:e,s:t}=u;l=new y(e,t)}}h=c.fromHex(n)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(d&&l.hasHighS())return!1;f&&(r=t.hash(r));const{r:p,s:m}=l,b=v(r),g=a(m),w=s(b*g),_=s(p*g),S=null==(o=c.BASE.multiplyAndAddUnsafe(h,w,_))?void 0:o.toAffine();return!!S&&s(S.x)===p},ProjectivePoint:c,Signature:y,utils:m}}BigInt(4);class oD extends EN{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");lN(e.outputLen),lN(e.blockLen)}(e);const r=_N(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return pN(this),this.iHash.update(e),this}digestInto(e){pN(this),hN(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const sD=(e,t,r)=>new oD(e,t).update(r).digest();function aD(e){return{hash:e,hmac:(t,...r)=>sD(e,t,SN(...r)),randomBytes:AN}}sD.create=(e,t)=>new oD(e,t);const cD=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),uD=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),dD=BigInt(1),fD=BigInt(2),lD=(e,t)=>(e+t/fD)/t;const hD=Mj(cD,void 0,void 0,{sqrt:function(e){const t=cD,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,f=xj(d,r,t)*d%t,l=xj(f,r,t)*d%t,h=xj(l,fD,t)*u%t,p=xj(h,i,t)*h%t,y=xj(p,o,t)*p%t,m=xj(y,a,t)*y%t,b=xj(m,c,t)*m%t,g=xj(b,a,t)*y%t,v=xj(g,r,t)*d%t,w=xj(v,s,t)*p%t,_=xj(w,n,t)*u%t,S=xj(_,fD,t);if(!hD.eql(hD.sqr(S),e))throw new Error("Cannot find square root");return S}}),pD=function(e,t){const r=t=>iD({...e,...aD(t)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:hD,n:uD,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=uD,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-dD*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=lD(o*e,t),c=lD(-n*e,t);let u=kj(e-a*r-c*i,t),d=kj(-a*n-c*o,t);const f=u>s,l=d>s;if(f&&(u=t-u),l&&(d=t-d),u>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:l,k2:d}}}},uC);BigInt(0),pD.ProjectivePoint;const yD=tC.utils.randomPrivateKey,mD=()=>{const e=tC.utils.randomPrivateKey(),t=bD(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},bD=tC.getPublicKey;function gD(e){try{return tC.ExtendedPoint.fromHex(e),!0}catch{return!1}}const vD=(e,t)=>tC.sign(e,t.slice(0,32)),wD=tC.verify,_D=e=>Gn.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Gn.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Gn.Buffer.from(e);class SD{constructor(e){Object.assign(this,e)}encode(){return Gn.Buffer.from(dp(ED,this))}static decode(e){return hp(ED,this,e)}static decodeUnchecked(e){return Jh(ED,this,e)}}const ED=new Map;var kD;let AD;const xD=32;let ID=1;AD=Symbol.toStringTag;class TD extends SD{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=Mh.decode(e);if(t.length!=xD)throw new Error("Invalid public key input");this._bn=new ld(t)}else this._bn=new ld(e);if(this._bn.byteLength()>xD)throw new Error("Invalid public key input")}}static unique(){const e=new TD(ID);return ID+=1,new TD(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Mh.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Gn.Buffer);if(e.length===xD)return e;const t=Gn.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[AD](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=Gn.Buffer.concat([e.toBuffer(),Gn.Buffer.from(t),r.toBuffer()]),i=uC(n);return new TD(i)}static createProgramAddressSync(e,t){let r=Gn.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=Gn.Buffer.concat([r,_D(e)])})),r=Gn.Buffer.concat([r,t.toBuffer(),Gn.Buffer.from("ProgramDerivedAddress")]);const n=uC(r);if(gD(n))throw new Error("Invalid seeds, address must fall off the curve");return new TD(n)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(Gn.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return gD(new TD(e).toBytes())}}kD=TD,TD.default=new kD("11111111111111111111111111111111"),ED.set(TD,{kind:"struct",fields:[["_bn","u256"]]});const OD=new TD("BPFLoader1111111111111111111111111111111111"),PD=1232,MD=127,RD=64;class BD extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(BD.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class UD extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(UD.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ND extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ND.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class jD{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,r)=>{t.set(e.toBase58(),r)}));const r=e=>{const r=t.get(e.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return e.map((e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map((e=>r(e.pubkey))),data:e.data})))}}const CD=(e="publicKey")=>sy(32,e),LD=(e="signature")=>sy(64,e),DD=(e="string")=>{const t=iy([ty("length"),ty("lengthPadding"),sy(Xp(ty(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(e,t)=>r(e,t).chars.toString(),i.encode=(e,t,r)=>{const i={chars:Gn.Buffer.from(e,"utf8")};return n(i,t,r)},i.alloc=e=>ty().span+ty().span+Gn.Buffer.from(e,"utf8").length,i};function FD(e,t){const r=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const n=t[e.property];if(Array.isArray(n))return n.length*r(e.elementLayout)}else if("fields"in e)return FD({layout:e},t[e.property]);return 0};let n=0;return e.layout.fields.forEach((e=>{n+=r(e)})),n}function WD(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,!(128&n))break}return t}function zD(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}function qD(e,t){if(!e)throw new Error(t||"Assertion failed")}class VD{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,n=e=>{const t=e.toBase58();let n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},i=n(t);i.isSigner=!0,i.isWritable=!0;for(const t of e){n(t.programId).isInvoked=!0;for(const e of t.keys){const t=n(e.pubkey);t.isSigner||(t.isSigner=e.isSigner),t.isWritable||(t.isWritable=e.isWritable)}}return new VD(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];qD(e.length<=256,"Max static account keys length exceeded");const t=e.filter((([,e])=>e.isSigner&&e.isWritable)),r=e.filter((([,e])=>e.isSigner&&!e.isWritable)),n=e.filter((([,e])=>!e.isSigner&&e.isWritable)),i=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{qD(t.length>0,"Expected at least one writable signer key");const[e]=t[0];qD(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...t.map((([e])=>new TD(e))),...r.map((([e])=>new TD(e))),...n.map((([e])=>new TD(e))),...i.map((([e])=>new TD(e)))]]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,n=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const t=new TD(i),o=e.findIndex((e=>e.equals(t)));o>=0&&(qD(o<256,"Max lookup table index exceeded"),r.push(o),n.push(t),this.keyMetaMap.delete(i))}return[r,n]}}class KD{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new TD(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Mh.decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new jD(this.staticAccountKeys)}static compile(e){const t=VD.compile(e.instructions,e.payerKey),[r,n]=t.getMessageComponents(),i=new jD(n).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:Mh.encode(e.data)})));return new KD({header:r,accountKeys:n,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];zD(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(Mh.decode(e.data));let i=[];zD(i,t.length);let o=[];return zD(o,n.length),{programIdIndex:r,keyIndicesCount:Gn.Buffer.from(i),keyIndices:t,dataLength:Gn.Buffer.from(o),data:n}}));let n=[];zD(n,r.length);let i=Gn.Buffer.alloc(PD);Gn.Buffer.from(n).copy(i);let o=n.length;r.forEach((e=>{const t=iy([$p("programIdIndex"),sy(e.keyIndicesCount.length,"keyIndicesCount"),oy($p("keyIndex"),e.keyIndices.length,"keyIndices"),sy(e.dataLength.length,"dataLength"),oy($p("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);const s=iy([sy(1,"numRequiredSignatures"),sy(1,"numReadonlySignedAccounts"),sy(1,"numReadonlyUnsignedAccounts"),sy(t.length,"keyCount"),oy(CD("key"),e,"keys"),CD("recentBlockhash")]),a={numRequiredSignatures:Gn.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Gn.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Gn.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Gn.Buffer.from(t),keys:this.accountKeys.map((e=>_D(e.toBytes()))),recentBlockhash:Mh.decode(this.recentBlockhash)};let c=Gn.Buffer.alloc(2048);const u=s.encode(a,c);return i.copy(c,u),c.slice(0,u+i.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(r&MD))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const n=t.shift(),i=t.shift(),o=WD(t);let s=[];for(let e=0;e<o;e++){const e=t.slice(0,xD);t=t.slice(xD),s.push(new TD(Gn.Buffer.from(e)))}const a=t.slice(0,xD);t=t.slice(xD);const c=WD(t);let u=[];for(let e=0;e<c;e++){const e=t.shift(),r=WD(t),n=t.slice(0,r);t=t.slice(r);const i=WD(t),o=t.slice(0,i),s=Mh.encode(Gn.Buffer.from(o));t=t.slice(i),u.push({programIdIndex:e,accounts:n,data:s})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:Mh.encode(Gn.Buffer.from(a)),accountKeys:s,instructions:u};return new KD(d)}}class ZD{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new jD(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){return e-r<this.addressTableLookups.reduce(((e,t)=>e+t.writableIndexes.length),0)}if(e>=this.header.numRequiredSignatures){return e-t<r-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const n=e.find((e=>e.key.equals(r.accountKey)));if(!n)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const e of r.writableIndexes){if(!(e<n.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);t.writable.push(n.state.addresses[e])}for(const e of r.readonlyIndexes){if(!(e<n.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);t.readonly.push(n.state.addresses[e])}}return t}static compile(e){const t=VD.compile(e.instructions,e.payerKey),r=new Array,n={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const e of i){const i=t.extractTableLookup(e);if(void 0!==i){const[e,{writable:t,readonly:o}]=i;r.push(e),n.writable.push(...t),n.readonly.push(...o)}}const[o,s]=t.getMessageComponents(),a=new jD(s,n).compileInstructions(e.instructions);return new ZD({header:o,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){const e=Array();zD(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();zD(r,this.compiledInstructions.length);const n=this.serializeAddressTableLookups(),i=Array();zD(i,this.addressTableLookups.length);const o=iy([$p("prefix"),iy([$p("numRequiredSignatures"),$p("numReadonlySignedAccounts"),$p("numReadonlyUnsignedAccounts")],"header"),sy(e.length,"staticAccountKeysLength"),oy(CD(),this.staticAccountKeys.length,"staticAccountKeys"),CD("recentBlockhash"),sy(r.length,"instructionsLength"),sy(t.length,"serializedInstructions"),sy(i.length,"addressTableLookupsLength"),sy(n.length,"serializedAddressTableLookups")]),s=new Uint8Array(PD),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:Mh.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},s);return s.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(PD);for(const r of this.compiledInstructions){const n=Array();zD(n,r.accountKeyIndexes.length);const i=Array();zD(i,r.data.length);e+=iy([$p("programIdIndex"),sy(n.length,"encodedAccountKeyIndexesLength"),oy($p(),r.accountKeyIndexes.length,"accountKeyIndexes"),sy(i.length,"encodedDataLength"),sy(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(PD);for(const r of this.addressTableLookups){const n=Array();zD(n,r.writableIndexes.length);const i=Array();zD(i,r.readonlyIndexes.length);e+=iy([CD("accountKey"),sy(n.length,"encodedWritableIndexesLength"),oy($p(),r.writableIndexes.length,"writableIndexes"),sy(i.length,"encodedReadonlyIndexesLength"),oy($p(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=t.shift(),n=r&MD;qD(r!==n,"Expected versioned message but received legacy message");qD(0===n,`Expected versioned message with version 0 but found version ${n}`);const i={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},o=[],s=WD(t);for(let e=0;e<s;e++)o.push(new TD(t.splice(0,xD)));const a=Mh.encode(t.splice(0,xD)),c=WD(t),u=[];for(let e=0;e<c;e++){const e=t.shift(),r=WD(t),n=t.splice(0,r),i=WD(t),o=new Uint8Array(t.splice(0,i));u.push({programIdIndex:e,accountKeyIndexes:n,data:o})}const d=WD(t),f=[];for(let e=0;e<d;e++){const e=new TD(t.splice(0,xD)),r=WD(t),n=t.splice(0,r),i=WD(t),o=t.splice(0,i);f.push({accountKey:e,writableIndexes:n,readonlyIndexes:o})}return new ZD({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:u,addressTableLookups:f})}}const HD={deserializeMessageVersion(e){const t=e[0],r=t&MD;return r===t?"legacy":r},deserialize:e=>{const t=HD.deserializeMessageVersion(e);if("legacy"===t)return KD.from(e);if(0===t)return ZD.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let GD=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const JD=Gn.Buffer.alloc(RD).fill(0);class QD{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Gn.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}}class YD{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new QD(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const n=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new TD(e),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),r=o.findIndex((e=>e.pubkey.toString()===t));r>-1?(o[r].isWritable=o[r].isWritable||e.isWritable,o[r].isSigner=o[r].isSigner||e.isSigner):o.push(e)})),o.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const s=o.findIndex((e=>e.pubkey.equals(r)));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=o.findIndex((t=>t.pubkey.equals(e.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);o[t].isSigner||(o[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const d=[],f=[];o.forEach((({pubkey:e,isSigner:t,isWritable:r})=>{t?(d.push(e.toString()),a+=1,r||(c+=1)):(f.push(e.toString()),r||(u+=1))}));const l=d.concat(f),h=t.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:l.indexOf(r.toString()),accounts:e.keys.map((e=>l.indexOf(e.pubkey.toString()))),data:Mh.encode(t)}}));return h.forEach((e=>{qD(e.programIdIndex>=0),e.accounts.forEach((e=>qD(e>=0)))})),new KD({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:l,recentBlockhash:e,instructions:h})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every(((e,r)=>t[r].equals(e.publicKey)))||(this.signatures=t.map((e=>({signature:null,publicKey:e})))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter((e=>{const r=e.toString();return!t.has(r)&&(t.add(r),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}this.signatures=r.map((e=>({signature:null,publicKey:e.publicKey})));const n=this._compile();this._partialSign(n,...r)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}const n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach((e=>{const t=vD(r,e.secretKey);this._addSignature(e.publicKey,_D(t))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){qD(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Gn.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),void 0===e||e)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!wD(r,e,n.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];zD(r,t.length);const n=r.length+64*t.length+e.length,i=Gn.Buffer.alloc(n);return qD(t.length<256),Gn.Buffer.from(r).copy(i,0),t.forEach((({signature:e},t)=>{null!==e&&(qD(64===e.length,"signature has invalid length"),Gn.Buffer.from(e).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),qD(i.length<=PD,`Transaction too large: ${i.length} > 1232`),i}get keys(){return qD(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return qD(1===this.instructions.length),this.instructions[0].programId}get data(){return qD(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=WD(t);let n=[];for(let e=0;e<r;e++){const e=t.slice(0,RD);t=t.slice(RD),n.push(Mh.encode(Gn.Buffer.from(e)))}return YD.populate(KD.from(t),n)}static populate(e,t=[]){const r=new YD;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==Mh.encode(JD)?null:Mh.decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new QD({keys:n,programId:e.accountKeys[t.programIdIndex],data:Mh.decode(t.data)}))})),r._message=e,r._json=r.toJSON(),r}}class XD{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:n,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:a}=r,c=o-s;qD(c>0,"Message header is invalid");const u=e.staticAccountKeys.length-o-a;qD(u>=0,"Message header is invalid");const d=e.getAccountKeys(t),f=d.get(0);if(void 0===f)throw new Error("Failed to decompile message because no account keys were found");const l=[];for(const e of n){const t=[];for(const n of e.accountKeyIndexes){const e=d.get(n);if(void 0===e)throw new Error(`Failed to find key for account key index ${n}`);let i;i=n<o?n<c:n<d.staticAccountKeys.length?n-o<u:n-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,t.push({pubkey:e,isSigner:n<r.numRequiredSignatures,isWritable:i})}const n=d.get(e.programIdIndex);if(void 0===n)throw new Error(`Failed to find program id for program id index ${e.programIdIndex}`);l.push(new QD({programId:n,data:_D(e.data),keys:t}))}return new XD({payerKey:f,instructions:l,recentBlockhash:i})}compileToLegacyMessage(){return KD.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return ZD.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class $D{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)qD(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let r=0;r<e.header.numRequiredSignatures;r++)t.push(new Uint8Array(RD));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();zD(t,this.signatures.length);const r=iy([sy(t.length,"encodedSignaturesLength"),oy(LD(),this.signatures.length,"signatures"),sy(e.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},n);return n.slice(0,i)}static deserialize(e){let t=[...e];const r=[],n=WD(t);for(let e=0;e<n;e++)r.push(new Uint8Array(t.splice(0,RD)));const i=HD.deserialize(new Uint8Array(t));return new $D(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const n of e){const e=r.findIndex((e=>e.equals(n.publicKey)));qD(e>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[e]=vD(t,n.secretKey)}}addSignature(e,t){qD(64===t.byteLength,"Signature must be 64 bytes long");const r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((t=>t.equals(e)));qD(r>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[r]=t}}const eF=new TD("SysvarC1ock11111111111111111111111111111111"),tF=new TD("SysvarEpochSchedu1e111111111111111111111111"),rF=new TD("Sysvar1nstructions1111111111111111111111111"),nF=new TD("SysvarRecentB1ockHashes11111111111111111111"),iF=new TD("SysvarRent111111111111111111111111111111111"),oF=new TD("SysvarRewards111111111111111111111111111111"),sF=new TD("SysvarS1otHashes111111111111111111111111111"),aF=new TD("SysvarS1otHistory11111111111111111111111111"),cF=new TD("SysvarStakeHistory1111111111111111111111111");async function uF(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await e.sendTransaction(t,r,i);let s;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)s=(await e.confirmTransaction({abortSignal:null==n?void 0:n.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:r}=t.nonceInfo,i=r.keys[0].pubkey;s=(await e.confirmTransaction({abortSignal:null==n?void 0:n.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else null!=(null==n?void 0:n.abortSignal)&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await e.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function dF(e){return new Promise((t=>setTimeout(t,e)))}function fF(e,t){const r=e.layout.span>=0?e.layout.span:FD(e,t),n=Gn.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}function lF(e,t){let r;try{r=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(r.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${e.index}`);return r}const hF=ry("lamportsPerSignature"),pF=iy([ty("version"),ty("state"),CD("authorizedPubkey"),CD("nonce"),iy([hF],"feeCalculator")]),yF=pF.span;class mF{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=pF.decode(_D(e),0);return new mF({authorizedPubkey:new TD(t.authorizedPubkey),nonce:new TD(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const bF=(e=>t=>{const r=sy(e,t),{encode:n,decode:i}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(r),o=r;return o.decode=(e,t)=>{const r=i(e,t);return fC(Gn.Buffer.from(r))},o.encode=(t,r,i)=>{const o=lC(t,e);return n(o,r,i)},o})(8);const gF=Object.freeze({Create:{index:0,layout:iy([ty("instruction"),ny("lamports"),ny("space"),CD("programId")])},Assign:{index:1,layout:iy([ty("instruction"),CD("programId")])},Transfer:{index:2,layout:iy([ty("instruction"),bF("lamports")])},CreateWithSeed:{index:3,layout:iy([ty("instruction"),CD("base"),DD("seed"),ny("lamports"),ny("space"),CD("programId")])},AdvanceNonceAccount:{index:4,layout:iy([ty("instruction")])},WithdrawNonceAccount:{index:5,layout:iy([ty("instruction"),ny("lamports")])},InitializeNonceAccount:{index:6,layout:iy([ty("instruction"),CD("authorized")])},AuthorizeNonceAccount:{index:7,layout:iy([ty("instruction"),CD("authorized")])},Allocate:{index:8,layout:iy([ty("instruction"),ny("space")])},AllocateWithSeed:{index:9,layout:iy([ty("instruction"),CD("base"),DD("seed"),ny("space"),CD("programId")])},AssignWithSeed:{index:10,layout:iy([ty("instruction"),CD("base"),DD("seed"),CD("programId")])},TransferWithSeed:{index:11,layout:iy([ty("instruction"),bF("lamports"),DD("seed"),CD("programId")])},UpgradeNonceAccount:{index:12,layout:iy([ty("instruction")])}});class vF{constructor(){}static createAccount(e){const t=fF(gF.Create,{lamports:e.lamports,space:e.space,programId:_D(e.programId.toBuffer())});return new QD({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=fF(gF.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:_D(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=fF(gF.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new QD({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=fF(gF.AssignWithSeed,{base:_D(e.basePubkey.toBuffer()),seed:e.seed,programId:_D(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=fF(gF.Assign,{programId:_D(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new QD({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=fF(gF.CreateWithSeed,{base:_D(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:_D(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new QD({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new YD;"basePubkey"in e&&"seed"in e?t.add(vF.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:yF,programId:this.programId})):t.add(vF.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:yF,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=fF(gF.InitializeNonceAccount,{authorized:_D(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:nF,isSigner:!1,isWritable:!1},{pubkey:iF,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new QD(r)}static nonceAdvance(e){const t=fF(gF.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:nF,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new QD(r)}static nonceWithdraw(e){const t=fF(gF.WithdrawNonceAccount,{lamports:e.lamports});return new QD({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:nF,isSigner:!1,isWritable:!1},{pubkey:iF,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=fF(gF.AuthorizeNonceAccount,{authorized:_D(e.newAuthorizedPubkey.toBuffer())});return new QD({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=fF(gF.AllocateWithSeed,{base:_D(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:_D(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=fF(gF.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new QD({keys:r,programId:this.programId,data:t})}}vF.programId=new TD("11111111111111111111111111111111");class wF{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/wF.chunkSize)+1+1)}static async load(e,t,r,n,i){{const o=await e.getMinimumBalanceForRentExemption(i.length),s=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==i.length&&(a=a||new YD,a.add(vF.allocate({accountPubkey:r.publicKey,space:i.length}))),s.owner.equals(n)||(a=a||new YD,a.add(vF.assign({accountPubkey:r.publicKey,programId:n}))),s.lamports<o&&(a=a||new YD,a.add(vF.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:o-s.lamports})))}else a=(new YD).add(vF.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:o>0?o:1,space:i.length,programId:n}));null!==a&&await uF(e,a,[t,r],{commitment:"confirmed"})}const o=iy([ty("instruction"),ty("offset"),ty("bytesLength"),ty("bytesLengthPadding"),oy($p("byte"),Xp(ty(),-8),"bytes")]),s=wF.chunkSize;let a=0,c=i,u=[];for(;c.length>0;){const i=c.slice(0,s),d=Gn.Buffer.alloc(s+16);o.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},d);const f=(new YD).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:d});u.push(uF(e,f,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await dF(250),a+=s,c=c.slice(s)}await Promise.all(u);{const i=iy([ty("instruction")]),o=Gn.Buffer.alloc(i.span);i.encode({instruction:1},o);const s=(new YD).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:iF,isSigner:!1,isWritable:!1}],programId:n,data:o}),a="processed",c=await e.sendTransaction(s,[t,r],{preflightCommitment:a}),{context:u,value:d}=await e.confirmTransaction({signature:c,lastValidBlockHeight:s.lastValidBlockHeight,blockhash:s.recentBlockhash},a);if(d.err)throw new Error(`Transaction ${c} failed (${JSON.stringify(d)})`);for(;;){try{if(await e.getSlot({commitment:a})>u.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}wF.chunkSize=932;const _F=new TD("BPFLoader2111111111111111111111111111111111");function SF(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var EF=Object.prototype.toString,kF=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function AF(e,t){var r,n,i,o,s,a,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"==typeof e.toJSON)return AF(e.toJSON(),t);if("[object Array]"===(c=EF.call(e))){for(i="[",n=e.length-1,r=0;r<n;r++)i+=AF(e[r],!0)+",";return n>-1&&(i+=AF(e[r],!0)),i+"]"}if("[object Object]"===c){for(n=(o=kF(e).sort()).length,i="",r=0;r<n;)void 0!==(a=AF(e[s=o[r]],!1))&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var xF=function(e){var t=AF(e,!1);if(void 0!==t)return""+t},IF=SF(xF);function TF(e){let t=0;for(;e>1;)e/=2,t++;return t}class OF{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=TF(function(e){return 0===e?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32))}(e+32+1))-TF(32)-1;return[t,e-(this.getSlotsInEpoch(t)-32)]}{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+TF(32)):this.slotsPerEpoch}}class PF extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}class MF extends Error{constructor({code:e,message:t,data:r},n){super(null!=n?`${n}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var RF=globalThis.fetch;class BF extends RL{constructor(e,t,r){super((e=>{const r=UL(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return this.underlyingSocket="socket"in r?r.socket:r,r}),e,t,r),this.underlyingSocket=void 0}call(...e){var t;const r=null==(t=this.underlyingSocket)?void 0:t.readyState;return 1===r?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var t;const r=null==(t=this.underlyingSocket)?void 0:t.readyState;return 1===r?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}class UF{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let r;try{r=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(r.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}(NF,e),r=e.length-56;qD(r>=0,"lookup table is invalid"),qD(r%32==0,"lookup table is invalid");const n=r/32,{addresses:i}=iy([oy(CD(),n,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new TD(t.authority[0]):void 0,addresses:i.map((e=>new TD(e)))}}}const NF={index:1,layout:iy([ty("typeIndex"),bF("deactivationSlot"),ry("lastExtendedSlot"),$p("lastExtendedStartIndex"),$p(),oy(CD(),Xp($p(),-1),"authority")])},jF=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const CF=Wy(Py(TD),jy(),(e=>new TD(e))),LF=Cy([jy(),My("base64")]),DF=Wy(Py(Gn.Buffer),LF,(e=>Gn.Buffer.from(e[0],"base64")));function FF(e){let t,r;if("string"==typeof e)t=e;else if(e){const{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function WF(e){return Dy([Ly({jsonrpc:My("2.0"),id:jy(),result:e}),Ly({jsonrpc:My("2.0"),id:jy(),error:Ly({code:Fy(),message:jy(),data:Uy(Iy())})})])}const zF=WF(Fy());function qF(e){return Wy(WF(e),zF,(t=>"error"in t?t:{...t,result:Ey(t.result,e)}))}function VF(e){return qF(Ly({context:Ly({slot:By()}),value:e}))}function KF(e){return Ly({context:Ly({slot:By()}),value:e})}function ZF(e,t){return 0===e?new ZD({header:t.header,staticAccountKeys:t.accountKeys.map((e=>new TD(e))),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Mh.decode(e.data)}))),addressTableLookups:t.addressTableLookups}):new KD(t)}const HF=Ly({foundation:By(),foundationTerm:By(),initial:By(),taper:By(),terminal:By()}),GF=qF(Ty(Ry(Ly({epoch:By(),effectiveSlot:By(),amount:By(),postBalance:By(),commission:Uy(Ry(By()))})))),JF=Ty(Ly({slot:By(),prioritizationFee:By()})),QF=Ly({total:By(),validator:By(),foundation:By(),epoch:By()}),YF=Ly({epoch:By(),slotIndex:By(),slotsInEpoch:By(),absoluteSlot:By(),blockHeight:Uy(By()),transactionCount:Uy(By())}),XF=Ly({slotsPerEpoch:By(),leaderScheduleSlotOffset:By(),warmup:Oy(),firstNormalEpoch:By(),firstNormalSlot:By()}),$F=Ny(jy(),Ty(By())),eW=Ry(Dy([Ly({}),jy()])),tW=Ly({err:eW}),rW=My("receivedSignature"),nW=Ly({"solana-core":jy(),"feature-set":Uy(By())}),iW=VF(Ly({err:Ry(Dy([Ly({}),jy()])),logs:Ry(Ty(jy())),accounts:Uy(Ry(Ty(Ry(Ly({executable:Oy(),owner:jy(),lamports:By(),data:Ty(jy()),rentEpoch:Uy(By())}))))),unitsConsumed:Uy(By()),returnData:Uy(Ry(Ly({programId:jy(),data:Cy([jy(),My("base64")])})))})),oW=VF(Ly({byIdentity:Ny(jy(),Ty(By())),range:Ly({firstSlot:By(),lastSlot:By()})}));const sW=qF(HF),aW=qF(QF),cW=qF(JF),uW=qF(YF),dW=qF(XF),fW=qF($F),lW=qF(By()),hW=VF(Ly({total:By(),circulating:By(),nonCirculating:By(),nonCirculatingAccounts:Ty(CF)})),pW=Ly({amount:jy(),uiAmount:Ry(By()),decimals:By(),uiAmountString:Uy(jy())}),yW=VF(Ty(Ly({address:CF,amount:jy(),uiAmount:Ry(By()),decimals:By(),uiAmountString:Uy(jy())}))),mW=VF(Ty(Ly({pubkey:CF,account:Ly({executable:Oy(),owner:CF,lamports:By(),data:DF,rentEpoch:By()})}))),bW=Ly({program:jy(),parsed:Fy(),space:By()}),gW=VF(Ty(Ly({pubkey:CF,account:Ly({executable:Oy(),owner:CF,lamports:By(),data:bW,rentEpoch:By()})}))),vW=VF(Ty(Ly({lamports:By(),address:CF}))),wW=Ly({executable:Oy(),owner:CF,lamports:By(),data:DF,rentEpoch:By()}),_W=Ly({pubkey:CF,account:wW}),SW=Wy(Dy([Py(Gn.Buffer),bW]),Dy([LF,bW]),(e=>Array.isArray(e)?Ey(e,DF):e)),EW=Ly({executable:Oy(),owner:CF,lamports:By(),data:SW,rentEpoch:By()}),kW=Ly({pubkey:CF,account:EW}),AW=Ly({state:Dy([My("active"),My("inactive"),My("activating"),My("deactivating")]),active:By(),inactive:By()}),xW=qF(Ty(Ly({signature:jy(),slot:By(),err:eW,memo:Ry(jy()),blockTime:Uy(Ry(By()))}))),IW=qF(Ty(Ly({signature:jy(),slot:By(),err:eW,memo:Ry(jy()),blockTime:Uy(Ry(By()))}))),TW=Ly({subscription:By(),result:KF(wW)}),OW=Ly({pubkey:CF,account:wW}),PW=Ly({subscription:By(),result:KF(OW)}),MW=Ly({parent:By(),slot:By(),root:By()}),RW=Ly({subscription:By(),result:MW}),BW=Dy([Ly({type:Dy([My("firstShredReceived"),My("completed"),My("optimisticConfirmation"),My("root")]),slot:By(),timestamp:By()}),Ly({type:My("createdBank"),parent:By(),slot:By(),timestamp:By()}),Ly({type:My("frozen"),slot:By(),timestamp:By(),stats:Ly({numTransactionEntries:By(),numSuccessfulTransactions:By(),numFailedTransactions:By(),maxTransactionsPerEntry:By()})}),Ly({type:My("dead"),slot:By(),timestamp:By(),err:jy()})]),UW=Ly({subscription:By(),result:BW}),NW=Ly({subscription:By(),result:KF(Dy([tW,rW]))}),jW=Ly({subscription:By(),result:By()}),CW=Ly({pubkey:jy(),gossip:Ry(jy()),tpu:Ry(jy()),rpc:Ry(jy()),version:Ry(jy())}),LW=Ly({votePubkey:jy(),nodePubkey:jy(),activatedStake:By(),epochVoteAccount:Oy(),epochCredits:Ty(Cy([By(),By(),By()])),commission:By(),lastVote:By(),rootSlot:Ry(By())}),DW=qF(Ly({current:Ty(LW),delinquent:Ty(LW)})),FW=Dy([My("processed"),My("confirmed"),My("finalized")]),WW=Ly({slot:By(),confirmations:Ry(By()),err:eW,confirmationStatus:Uy(FW)}),zW=VF(Ty(Ry(WW))),qW=qF(By()),VW=Ly({accountKey:CF,writableIndexes:Ty(By()),readonlyIndexes:Ty(By())}),KW=Ly({signatures:Ty(jy()),message:Ly({accountKeys:Ty(jy()),header:Ly({numRequiredSignatures:By(),numReadonlySignedAccounts:By(),numReadonlyUnsignedAccounts:By()}),instructions:Ty(Ly({accounts:Ty(By()),data:jy(),programIdIndex:By()})),recentBlockhash:jy(),addressTableLookups:Uy(Ty(VW))})}),ZW=Ly({pubkey:CF,signer:Oy(),writable:Oy(),source:Uy(Dy([My("transaction"),My("lookupTable")]))}),HW=Ly({accountKeys:Ty(ZW),signatures:Ty(jy())}),GW=Ly({parsed:Fy(),program:jy(),programId:CF}),JW=Ly({accounts:Ty(CF),data:jy(),programId:CF}),QW=Wy(Dy([JW,GW]),Dy([Ly({parsed:Fy(),program:jy(),programId:jy()}),Ly({accounts:Ty(jy()),data:jy(),programId:jy()})]),(e=>Ey(e,"accounts"in e?JW:GW))),YW=Ly({signatures:Ty(jy()),message:Ly({accountKeys:Ty(ZW),instructions:Ty(QW),recentBlockhash:jy(),addressTableLookups:Uy(Ry(Ty(VW)))})}),XW=Ly({accountIndex:By(),mint:jy(),owner:Uy(jy()),uiTokenAmount:pW}),$W=Ly({writable:Ty(CF),readonly:Ty(CF)}),ez=Ly({err:eW,fee:By(),innerInstructions:Uy(Ry(Ty(Ly({index:By(),instructions:Ty(Ly({accounts:Ty(By()),data:jy(),programIdIndex:By()}))})))),preBalances:Ty(By()),postBalances:Ty(By()),logMessages:Uy(Ry(Ty(jy()))),preTokenBalances:Uy(Ry(Ty(XW))),postTokenBalances:Uy(Ry(Ty(XW))),loadedAddresses:Uy($W),computeUnitsConsumed:Uy(By())}),tz=Ly({err:eW,fee:By(),innerInstructions:Uy(Ry(Ty(Ly({index:By(),instructions:Ty(QW)})))),preBalances:Ty(By()),postBalances:Ty(By()),logMessages:Uy(Ry(Ty(jy()))),preTokenBalances:Uy(Ry(Ty(XW))),postTokenBalances:Uy(Ry(Ty(XW))),loadedAddresses:Uy($W),computeUnitsConsumed:Uy(By())}),rz=Dy([My(0),My("legacy")]),nz=Ly({pubkey:jy(),lamports:By(),postBalance:Ry(By()),rewardType:Ry(jy()),commission:Uy(Ry(By()))}),iz=qF(Ry(Ly({blockhash:jy(),previousBlockhash:jy(),parentSlot:By(),transactions:Ty(Ly({transaction:KW,meta:Ry(ez),version:Uy(rz)})),rewards:Uy(Ty(nz)),blockTime:Ry(By()),blockHeight:Ry(By())}))),oz=qF(Ry(Ly({blockhash:jy(),previousBlockhash:jy(),parentSlot:By(),rewards:Uy(Ty(nz)),blockTime:Ry(By()),blockHeight:Ry(By())}))),sz=qF(Ry(Ly({blockhash:jy(),previousBlockhash:jy(),parentSlot:By(),transactions:Ty(Ly({transaction:HW,meta:Ry(ez),version:Uy(rz)})),rewards:Uy(Ty(nz)),blockTime:Ry(By()),blockHeight:Ry(By())}))),az=qF(Ry(Ly({blockhash:jy(),previousBlockhash:jy(),parentSlot:By(),transactions:Ty(Ly({transaction:YW,meta:Ry(tz),version:Uy(rz)})),rewards:Uy(Ty(nz)),blockTime:Ry(By()),blockHeight:Ry(By())}))),cz=qF(Ry(Ly({blockhash:jy(),previousBlockhash:jy(),parentSlot:By(),transactions:Ty(Ly({transaction:HW,meta:Ry(tz),version:Uy(rz)})),rewards:Uy(Ty(nz)),blockTime:Ry(By()),blockHeight:Ry(By())}))),uz=qF(Ry(Ly({blockhash:jy(),previousBlockhash:jy(),parentSlot:By(),rewards:Uy(Ty(nz)),blockTime:Ry(By()),blockHeight:Ry(By())}))),dz=qF(Ry(Ly({blockhash:jy(),previousBlockhash:jy(),parentSlot:By(),transactions:Ty(Ly({transaction:KW,meta:Ry(ez)})),rewards:Uy(Ty(nz)),blockTime:Ry(By())}))),fz=qF(Ry(Ly({blockhash:jy(),previousBlockhash:jy(),parentSlot:By(),signatures:Ty(jy()),blockTime:Ry(By())}))),lz=qF(Ry(Ly({slot:By(),meta:ez,blockTime:Uy(Ry(By())),transaction:KW,version:Uy(rz)}))),hz=qF(Ry(Ly({slot:By(),transaction:YW,meta:Ry(tz),blockTime:Uy(Ry(By())),version:Uy(rz)}))),pz=VF(Ly({blockhash:jy(),feeCalculator:Ly({lamportsPerSignature:By()})})),yz=VF(Ly({blockhash:jy(),lastValidBlockHeight:By()})),mz=VF(Oy()),bz=qF(Ty(Ly({slot:By(),numTransactions:By(),numSlots:By(),samplePeriodSecs:By()}))),gz=VF(Ry(Ly({feeCalculator:Ly({lamportsPerSignature:By()})}))),vz=qF(jy()),wz=qF(jy()),_z=Ly({err:eW,logs:Ty(jy()),signature:jy()}),Sz=Ly({result:KF(_z),subscription:By()}),Ez={"solana-client":"js/0.0.0-development"};class kz{constructor(e){this._keypair=void 0,this._keypair=e??mD()}static generate(){return new kz(mD())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),n=bD(t);for(let e=0;e<32;e++)if(r[e]!==n[e])throw new Error("provided secretKey is invalid")}return new kz({publicKey:r,secretKey:e})}static fromSeed(e){const t=bD(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new kz({publicKey:t,secretKey:r})}get publicKey(){return new TD(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Az=Object.freeze({CreateLookupTable:{index:0,layout:iy([ty("instruction"),bF("recentSlot"),$p("bumpSeed")])},FreezeLookupTable:{index:1,layout:iy([ty("instruction")])},ExtendLookupTable:{index:2,layout:iy([ty("instruction"),bF(),oy(CD(),Xp(ty(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:iy([ty("instruction")])},CloseLookupTable:{index:4,layout:iy([ty("instruction")])}});class xz{constructor(){}static createLookupTable(e){const[t,r]=TD.findProgramAddressSync([e.authority.toBuffer(),lC(BigInt(e.recentSlot),8)],this.programId),n=fF(Az.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:vF.programId,isSigner:!1,isWritable:!1}];return[new QD({programId:this.programId,keys:i,data:n}),t]}static freezeLookupTable(e){const t=fF(Az.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new QD({programId:this.programId,keys:r,data:t})}static extendLookupTable(e){const t=fF(Az.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:vF.programId,isSigner:!1,isWritable:!1}),new QD({programId:this.programId,keys:r,data:t})}static deactivateLookupTable(e){const t=fF(Az.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new QD({programId:this.programId,keys:r,data:t})}static closeLookupTable(e){const t=fF(Az.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new QD({programId:this.programId,keys:r,data:t})}}xz.programId=new TD("AddressLookupTab1e1111111111111111111111111");const Iz=Object.freeze({RequestUnits:{index:0,layout:iy([$p("instruction"),ty("units"),ty("additionalFee")])},RequestHeapFrame:{index:1,layout:iy([$p("instruction"),ty("bytes")])},SetComputeUnitLimit:{index:2,layout:iy([$p("instruction"),ty("units")])},SetComputeUnitPrice:{index:3,layout:iy([$p("instruction"),bF("microLamports")])}});class Tz{constructor(){}static requestUnits(e){const t=fF(Iz.RequestUnits,e);return new QD({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=fF(Iz.RequestHeapFrame,e);return new QD({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=fF(Iz.SetComputeUnitLimit,e);return new QD({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=fF(Iz.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new QD({keys:[],programId:this.programId,data:t})}}Tz.programId=new TD("ComputeBudget111111111111111111111111111111");const Oz=iy([$p("numSignatures"),$p("padding"),ey("signatureOffset"),ey("signatureInstructionIndex"),ey("publicKeyOffset"),ey("publicKeyInstructionIndex"),ey("messageDataOffset"),ey("messageDataSize"),ey("messageInstructionIndex")]);class Pz{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;qD(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),qD(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const o=Oz.span,s=o+t.length,a=s+n.length,c=Gn.Buffer.alloc(a+r.length),u=i??65535;return Oz.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:u,publicKeyOffset:o,publicKeyInstructionIndex:u,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:u},c),c.fill(t,o),c.fill(n,s),c.fill(r,a),new QD({keys:[],programId:Pz.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;qD(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=kz.fromSecretKey(t),i=e.publicKey.toBytes(),o=vD(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,instructionIndex:n})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Pz.programId=new TD("Ed25519SigVerify111111111111111111111111111");pD.utils.isValidPrivateKey;const Mz=pD.getPublicKey,Rz=iy([$p("numSignatures"),ey("signatureOffset"),$p("signatureInstructionIndex"),ey("ethAddressOffset"),$p("ethAddressInstructionIndex"),ey("messageDataOffset"),ey("messageDataSize"),$p("messageInstructionIndex"),sy(20,"ethAddress"),sy(64,"signature"),$p("recoveryId")]);class Bz{constructor(){}static publicKeyToEthAddress(e){qD(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return Gn.Buffer.from(QL(_D(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:o}=e;return Bz.createInstructionWithEthAddress({ethAddress:Bz.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:o=0}=e;let s;s="string"==typeof t?t.startsWith("0x")?Gn.Buffer.from(t.substr(2),"hex"):Gn.Buffer.from(t,"hex"):t,qD(20===s.length,`Address must be 20 bytes but received ${s.length} bytes`);const a=12+s.length,c=a+n.length+1,u=Gn.Buffer.alloc(Rz.span+r.length);return Rz.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:o,signature:_D(n),ethAddress:_D(s),recoveryId:i},u),u.fill(_D(r),Rz.span),new QD({keys:[],programId:Bz.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;qD(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=_D(t),i=Mz(e,!1).slice(1),o=Gn.Buffer.from(QL(_D(r))),[s,a]=((e,t)=>{const r=pD.sign(e,t);return[r.toCompactRawBytes(),r.recovery]})(o,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,recoveryId:a,instructionIndex:n})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var Uz;Bz.programId=new TD("KeccakSecp256k11111111111111111111111111111");const Nz=new TD("StakeConfig11111111111111111111111111111111");class jz{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Cz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Uz=Cz,Cz.default=new Uz(0,0,TD.default);const Lz=Object.freeze({Initialize:{index:0,layout:iy([ty("instruction"),((e="authorized")=>iy([CD("staker"),CD("withdrawer")],e))(),((e="lockup")=>iy([ny("unixTimestamp"),ny("epoch"),CD("custodian")],e))()])},Authorize:{index:1,layout:iy([ty("instruction"),CD("newAuthorized"),ty("stakeAuthorizationType")])},Delegate:{index:2,layout:iy([ty("instruction")])},Split:{index:3,layout:iy([ty("instruction"),ny("lamports")])},Withdraw:{index:4,layout:iy([ty("instruction"),ny("lamports")])},Deactivate:{index:5,layout:iy([ty("instruction")])},Merge:{index:7,layout:iy([ty("instruction")])},AuthorizeWithSeed:{index:8,layout:iy([ty("instruction"),CD("newAuthorized"),ty("stakeAuthorizationType"),DD("authoritySeed"),CD("authorityOwner")])}}),Dz=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Fz{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||Cz.default,o=fF(Lz.Initialize,{authorized:{staker:_D(r.staker.toBuffer()),withdrawer:_D(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:_D(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:iF,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new QD(s)}static createAccountWithSeed(e){const t=new YD;t.add(vF.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new YD;t.add(vF.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=fF(Lz.Delegate);return(new YD).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:eF,isSigner:!1,isWritable:!1},{pubkey:cF,isSigner:!1,isWritable:!1},{pubkey:Nz,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:o}=e,s=fF(Lz.Authorize,{newAuthorized:_D(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eF,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new YD).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,c=fF(Lz.AuthorizeWithSeed,{newAuthorized:_D(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:_D(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:eF,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!1,isWritable:!1}),(new YD).add({keys:u,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,o=fF(Lz.Split,{lamports:i});return new QD({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(e){const t=new YD;return t.add(vF.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,basePubkey:i,seed:o,lamports:s}=e,a=new YD;return a.add(vF.allocate({accountPubkey:n,basePubkey:i,seed:o,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:s}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=fF(Lz.Merge);return(new YD).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:eF,isSigner:!1,isWritable:!1},{pubkey:cF,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:o}=e,s=fF(Lz.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:eF,isSigner:!1,isWritable:!1},{pubkey:cF,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new YD).add({keys:a,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=fF(Lz.Deactivate);return(new YD).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eF,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}Fz.programId=new TD("Stake11111111111111111111111111111111111111"),Fz.space=200;class Wz{constructor(e,t,r,n){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=n}}const zz=Object.freeze({InitializeAccount:{index:0,layout:iy([ty("instruction"),((e="voteInit")=>iy([CD("nodePubkey"),CD("authorizedVoter"),CD("authorizedWithdrawer"),$p("commission")],e))()])},Authorize:{index:1,layout:iy([ty("instruction"),CD("newAuthorized"),ty("voteAuthorizationType")])},Withdraw:{index:3,layout:iy([ty("instruction"),ny("lamports")])},AuthorizeWithSeed:{index:10,layout:iy([ty("instruction"),((e="voteAuthorizeWithSeedArgs")=>iy([ty("voteAuthorizationType"),CD("currentAuthorityDerivedKeyOwnerPubkey"),DD("currentAuthorityDerivedKeySeed"),CD("newAuthorized")],e))()])}}),qz=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Vz{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=fF(zz.InitializeAccount,{voteInit:{nodePubkey:_D(n.nodePubkey.toBuffer()),authorizedVoter:_D(n.authorizedVoter.toBuffer()),authorizedWithdrawer:_D(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:iF,isSigner:!1,isWritable:!1},{pubkey:eF,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new QD(o)}static createAccount(e){const t=new YD;return t.add(vF.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,o=fF(zz.Authorize,{newAuthorized:_D(n.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eF,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new YD).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=e,a=fF(zz.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:_D(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:_D(i.toBuffer()),voteAuthorizationType:o.index}}),c=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:eF,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new YD).add({keys:c,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,o=fF(zz.Withdraw,{lamports:n}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new YD).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return Vz.withdraw(e)}}Vz.programId=new TD("Vote111111111111111111111111111111111111111"),Vz.space=3731;const Kz=new TD("Va1idator1nfo111111111111111111111111111111"),Zz=Ly({name:jy(),website:Uy(jy()),details:Uy(jy()),keybaseUsername:Uy(jy())});class Hz{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==WD(t))return null;const r=[];for(let e=0;e<2;e++){const e=new TD(t.slice(0,xD));t=t.slice(xD);const n=1===t.slice(0,1)[0];t=t.slice(1),r.push({publicKey:e,isSigner:n})}if(r[0].publicKey.equals(Kz)&&r[1].isSigner){const e=DD().decode(Gn.Buffer.from(t)),n=JSON.parse(e);return Sy(n,Zz),new Hz(r[1].publicKey,n)}return null}}const Gz=new TD("Vote111111111111111111111111111111111111111"),Jz=iy([CD("nodePubkey"),CD("authorizedWithdrawer"),$p("commission"),ry(),oy(iy([ry("slot"),ty("confirmationCount")]),Xp(ty(),-8),"votes"),$p("rootSlotValid"),ry("rootSlot"),ry(),oy(iy([ry("epoch"),CD("authorizedVoter")]),Xp(ty(),-8),"authorizedVoters"),iy([oy(iy([CD("authorizedPubkey"),ry("epochOfLastAuthorizedSwitch"),ry("targetEpoch")]),32,"buf"),ry("idx"),$p("isEmpty")],"priorVoters"),ry(),oy(iy([ry("epoch"),ry("credits"),ry("prevCredits")]),Xp(ty(),-8),"epochCredits"),iy([ry("slot"),ry("timestamp")],"lastTimestamp")]);class Qz{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=Jz.decode(_D(e),4);let r=t.rootSlot;return t.rootSlotValid||(r=null),new Qz({nodePubkey:new TD(t.nodePubkey),authorizedWithdrawer:new TD(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:r,authorizedVoters:t.authorizedVoters.map(Yz),priorVoters:$z(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function Yz({authorizedVoter:e,epoch:t}){return{epoch:t,authorizedVoter:new TD(e)}}function Xz({authorizedPubkey:e,epochOfLastAuthorizedSwitch:t,targetEpoch:r}){return{authorizedPubkey:new TD(e),epochOfLastAuthorizedSwitch:t,targetEpoch:r}}function $z({buf:e,idx:t,isEmpty:r}){return r?[]:[...e.slice(t+1).map(Xz),...e.slice(0,t).map(Xz)]}const eq={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};const tq=Object.freeze(Object.defineProperty({__proto__:null,Account:class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=_D(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=_D(yD()),this._publicKey=_D(bD(this._secretKey))}get publicKey(){return new TD(this._publicKey)}get secretKey(){return Gn.Buffer.concat([this._secretKey,this._publicKey],64)}},AddressLookupTableAccount:UF,AddressLookupTableInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=ty("instruction").decode(e.data);let r;for(const[e,n]of Object.entries(Az))if(n.index==t){r=e;break}if(!r)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return r}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=lF(Az.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=lF(Az.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map((e=>new TD(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(xz.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},AddressLookupTableProgram:xz,Authorized:jz,BLOCKHASH_CACHE_TIMEOUT_MS:3e4,BPF_LOADER_DEPRECATED_PROGRAM_ID:OD,BPF_LOADER_PROGRAM_ID:_F,BpfLoader:class{static getMinNumSignatures(e){return wF.getMinNumSignatures(e)}static load(e,t,r,n,i){return wF.load(e,t,r,i,n)}},COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Iz,ComputeBudgetInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=$p("instruction").decode(e.data);let r;for(const[e,n]of Object.entries(Iz))if(n.index==t){r=e;break}if(!r)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return r}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=lF(Iz.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=lF(Iz.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=lF(Iz.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=lF(Iz.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Tz.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},ComputeBudgetProgram:Tz,Connection:class{constructor(e,t){let r,n,i,o,s,a;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{const{commitment:r,config:n}=FF(t),i=this._buildArgs([],r,void 0,n),o=IF(i);return e[o]=e[o]??(async()=>{try{const e=Ey(await this._rpcRequest("getBlockHeight",i),qF(By()));if("error"in e)throw new MF(e.error,"failed to get block height information");return e.result}finally{delete e[o]}})(),await e[o]}})(),t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,n=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,s=t.disableRetryOnRateLimit,a=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=r||function(e){const t=e.match(jF);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[r,n,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${s}//${n}${null==a?"":`:${a+1}`}${o}`}(e),this._rpcClient=function(e,t,r,n,i,o){const s=r||RF;let a;return null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(a=async(e,t)=>{const r=await new Promise(((r,i)=>{try{n(e,t,((e,t)=>r([e,t])))}catch(e){i(e)}}));return await s(...r)}),new GC((async(r,n)=>{const o={method:"POST",body:r,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},Ez)};try{let t,r=5,c=500;for(;t=a?await a(e,o):await s(e,o),429===t.status&&!0!==i&&(r-=1,0!==r);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${c}ms delay...`),await dF(c),c*=2;const u=await t.text();t.ok?n(null,u):n(new Error(`${t.status} ${t.statusText}: ${u}`))}catch(e){e instanceof Error&&n(e)}}),{})}(e,n,i,o,s,a),this._rpcRequest=function(e){return(t,r)=>new Promise(((n,i)=>{e.request(t,r,((e,t)=>{e?i(e):n(t)}))}))}(this._rpcClient),this._rpcBatchRequest=function(e){return t=>new Promise(((r,n)=>{0===t.length&&r([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?n(e):r(t)}))}))}(this._rpcClient),this._rpcWebSocket=new BF(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:n}=FF(t),i=this._buildArgs([e.toBase58()],r,void 0,n),o=Ey(await this._rpcRequest("getBalance",i),VF(By()));if("error"in o)throw new MF(o.error,`failed to get balance for ${e.toBase58()}`);return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=Ey(await this._rpcRequest("getBlockTime",[e]),qF(Ry(By())));if("error"in t)throw new MF(t.error,`failed to get block time for slot ${e}`);return t.result}async getMinimumLedgerSlot(){const e=Ey(await this._rpcRequest("minimumLedgerSlot",[]),qF(By()));if("error"in e)throw new MF(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const e=Ey(await this._rpcRequest("getFirstAvailableBlock",[]),lW);if("error"in e)throw new MF(e.error,"failed to get first available block");return e.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const r=Ey(await this._rpcRequest("getSupply",[t]),hW);if("error"in r)throw new MF(r.error,"failed to get supply");return r.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),n=Ey(await this._rpcRequest("getTokenSupply",r),VF(pW));if("error"in n)throw new MF(n.error,"failed to get token supply");return n.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),n=Ey(await this._rpcRequest("getTokenAccountBalance",r),VF(pW));if("error"in n)throw new MF(n.error,"failed to get token account balance");return n.result}async getTokenAccountsByOwner(e,t,r){const{commitment:n,config:i}=FF(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const s=this._buildArgs(o,n,"base64",i),a=Ey(await this._rpcRequest("getTokenAccountsByOwner",s),mW);if("error"in a)throw new MF(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),o=Ey(await this._rpcRequest("getTokenAccountsByOwner",i),gW);if("error"in o)throw new MF(o.error,`failed to get token accounts owned by account ${e.toBase58()}`);return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=Ey(await this._rpcRequest("getLargestAccounts",r),vW);if("error"in n)throw new MF(n.error,"failed to get largest accounts");return n.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),n=Ey(await this._rpcRequest("getTokenLargestAccounts",r),yW);if("error"in n)throw new MF(n.error,"failed to get token largest accounts");return n.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:n}=FF(t),i=this._buildArgs([e.toBase58()],r,"base64",n),o=Ey(await this._rpcRequest("getAccountInfo",i),VF(Ry(wW)));if("error"in o)throw new MF(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getParsedAccountInfo(e,t){const{commitment:r,config:n}=FF(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),o=Ey(await this._rpcRequest("getAccountInfo",i),VF(Ry(EW)));if("error"in o)throw new MF(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(t){throw new Error("failed to get info about account "+e.toBase58()+": "+t)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:n}=FF(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],r,"jsonParsed",n),s=Ey(await this._rpcRequest("getMultipleAccounts",o),VF(Ty(Ry(EW))));if("error"in s)throw new MF(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:n}=FF(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],r,"base64",n),s=Ey(await this._rpcRequest("getMultipleAccounts",o),VF(Ty(Ry(wW))));if("error"in s)throw new MF(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:n,config:i}=FF(t),o=this._buildArgs([e.toBase58()],n,void 0,{...i,epoch:r??(null==i?void 0:i.epoch)}),s=Ey(await this._rpcRequest("getStakeActivation",o),qF(AW));if("error"in s)throw new MF(s.error,`failed to get Stake Activation ${e.toBase58()}`);return s.result}async getProgramAccounts(e,t){const{commitment:r,config:n}=FF(t),{encoding:i,...o}=n||{},s=this._buildArgs([e.toBase58()],r,i||"base64",o),a=await this._rpcRequest("getProgramAccounts",s),c=Ty(_W),u=!0===o.withContext?Ey(a,VF(c)):Ey(a,qF(c));if("error"in u)throw new MF(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:n}=FF(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),o=Ey(await this._rpcRequest("getProgramAccounts",i),qF(Ty(kW)));if("error"in o)throw new MF(o.error,`failed to get accounts owned by program ${e.toBase58()}`);return o.result}async confirmTransaction(e,t){var r;let n,i;if("string"==typeof e)n=e;else{const t=e;if(null!=(r=t.abortSignal)&&r.aborted)return Promise.reject(t.abortSignal.reason);n=t.signature}try{i=Mh.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return qD(64===i.length,"signature has invalid length"),"string"==typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((t,r)=>{null!=e&&(e.aborted?r(e.reason):e.addEventListener("abort",(()=>{r(e.reason)})))}))}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,n,i=!1;return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:new Promise(((o,s)=>{try{r=this.onSignature(t,((e,t)=>{r=void 0;const n={context:t,value:e};o({__type:GD.PROCESSED,response:n})}),e);const a=new Promise((e=>{null==r?e():n=this._onSubscriptionStateChange(r,(t=>{"subscribed"===t&&e()}))}));(async()=>{if(await a,i)return;const r=await this.getSignatureStatus(t);if(i||null==r)return;const{context:n,value:c}=r;if(null!=c)if(null!=c&&c.err)s(c.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}i=!0,o({__type:GD.PROCESSED,response:{context:n,value:c}})}})()}catch(e){s(e)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:n}}){let i=!1;const o=new Promise((t=>{const n=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let e=await n();if(!i){for(;e<=r;)if(await dF(1e3),i||(e=await n(),i))return;t({__type:GD.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:n}),c=this.getCancellationPromise(t);let u;try{const e=await Promise.race([c,a,o]);if(e.__type!==GD.PROCESSED)throw new BD(n);u=e.response}finally{i=!0,s()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:n,nonceValue:i,signature:o}}){let s=!1;const a=new Promise((t=>{let o=i,a=null;const c=async()=>{try{const{context:t,value:i}=await this.getNonceAndContext(n,{commitment:e,minContextSlot:r});return a=t.slot,null==i?void 0:i.nonce}catch{return o}};(async()=>{if(o=await c(),!s)for(;;){if(i!==o)return void t({__type:GD.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await dF(2e3),s||(o=await c(),s))return}})()})),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let f;try{const t=await Promise.race([d,u,a]);if(t.__type===GD.PROCESSED)f=t.response;else{let n;for(;;){const e=await this.getSignatureStatus(o);if(null==e)break;if(!(e.context.slot<(t.slotInWhichNonceDidAdvance??r))){n=e;break}await dF(400)}if(null==n||!n.value)throw new ND(o);{const t=e||"finalized",{confirmationStatus:r}=n.value;switch(t){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new ND(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new ND(o);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new ND(o)}f={context:n.context,value:{err:n.value.err}}}}}finally{s=!0,c()}return f}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const n=new Promise((t=>{let n=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":n=this._confirmTransactionInitialTimeout||3e4}r=setTimeout((()=>t({__type:GD.TIMED_OUT,timeoutMs:n})),n)})),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let s;try{const e=await Promise.race([o,n]);if(e.__type!==GD.PROCESSED)throw new UD(t,e.timeoutMs/1e3);s=e.response}finally{clearTimeout(r),i()}return s}async getClusterNodes(){const e=Ey(await this._rpcRequest("getClusterNodes",[]),qF(Ty(CW)));if("error"in e)throw new MF(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=Ey(await this._rpcRequest("getVoteAccounts",t),DW);if("error"in r)throw new MF(r.error,"failed to get vote accounts");return r.result}async getSlot(e){const{commitment:t,config:r}=FF(e),n=this._buildArgs([],t,void 0,r),i=Ey(await this._rpcRequest("getSlot",n),qF(By()));if("error"in i)throw new MF(i.error,"failed to get slot");return i.result}async getSlotLeader(e){const{commitment:t,config:r}=FF(e),n=this._buildArgs([],t,void 0,r),i=Ey(await this._rpcRequest("getSlotLeader",n),qF(jy()));if("error"in i)throw new MF(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,t){const r=[e,t],n=Ey(await this._rpcRequest("getSlotLeaders",r),qF(Ty(CF)));if("error"in n)throw new MF(n.error,"failed to get slot leaders");return n.result}async getSignatureStatus(e,t){const{context:r,value:n}=await this.getSignatureStatuses([e],t);qD(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const n=Ey(await this._rpcRequest("getSignatureStatuses",r),zW);if("error"in n)throw new MF(n.error,"failed to get signature status");return n.result}async getTransactionCount(e){const{commitment:t,config:r}=FF(e),n=this._buildArgs([],t,void 0,r),i=Ey(await this._rpcRequest("getTransactionCount",n),qF(By()));if("error"in i)throw new MF(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=Ey(await this._rpcRequest("getInflationGovernor",t),sW);if("error"in r)throw new MF(r.error,"failed to get inflation");return r.result}async getInflationReward(e,t,r){const{commitment:n,config:i}=FF(r),o=this._buildArgs([e.map((e=>e.toBase58()))],n,void 0,{...i,epoch:t??(null==i?void 0:i.epoch)}),s=Ey(await this._rpcRequest("getInflationReward",o),GF);if("error"in s)throw new MF(s.error,"failed to get inflation reward");return s.result}async getInflationRate(){const e=Ey(await this._rpcRequest("getInflationRate",[]),aW);if("error"in e)throw new MF(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(e){const{commitment:t,config:r}=FF(e),n=this._buildArgs([],t,void 0,r),i=Ey(await this._rpcRequest("getEpochInfo",n),uW);if("error"in i)throw new MF(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const e=Ey(await this._rpcRequest("getEpochSchedule",[]),dW);if("error"in e)throw new MF(e.error,"failed to get epoch schedule");const t=e.result;return new OF(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const e=Ey(await this._rpcRequest("getLeaderSchedule",[]),fW);if("error"in e)throw new MF(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),n=Ey(await this._rpcRequest("getMinimumBalanceForRentExemption",r),qW);return"error"in n?(console.warn("Unable to fetch minimum balance for rent exemption"),0):n.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=Ey(await this._rpcRequest("getRecentBlockhash",t),pz);if("error"in r)throw new MF(r.error,"failed to get recent blockhash");return r.result}async getRecentPerformanceSamples(e){const t=Ey(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),bz);if("error"in t)throw new MF(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),n=Ey(await this._rpcRequest("getFeeCalculatorForBlockhash",r),gz);if("error"in n)throw new MF(n.error,"failed to get fee calculator");const{context:i,value:o}=n.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){const r=_D(e.serialize()).toString("base64"),n=this._buildArgs([r],t),i=Ey(await this._rpcRequest("getFeeForMessage",n),VF(Ry(By())));if("error"in i)throw new MF(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(e){var t;const r=null==(t=null==e?void 0:e.lockedWritableAccounts)?void 0:t.map((e=>e.toBase58())),n=null!=r&&r.length?[r]:[],i=Ey(await this._rpcRequest("getRecentPrioritizationFees",n),cW);if("error"in i)throw new MF(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=FF(e),n=this._buildArgs([],t,void 0,r),i=Ey(await this._rpcRequest("getLatestBlockhash",n),yz);if("error"in i)throw new MF(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(e,t){const{commitment:r,config:n}=FF(t),i=this._buildArgs([e],r,void 0,n),o=Ey(await this._rpcRequest("isBlockhashValid",i),mz);if("error"in o)throw new MF(o.error,"failed to determine if the blockhash `"+e+"`is valid");return o.result}async getVersion(){const e=Ey(await this._rpcRequest("getVersion",[]),qF(nW));if("error"in e)throw new MF(e.error,"failed to get version");return e.result}async getGenesisHash(){const e=Ey(await this._rpcRequest("getGenesisHash",[]),qF(jy()));if("error"in e)throw new MF(e.error,"failed to get genesis hash");return e.result}async getBlock(e,t){const{commitment:r,config:n}=FF(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),o=await this._rpcRequest("getBlock",i);try{switch(null==n?void 0:n.transactionDetails){case"accounts":{const e=Ey(o,sz);if("error"in e)throw e.error;return e.result}case"none":{const e=Ey(o,oz);if("error"in e)throw e.error;return e.result}default:{const e=Ey(o,iz);if("error"in e)throw e.error;const{result:t}=e;return t?{...t,transactions:t.transactions.map((({transaction:e,meta:t,version:r})=>({meta:t,transaction:{...e,message:ZF(r,e.message)},version:r})))}:null}}}catch(e){throw new MF(e,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:n}=FF(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),o=await this._rpcRequest("getBlock",i);try{switch(null==n?void 0:n.transactionDetails){case"accounts":{const e=Ey(o,cz);if("error"in e)throw e.error;return e.result}case"none":{const e=Ey(o,uz);if("error"in e)throw e.error;return e.result}default:{const e=Ey(o,az);if("error"in e)throw e.error;return e.result}}}catch(e){throw new MF(e,"failed to get block")}}async getBlockProduction(e){let t,r;if("string"==typeof e)r=e;else if(e){const{commitment:n,...i}=e;r=n,t=i}const n=this._buildArgs([],r,"base64",t),i=Ey(await this._rpcRequest("getBlockProduction",n),oW);if("error"in i)throw new MF(i.error,"failed to get block production information");return i.result}async getTransaction(e,t){const{commitment:r,config:n}=FF(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),o=Ey(await this._rpcRequest("getTransaction",i),lz);if("error"in o)throw new MF(o.error,"failed to get transaction");const s=o.result;return s&&{...s,transaction:{...s.transaction,message:ZF(s.version,s.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:n}=FF(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),o=Ey(await this._rpcRequest("getTransaction",i),hz);if("error"in o)throw new MF(o.error,"failed to get transaction");return o.result}async getParsedTransactions(e,t){const{commitment:r,config:n}=FF(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=Ey(e,hz);if("error"in t)throw new MF(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:r,config:n}=FF(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,void 0,n)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=Ey(e,lz);if("error"in t)throw new MF(t.error,"failed to get transactions");const r=t.result;return r&&{...r,transaction:{...r.transaction,message:ZF(r.version,r.transaction.message)}}}))}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=Ey(await this._rpcRequest("getConfirmedBlock",r),dz);if("error"in n)throw new MF(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+e+" not found");const o={...i,transactions:i.transactions.map((({transaction:e,meta:t})=>{const r=new KD(e.message);return{meta:t,transaction:{...e,message:r}}}))};return{...o,transactions:o.transactions.map((({transaction:e,meta:t})=>({meta:t,transaction:YD.populate(e.message,e.signatures)})))}}async getBlocks(e,t,r){const n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=Ey(await this._rpcRequest("getBlocks",n),qF(Ty(By())));if("error"in i)throw new MF(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=Ey(await this._rpcRequest("getBlock",r),fz);if("error"in n)throw new MF(n.error,"failed to get block");const i=n.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=Ey(await this._rpcRequest("getConfirmedBlock",r),fz);if("error"in n)throw new MF(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=Ey(await this._rpcRequest("getConfirmedTransaction",r),lz);if("error"in n)throw new MF(n.error,"failed to get transaction");const i=n.result;if(!i)return i;const o=new KD(i.transaction.message),s=i.transaction.signatures;return{...i,transaction:YD.populate(o,s)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=Ey(await this._rpcRequest("getConfirmedTransaction",r),hz);if("error"in n)throw new MF(n.error,"failed to get confirmed transaction");return n.result}async getParsedConfirmedTransactions(e,t){const r=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=Ey(e,hz);if("error"in t)throw new MF(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n||(t--,t<=0||t<i));)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let o=await this.getSlot("finalized");for(;!("before"in n||(r++,r>o));)try{const e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return(await this.getConfirmedSignaturesForAddress2(e,n)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=Ey(await this._rpcRequest("getConfirmedSignaturesForAddress2",n),xW);if("error"in i)throw new MF(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=Ey(await this._rpcRequest("getSignaturesForAddress",n),IW);if("error"in i)throw new MF(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=new UF({key:e,state:UF.deserialize(n.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=mF.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const r=Ey(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),vz);if("error"in r)throw new MF(r.error,`airdrop to ${e.toBase58()} failed`);return r.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await dF(100);const e=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let e=0;e<50;e++){const e=await this.getLatestBlockhash("finalized");if(r!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await dF(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=FF(e),n=this._buildArgs([],t,"base64",r),i=Ey(await this._rpcRequest("getStakeMinimumDelegation",n),VF(By()));if("error"in i)throw new MF(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,t,r){if("message"in e){const n=e.serialize(),i=Gn.Buffer.from(n).toString("base64");if(Array.isArray(t)||void 0!==r)throw new Error("Invalid arguments");const o=t||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment);const s=[i,o],a=Ey(await this._rpcRequest("simulateTransaction",s),iW);if("error"in a)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}let n;if(e instanceof YD){let t=e;n=new YD,n.feePayer=t.feePayer,n.instructions=e.instructions,n.nonceInfo=t.nonceInfo,n.signatures=t.signatures}else n=YD.populate(e),n._message=n._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(n.nonceInfo&&i)n.sign(...i);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(n.lastValidBlockHeight=t.lastValidBlockHeight,n.recentBlockhash=t.blockhash,!i)break;if(n.sign(...i),!n.signature)throw new Error("!signature");const r=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}e=!0}}const o=n._compile(),s=o.serialize(),a=n._serialize(s).toString("base64"),c={encoding:"base64",commitment:this.commitment};if(r){const e=(Array.isArray(r)?r:o.nonProgramIds()).map((e=>e.toBase58()));c.accounts={encoding:"base64",addresses:e}}i&&(c.sigVerify=!0);const u=[a,c],d=Ey(await this._rpcRequest("simulateTransaction",u),iW);if("error"in d){let e;if("data"in d.error&&(e=d.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(d.error.message,r)}throw new PF("failed to simulate transaction: "+d.error.message,e)}return d.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const r=e.serialize();return await this.sendRawTransaction(r,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const n=t;if(e.nonceInfo)e.sign(...n);else{let t=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=r.lastValidBlockHeight,e.recentBlockhash=r.blockhash,e.sign(...n),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=_D(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},n=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(r.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(r.minContextSlot=t.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const o=[e,r],s=Ey(await this._rpcRequest("sendTransaction",o),wz);if("error"in s){let e;throw"data"in s.error&&(e=s.error.data.logs),new PF("failed to send transaction: "+s.error.message,e)}return s.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([e,t])=>{this._setSubscription(e,{...t,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(e,t){var r;const n=null==(r=this._subscriptionsByHash[e])?void 0:r.state;if(this._subscriptionsByHash[e]=t,n!==t.state){const r=this._subscriptionStateChangeCallbacksByHash[e];r&&r.forEach((e=>{try{e(t.state)}catch{}}))}}_onSubscriptionStateChange(e,t){var r;const n=this._subscriptionHashByClientSubscriptionId[e];if(null==n)return()=>{};const i=(r=this._subscriptionStateChangeCallbacksByHash)[n]||(r[n]=new Set);return i.add(t),()=>{i.delete(t),0===i.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._setSubscription(e,{...r,state:"subscribing"});const t=await this._rpcWebSocket.call(i,n);this._setSubscription(e,{...r,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=r.callbacks,await this._updateSubscriptions()}catch(o){if(o instanceof Error&&console.error(`${i} error for argument`,n,o.message),!t())return;this._setSubscription(e,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(e,{...r,state:"unsubscribing"}),this._setSubscription(e,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(n){if(n instanceof Error&&console.error(`${i} error:`,n.message),!t())return;return this._setSubscription(e,{...r,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach((e=>{try{e(...t)}catch(e){console.error(e)}}))}_wsOnAccountNotification(e){const{result:t,subscription:r}=Ey(e,TW);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,n=IF([e.method,t],!0),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const t=this._subscriptionsByHash[n];qD(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const n=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=Ey(e,PW);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,n){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const n=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=Ey(e,Sz);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=Ey(e,RW);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=Ey(e,UW);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,n){const i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=Ey(e,NW);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const n=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,r)=>{if("status"===e.type){t(e.result,r);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(e,t,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],n,void 0,i),s=this._makeSubscription({callback:(e,r)=>{t(e,r);try{this.removeSignatureListener(s)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=Ey(e,jW);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},Ed25519Program:Pz,Enum:class extends SD{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}},EpochSchedule:OF,FeeCalculatorLayout:hF,Keypair:kz,LAMPORTS_PER_SOL:1e9,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Az,Loader:wF,Lockup:Cz,MAX_SEED_LENGTH:32,Message:KD,MessageAccountKeys:jD,MessageV0:ZD,NONCE_ACCOUNT_LENGTH:yF,NonceAccount:mF,PACKET_DATA_SIZE:PD,PUBLIC_KEY_LENGTH:xD,PublicKey:TD,SIGNATURE_LENGTH_IN_BYTES:RD,SOLANA_SCHEMA:ED,STAKE_CONFIG_ID:Nz,STAKE_INSTRUCTION_LAYOUTS:Lz,SYSTEM_INSTRUCTION_LAYOUTS:gF,SYSVAR_CLOCK_PUBKEY:eF,SYSVAR_EPOCH_SCHEDULE_PUBKEY:tF,SYSVAR_INSTRUCTIONS_PUBKEY:rF,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:nF,SYSVAR_RENT_PUBKEY:iF,SYSVAR_REWARDS_PUBKEY:oF,SYSVAR_SLOT_HASHES_PUBKEY:sF,SYSVAR_SLOT_HISTORY_PUBKEY:aF,SYSVAR_STAKE_HISTORY_PUBKEY:cF,Secp256k1Program:Bz,SendTransactionError:PF,SolanaJSONRPCError:MF,SolanaJSONRPCErrorCode:{JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},StakeAuthorizationLayout:Dz,StakeInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=ty("instruction").decode(e.data);let r;for(const[e,n]of Object.entries(Lz))if(n.index==t){r=e;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=lF(Lz.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new jz(new TD(t.staker),new TD(t.withdrawer)),lockup:new Cz(r.unixTimestamp,r.epoch,new TD(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),lF(Lz.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=lF(Lz.Authorize,e.data),n={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new TD(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(n.custodianPubkey=e.keys[3].pubkey),n}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=lF(Lz.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:n,authorityOwner:new TD(i),newAuthorizedPubkey:new TD(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=lF(Lz.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),lF(Lz.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=lF(Lz.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),lF(Lz.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Fz.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},StakeProgram:Fz,Struct:SD,SystemInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=ty("instruction").decode(e.data);let r;for(const[e,n]of Object.entries(gF))if(n.index==t){r=e;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:n}=lF(gF.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new TD(n)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=lF(gF.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:n}=lF(gF.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new TD(n)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=lF(gF.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:n,programId:i}=lF(gF.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new TD(t),seed:r,space:n,programId:new TD(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=lF(gF.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new TD(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:n}=lF(gF.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new TD(t),seed:r,programId:new TD(n)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:n,space:i,programId:o}=lF(gF.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new TD(t),seed:r,lamports:n,space:i,programId:new TD(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=lF(gF.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new TD(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),lF(gF.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=lF(gF.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=lF(gF.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new TD(t)}}static checkProgramId(e){if(!e.equals(vF.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},SystemProgram:vF,Transaction:YD,TransactionExpiredBlockheightExceededError:BD,TransactionExpiredNonceInvalidError:ND,TransactionExpiredTimeoutError:UD,TransactionInstruction:QD,TransactionMessage:XD,TransactionStatus:GD,VALIDATOR_INFO_KEY:Kz,VERSION_PREFIX_MASK:MD,VOTE_PROGRAM_ID:Gz,ValidatorInfo:Hz,VersionedMessage:HD,VersionedTransaction:$D,VoteAccount:Qz,VoteAuthorizationLayout:qz,VoteInit:Wz,VoteInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=ty("instruction").decode(e.data);let r;for(const[e,n]of Object.entries(zz))if(n.index==t){r=e;break}if(!r)throw new Error("Instruction type incorrect; not a VoteInstruction");return r}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=lF(zz.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Wz(new TD(t.nodePubkey),new TD(t.authorizedVoter),new TD(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=lF(zz.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new TD(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:n,voteAuthorizationType:i}}=lF(zz.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new TD(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new TD(n),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=lF(zz.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Vz.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},VoteProgram:Vz,clusterApiUrl:function(e,t){const r=!1===t?"http":"https";if(!e)return eq[r].devnet;const n=eq[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n},sendAndConfirmRawTransaction:async function(e,t,r,n){let i,o;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,o=n):o=r;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await e.sendRawTransaction(t,s),c=o&&o.commitment,u=(await(i?e.confirmTransaction(i,c):e.confirmTransaction(a,c))).value;if(u.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(u)})`);return a},sendAndConfirmTransaction:uF},Symbol.toStringTag,{value:"Module"})),rq=ur(tq);var nq=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fN,"__esModule",{value:!0}),fN.setLayoutEncoder=fN.setLayoutDecoder=fN.accountFlagsLayout=fN.selfTradeBehaviorLayout=fN.orderTypeLayout=fN.sideLayout=fN.VersionedLayout=fN.WideBits=fN.u128=fN.i64=fN.u64=fN.publicKeyLayout=fN.zeros=void 0;const iq=PU,oq=rq,sq=nq(fd);class aq extends iq.Blob{decode(e,t){const r=super.decode(e,t);if(!r.every((e=>0===e)))throw new Error("nonzero padding bytes");return r}}fN.zeros=function(e){return new aq(e)};class cq extends iq.Blob{constructor(e){super(32,e)}decode(e,t){return new oq.PublicKey(super.decode(e,t))}encode(e,t,r){return super.encode(e.toBuffer(),t,r)}}fN.publicKeyLayout=function(e){return new cq(e)};class uq extends iq.Blob{decode(e,t){return new sq.default(super.decode(e,t),10,"le")}encode(e,t,r){return super.encode(e.toArrayLike(Hn,"le",this.span),t,r)}}fN.u64=function(e){return new uq(8,e)},fN.i64=function(e){return new uq(8,e)},fN.u128=function(e){return new uq(16,e)};class dq extends iq.Layout{constructor(e){super(8,e),this._lower=iq.bits(iq.u32(),!1),this._upper=iq.bits(iq.u32(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e,t=0){return{...this._lower.decode(e,t),...this._upper.decode(e,t+this._lower.span)}}encode(e,t,r=0){return this._lower.encode(e,t,r)+this._upper.encode(e,t,r+this._lower.span)}}fN.WideBits=dq;class fq extends iq.Layout{constructor(e,t,r){super(t.span>0?t.span+1:t.span,r),this.version=e,this.inner=t}decode(e,t=0){return this.inner.decode(e,t+1)}encode(e,t,r=0){return t.writeUInt8(this.version,r),1+this.inner.encode(e,t,r+1)}getSpan(e,t=0){return 1+this.inner.getSpan(e,t+1)}}fN.VersionedLayout=fq;class lq extends iq.UInt{constructor(e,t,r){super(t,r),this.values=e}encode(e,t,r){if(void 0!==this.values[e])return super.encode(this.values[e],t,r);throw new Error("Invalid "+this.property)}decode(e,t){const r=super.decode(e,t),n=Object.entries(this.values).find((([,e])=>e===r));if(n)return n[0];throw new Error("Invalid "+this.property)}}fN.sideLayout=function(e){return new lq({buy:0,sell:1},4,e)},fN.orderTypeLayout=function(e){return new lq({limit:0,ioc:1,postOnly:2},4,e)},fN.selfTradeBehaviorLayout=function(e){return new lq({decrementTake:0,cancelProvide:1,abortTransaction:2},4,e)};const hq=new dq;hq.addBoolean("initialized"),hq.addBoolean("market"),hq.addBoolean("openOrders"),hq.addBoolean("requestQueue"),hq.addBoolean("eventQueue"),hq.addBoolean("bids"),hq.addBoolean("asks"),fN.accountFlagsLayout=function(e="accountFlags"){return hq.replicate(e)},fN.setLayoutDecoder=function(e,t){const r=e.decode;e.decode=function(e,n=0){return t(r.call(this,e,n))}},fN.setLayoutEncoder=function(e,t){const r=e.encode;return e.encode=function(e,n,i){return r.call(this,t(e),n,i)},e};var pq={};!function(e){var t=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.Slab=e.SLAB_LAYOUT=void 0;const r=t(fd),n=PU,i=fN,o=n.struct([n.u32("bumpIndex"),i.zeros(4),n.u32("freeListLen"),i.zeros(4),n.u32("freeListHead"),n.u32("root"),n.u32("leafCount"),i.zeros(4)],"header"),s=n.union(n.u32("tag"),n.blob(68),"node");s.addVariant(0,n.struct([]),"uninitialized"),s.addVariant(1,n.struct([n.u32("prefixLen"),i.u128("key"),n.seq(n.u32(),2,"children")]),"innerNode"),s.addVariant(2,n.struct([n.u8("ownerSlot"),n.u8("feeTier"),n.blob(2),i.u128("key"),i.publicKeyLayout("owner"),i.u64("quantity"),i.u64("clientOrderId")]),"leafNode"),s.addVariant(3,n.struct([n.u32("next")]),"freeNode"),s.addVariant(4,n.struct([]),"lastFreeNode"),e.SLAB_LAYOUT=n.struct([o,n.seq(s,n.offset(o.layoutFor("bumpIndex"),o.offsetOf("bumpIndex")-o.span),"nodes")]);class a{constructor(e,t){this.header=e,this.nodes=t}static decode(t){return e.SLAB_LAYOUT.decode(t)}get(e){if(0===this.header.leafCount)return null;e instanceof r.default||(e=new r.default(e));let t=this.header.root;for(;;){const{leafNode:r,innerNode:n}=this.nodes[t];if(r)return r.key.eq(e)?r:null;if(!n)throw new Error("Invalid slab");if(!n.key.xor(e).iushrn(128-n.prefixLen).isZero())return null;t=n.children[e.testn(128-n.prefixLen-1)?1:0]}}[Symbol.iterator](){return this.items(!1)}*items(e=!1){if(0===this.header.leafCount)return;const t=[this.header.root];for(;t.length>0;){const r=t.pop(),{leafNode:n,innerNode:i}=this.nodes[r];n?yield n:i&&(e?t.push(i.children[0],i.children[1]):t.push(i.children[1],i.children[0]))}}}e.Slab=a,i.setLayoutDecoder(e.SLAB_LAYOUT,(({header:e,nodes:t})=>new a(e,t)))}(pq);var yq={},mq={};!function(e){var t=ar&&ar.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=ar&&ar.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=ar&&ar.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.closeAccount=e.mintTo=e.setAuthority=e.revoke=e.approve=e.transfer=e.initializeAccount=e.initializeMint=e.decodeTokenInstructionData=e.SRM_DECIMALS=e.SRM_MINT=e.MSRM_DECIMALS=e.MSRM_MINT=e.WRAPPED_SOL_MINT=e.TOKEN_PROGRAM_ID=e.CLOSE_ACCOUNT_OWNER_INDEX=e.CLOSE_ACCOUNT_DESTINATION_INDEX=e.CLOSE_ACCOUNT_SOURCE_INDEX=e.TRANSFER_OWNER_INDEX=e.TRANSFER_DESTINATION_INDEX=e.TRANSFER_SOURCE_INDEX=e.INITIALIZE_ACCOUNT_OWNER_INDEX=e.INITIALIZE_ACCOUNT_MINT_INDEX=e.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=void 0;const i=n(PU),o=rq,s=fN;e.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=0,e.INITIALIZE_ACCOUNT_MINT_INDEX=1,e.INITIALIZE_ACCOUNT_OWNER_INDEX=2,e.TRANSFER_SOURCE_INDEX=0,e.TRANSFER_DESTINATION_INDEX=1,e.TRANSFER_OWNER_INDEX=2,e.CLOSE_ACCOUNT_SOURCE_INDEX=0,e.CLOSE_ACCOUNT_DESTINATION_INDEX=1,e.CLOSE_ACCOUNT_OWNER_INDEX=2,e.TOKEN_PROGRAM_ID=new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),e.WRAPPED_SOL_MINT=new o.PublicKey("So11111111111111111111111111111111111111112"),e.MSRM_MINT=new o.PublicKey("MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L"),e.MSRM_DECIMALS=0,e.SRM_MINT=new o.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),e.SRM_DECIMALS=6;const a=i.union(i.u8("instruction"));a.addVariant(0,i.struct([i.u8("decimals"),s.publicKeyLayout("mintAuthority"),i.u8("freezeAuthorityOption"),s.publicKeyLayout("freezeAuthority")]),"initializeMint"),a.addVariant(1,i.struct([]),"initializeAccount"),a.addVariant(3,i.struct([i.nu64("amount")]),"transfer"),a.addVariant(4,i.struct([i.nu64("amount")]),"approve"),a.addVariant(5,i.struct([]),"revoke"),a.addVariant(6,i.struct([i.u8("authorityType"),i.u8("newAuthorityOption"),s.publicKeyLayout("newAuthority")]),"setAuthority"),a.addVariant(7,i.struct([i.nu64("amount")]),"mintTo"),a.addVariant(8,i.struct([i.nu64("amount")]),"burn"),a.addVariant(9,i.struct([]),"closeAccount");const c=Math.max(...Object.values(a.registry).map((e=>e.span)));function u(e){const t=Hn.alloc(c),r=a.encode(e,t);return t.slice(0,r)}e.decodeTokenInstructionData=function(e){return a.decode(e)},e.initializeMint=function({mint:t,decimals:r,mintAuthority:n,freezeAuthority:i=null}){const s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new o.TransactionInstruction({keys:s,data:u({initializeMint:{decimals:r,mintAuthority:n,freezeAuthorityOption:!!i,freezeAuthority:i||new o.PublicKey(0)}}),programId:e.TOKEN_PROGRAM_ID})},e.initializeAccount=function({account:t,mint:r,owner:n}){const i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new o.TransactionInstruction({keys:i,data:u({initializeAccount:{}}),programId:e.TOKEN_PROGRAM_ID})},e.transfer=function({source:t,destination:r,amount:n,owner:i}){const s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new o.TransactionInstruction({keys:s,data:u({transfer:{amount:n}}),programId:e.TOKEN_PROGRAM_ID})},e.approve=function({source:t,delegate:r,amount:n,owner:i}){const s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return new o.TransactionInstruction({keys:s,data:u({approve:{amount:n}}),programId:e.TOKEN_PROGRAM_ID})},e.revoke=function({source:t,owner:r}){const n=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new o.TransactionInstruction({keys:n,data:u({revoke:{}}),programId:e.TOKEN_PROGRAM_ID})},e.setAuthority=function({target:t,currentAuthority:r,newAuthority:n,authorityType:i}){const s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new o.TransactionInstruction({keys:s,data:u({setAuthority:{authorityType:i,newAuthorityOption:!!n,newAuthority:n}}),programId:e.TOKEN_PROGRAM_ID})},e.mintTo=function({mint:t,destination:r,amount:n,mintAuthority:i}){const s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new o.TransactionInstruction({keys:s,data:u({mintTo:{amount:n}}),programId:e.TOKEN_PROGRAM_ID})},e.closeAccount=function({source:t,destination:r,owner:n}){const i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new o.TransactionInstruction({keys:i,data:u({closeAccount:{}}),programId:e.TOKEN_PROGRAM_ID})}}(mq),function(e){var t=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.DexInstructions=e.decodeInstructionV2=e.decodeInstruction=e.encodeInstructionV2=e.encodeInstruction=e.INSTRUCTION_LAYOUT_V2=e.INSTRUCTION_LAYOUT=e.NEW_ORDER_V3_OWNER_INDEX=e.NEW_ORDER_V3_OPEN_ORDERS_INDEX=e.NEW_ORDER_OWNER_INDEX=e.NEW_ORDER_OPEN_ORDERS_INDEX=e.SETTLE_FUNDS_QUOTE_WALLET_INDEX=e.SETTLE_FUNDS_BASE_WALLET_INDEX=void 0;const r=PU,n=fN,i=rq,o=mq,s=t(fd);function a(t){const r=Hn.alloc(100);return r.slice(0,e.INSTRUCTION_LAYOUT.encode(t,r))}function c(t){const r=Hn.alloc(100);return r.slice(0,e.INSTRUCTION_LAYOUT_V2.encode(t,r))}e.SETTLE_FUNDS_BASE_WALLET_INDEX=5,e.SETTLE_FUNDS_QUOTE_WALLET_INDEX=6,e.NEW_ORDER_OPEN_ORDERS_INDEX=1,e.NEW_ORDER_OWNER_INDEX=4,e.NEW_ORDER_V3_OPEN_ORDERS_INDEX=1,e.NEW_ORDER_V3_OWNER_INDEX=7,e.INSTRUCTION_LAYOUT=new n.VersionedLayout(0,r.union(r.u32("instruction"))),e.INSTRUCTION_LAYOUT.inner.addVariant(0,r.struct([n.u64("baseLotSize"),n.u64("quoteLotSize"),r.u16("feeRateBps"),n.u64("vaultSignerNonce"),n.u64("quoteDustThreshold")]),"initializeMarket"),e.INSTRUCTION_LAYOUT.inner.addVariant(1,r.struct([n.sideLayout("side"),n.u64("limitPrice"),n.u64("maxQuantity"),n.orderTypeLayout("orderType"),n.u64("clientId")]),"newOrder"),e.INSTRUCTION_LAYOUT.inner.addVariant(2,r.struct([r.u16("limit")]),"matchOrders"),e.INSTRUCTION_LAYOUT.inner.addVariant(3,r.struct([r.u16("limit")]),"consumeEvents"),e.INSTRUCTION_LAYOUT.inner.addVariant(4,r.struct([n.sideLayout("side"),n.u128("orderId"),n.publicKeyLayout("openOrders"),r.u8("openOrdersSlot")]),"cancelOrder"),e.INSTRUCTION_LAYOUT.inner.addVariant(5,r.struct([]),"settleFunds"),e.INSTRUCTION_LAYOUT.inner.addVariant(6,r.struct([n.u64("clientId")]),"cancelOrderByClientId"),e.INSTRUCTION_LAYOUT.inner.addVariant(10,r.struct([n.sideLayout("side"),n.u64("limitPrice"),n.u64("maxBaseQuantity"),n.u64("maxQuoteQuantity"),n.selfTradeBehaviorLayout("selfTradeBehavior"),n.orderTypeLayout("orderType"),n.u64("clientId"),r.u16("limit")]),"newOrderV3"),e.INSTRUCTION_LAYOUT.inner.addVariant(11,r.struct([n.sideLayout("side"),n.u128("orderId")]),"cancelOrderV2"),e.INSTRUCTION_LAYOUT.inner.addVariant(12,r.struct([n.u64("clientId")]),"cancelOrderByClientIdV2"),e.INSTRUCTION_LAYOUT.inner.addVariant(14,r.struct([]),"closeOpenOrders"),e.INSTRUCTION_LAYOUT.inner.addVariant(15,r.struct([]),"initOpenOrders"),e.INSTRUCTION_LAYOUT.inner.addVariant(16,r.struct([r.u16("limit")]),"prune"),e.INSTRUCTION_LAYOUT.inner.addVariant(17,r.struct([r.u16("limit")]),"consumeEventsPermissioned"),e.INSTRUCTION_LAYOUT.inner.addVariant(18,r.struct([n.u64("clientId0"),n.u64("clientId1"),n.u64("clientId2"),n.u64("clientId3"),n.u64("clientId4"),n.u64("clientId5"),n.u64("clientId6"),n.u64("clientId7")]),"cancelOrdersByClientIds"),e.INSTRUCTION_LAYOUT_V2=new n.VersionedLayout(0,r.union(r.u32("instruction"))),e.INSTRUCTION_LAYOUT_V2.inner.addVariant(10,r.struct([n.sideLayout("side"),n.u64("limitPrice"),n.u64("maxBaseQuantity"),n.u64("maxQuoteQuantity"),n.selfTradeBehaviorLayout("selfTradeBehavior"),n.orderTypeLayout("orderType"),n.u64("clientId"),r.u16("limit"),n.i64("maxTs")]),"newOrderV3"),e.encodeInstruction=a,e.encodeInstructionV2=c,e.decodeInstruction=function(t){return e.INSTRUCTION_LAYOUT.decode(t)},e.decodeInstructionV2=function(t){return e.INSTRUCTION_LAYOUT_V2.decode(t)};e.DexInstructions=class{static initializeMarket({market:e,requestQueue:t,eventQueue:r,bids:n,asks:o,baseVault:s,quoteVault:c,baseMint:u,quoteMint:d,baseLotSize:f,quoteLotSize:l,feeRateBps:h,vaultSignerNonce:p,quoteDustThreshold:y,programId:m,authority:b,pruneAuthority:g,crankAuthority:v}){return new i.PublicKey("SysvarRent111111111111111111111111111111111"),new i.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:b?d:i.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(b?{pubkey:b,isSigner:!1,isWritable:!1}:[]).concat(b&&g?{pubkey:g,isSigner:!1,isWritable:!1}:[]).concat(b&&g&&v?{pubkey:v,isSigner:!1,isWritable:!1}:[]),programId:m,data:a({initializeMarket:{baseLotSize:f,quoteLotSize:l,feeRateBps:h,vaultSignerNonce:p,quoteDustThreshold:y}})})}static newOrder({market:e,openOrders:t,payer:r,owner:n,requestQueue:s,baseVault:c,quoteVault:u,side:d,limitPrice:f,maxQuantity:l,orderType:h,clientId:p,programId:y,feeDiscountPubkey:m=null}){const b=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:i.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return m&&b.push({pubkey:m,isSigner:!1,isWritable:!1}),new i.TransactionInstruction({keys:b,programId:y,data:a({newOrder:p?{side:d,limitPrice:f,maxQuantity:l,orderType:h,clientId:p}:{side:d,limitPrice:f,maxQuantity:l,orderType:h}})})}static newOrderV3({market:e,openOrders:t,payer:r,owner:n,requestQueue:u,eventQueue:d,bids:f,asks:l,baseVault:h,quoteVault:p,side:y,limitPrice:m,maxBaseQuantity:b,maxQuoteQuantity:g,orderType:v,clientId:w,programId:_,selfTradeBehavior:S,feeDiscountPubkey:E=null,maxTs:k=null}){const A=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:o.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:i.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];E&&A.push({pubkey:E,isSigner:!1,isWritable:!1});const x=k?c:a;return new i.TransactionInstruction({keys:A,programId:_,data:x({newOrderV3:{side:y,limitPrice:m,maxBaseQuantity:b,maxQuoteQuantity:g,selfTradeBehavior:S,orderType:v,clientId:w,limit:65535,maxTs:new s.default(k??"9223372036854775807")}})})}static matchOrders({market:e,requestQueue:t,eventQueue:r,bids:n,asks:o,baseVault:s,quoteVault:c,limit:u,programId:d}){return new i.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0}],programId:d,data:a({matchOrders:{limit:u}})})}static consumeEvents({market:e,eventQueue:t,coinFee:r,pcFee:n,openOrdersAccounts:o,limit:s,programId:c}){return new i.TransactionInstruction({keys:[...o.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))),{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWriteable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],programId:c,data:a({consumeEvents:{limit:s}})})}static consumeEventsPermissioned({market:e,eventQueue:t,crankAuthority:r,openOrdersAccounts:n,limit:o,programId:s}){return new i.TransactionInstruction({keys:[...n.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))),{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:s,data:a({consumeEventsPermissioned:{limit:o}})})}static cancelOrder({market:e,openOrders:t,owner:r,requestQueue:n,side:o,orderId:s,openOrdersSlot:c,programId:u}){return new i.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:u,data:a({cancelOrder:{side:o,orderId:s,openOrders:t,openOrdersSlot:c}})})}static cancelOrderV2(e){const{market:t,bids:r,asks:n,eventQueue:o,openOrders:s,owner:c,side:u,orderId:d,programId:f}=e;return new i.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0}],programId:f,data:a({cancelOrderV2:{side:u,orderId:d}})})}static cancelOrderByClientId({market:e,openOrders:t,owner:r,requestQueue:n,clientId:o,programId:s}){return new i.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:s,data:a({cancelOrderByClientId:{clientId:o}})})}static cancelOrderByClientIdV2({market:e,openOrders:t,owner:r,bids:n,asks:o,eventQueue:s,clientId:c,programId:u}){return new i.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}],programId:u,data:a({cancelOrderByClientIdV2:{clientId:c}})})}static cancelOrdersByClientIds({market:e,openOrders:t,owner:r,bids:n,asks:o,eventQueue:c,clientIds:u,programId:d}){if(u.length>8)throw new Error("Number of client ids cannot exceed 8!");for(;u.length<8;)u.push(new s.default(0));return new i.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0}],programId:d,data:a({cancelOrdersByClientIds:Object.fromEntries(u.map(((e,t)=>[`clientId${t}`,e])))})})}static settleFunds({market:e,openOrders:t,owner:r,baseVault:n,quoteVault:s,baseWallet:c,quoteWallet:u,vaultSigner:d,programId:f,referrerQuoteWallet:l=null}){const h=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:o.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}];return l&&h.push({pubkey:l,isSigner:!1,isWritable:!0}),new i.TransactionInstruction({keys:h,programId:f,data:a({settleFunds:{}})})}static closeOpenOrders({market:e,openOrders:t,owner:r,solWallet:n,programId:o}){const s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1}];return new i.TransactionInstruction({keys:s,programId:o,data:a({closeOpenOrders:{}})})}static initOpenOrders({market:e,openOrders:t,owner:r,programId:n,marketAuthority:o}){const s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:i.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(o?{pubkey:o,isSigner:!1,isWritable:!1}:[]);return new i.TransactionInstruction({keys:s,programId:n,data:a({initOpenOrders:{}})})}static prune({market:e,bids:t,asks:r,eventQueue:n,pruneAuthority:o,openOrders:s,openOrdersOwner:c,programId:u,limit:d}){const f=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0}];return new i.TransactionInstruction({keys:f,programId:u,data:a({prune:{limit:d}})})}}}(yq);var bq={};Object.defineProperty(bq,"__esModule",{value:!0}),bq.EVENT_QUEUE_LAYOUT=bq.REQUEST_QUEUE_LAYOUT=bq.decodeEventQueue=bq.decodeRequestQueue=bq.decodeEventsSince=void 0;const gq=PU,vq=fN,wq=gq.struct([gq.blob(5),vq.accountFlagsLayout("accountFlags"),gq.u32("head"),vq.zeros(4),gq.u32("count"),vq.zeros(4),gq.u32("nextSeqNum"),vq.zeros(4)]),_q=gq.bits(gq.u8(),!1,"requestFlags");_q.addBoolean("newOrder"),_q.addBoolean("cancelOrder"),_q.addBoolean("bid"),_q.addBoolean("postOnly"),_q.addBoolean("ioc");const Sq=gq.struct([_q,gq.u8("openOrdersSlot"),gq.u8("feeTier"),gq.blob(5),vq.u64("maxBaseSizeOrCancelId"),vq.u64("nativeQuoteQuantityLocked"),vq.u128("orderId"),vq.publicKeyLayout("openOrders"),vq.u64("clientOrderId")]),Eq=gq.struct([gq.blob(5),vq.accountFlagsLayout("accountFlags"),gq.u32("head"),vq.zeros(4),gq.u32("count"),vq.zeros(4),gq.u32("seqNum"),vq.zeros(4)]),kq=gq.bits(gq.u8(),!1,"eventFlags");kq.addBoolean("fill"),kq.addBoolean("out"),kq.addBoolean("bid"),kq.addBoolean("maker");const Aq=gq.struct([kq,gq.u8("openOrdersSlot"),gq.u8("feeTier"),gq.blob(5),vq.u64("nativeQuantityReleased"),vq.u64("nativeQuantityPaid"),vq.u64("nativeFeeOrRebate"),vq.u128("orderId"),vq.publicKeyLayout("openOrders"),vq.u64("clientOrderId")]);function xq(e,t,r,n){return t.decode(r,e.span+n*t.span)}function Iq(e,t,r,n){const i=e.decode(r),o=Math.floor((r.length-e.span)/t.span),s=[];if(n)for(let a=0;a<Math.min(n,o);++a){const n=(i.head+i.count+o-1-a)%o;s.push(xq(e,t,r,n))}else for(let n=0;n<i.count;++n){const a=(i.head+n)%o;s.push(xq(e,t,r,a))}return{header:i,nodes:s}}bq.decodeEventsSince=function(e,t){const r=Eq.decode(e),n=Math.floor((e.length-Eq.span)/Aq.span),i=4294967296;let o=(r.seqNum-t+i)%i;o>n&&(o=n-1);const s=(r.seqNum-o+i)%i,a=((r.head+r.count)%n-o+n)%n,c=[];for(let t=0;t<o;++t){const r=xq(Eq,Aq,e,(a+t)%n);r.seqNum=(s+t)%i,c.push(r)}return c},bq.decodeRequestQueue=function(e,t){const{header:r,nodes:n}=Iq(wq,Sq,e,t);if(!r.accountFlags.initialized||!r.accountFlags.requestQueue)throw new Error("Invalid requests queue");return n},bq.decodeEventQueue=function(e,t){const{header:r,nodes:n}=Iq(Eq,Aq,e,t);if(!r.accountFlags.initialized||!r.accountFlags.eventQueue)throw new Error("Invalid events queue");return n},bq.REQUEST_QUEUE_LAYOUT={HEADER:wq,NODE:Sq},bq.EVENT_QUEUE_LAYOUT={HEADER:Eq,NODE:Aq};var Tq={},Oq={};const Pq=[{address:"B37pZmwrwXHjpgvd9hHDAx1yeDsNevTnbbrN9W12BoGK",deprecated:!0,name:"soALEPH/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"CAgAeMD7quTdnr6RPa7JySQpjf3irAmefYNdTb6anemq",deprecated:!0,name:"BTC/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"ASKiV944nKg1W9vsf7hf3fTsjawK6DwLwrnB2LH9n61c",deprecated:!0,name:"soETH/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"Cdp72gDcYMCLLk3aDkPxjeiirKoFqK38ECm8Ywvk94Wi",deprecated:!0,name:"SOL/soUSDC",programId:"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{address:"68J6nkWToik6oM9rTatKSR5ibVSykAtzftBUEAvpRsys",deprecated:!0,name:"SRM/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"8Jzed8Fafu1RU1CQDWdiETSrqAJy1ukZ5JL6Pma3p3a2",deprecated:!0,name:"SRM/SOL",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"9wDmxsfwaDb2ysmZpBLzxKzoWrF1zHzBN7PV5EmJe19R",deprecated:!0,name:"soSUSHI/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"GbQSffne1NcJbS4jsewZEpRGYVR4RNnuVUN8Ht6vAGb6",deprecated:!0,name:"soSXP/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"7kgkDyW7dmyMeP8KFXzbcUZz1R2WHsovDZ7n3ihZuNDS",deprecated:!0,name:"MSRM/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"FZqrBXz7ADGsmDf1TM9YgysPUfvtG8rJiNUrqDpHc9Au",deprecated:!0,name:"soFTT/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"FJg9FUtbN3fg3YFbMCFiZKjGh5Bn4gtzxZmtxFzmz9kT",deprecated:!0,name:"soYFI/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"7GZ59DMgJ7D6dfoJTpszPayTRyua9jwcaGJXaRMMF1my",deprecated:!0,name:"soLINK/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"uPNcBgFhrLW3FtvyYYbBUi53BBEQf9e4NPgwxaLu5Hn",deprecated:!0,name:"soHGET/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"3puWJFZyCso14EdxhywjD7xqyTarpsULx483mzvqxQRW",deprecated:!0,name:"soCREAM/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"8Ae7Uhigx8k4fKdJG7irdPCVDZLvWsJfeTH2t5fr3TVD",deprecated:!0,name:"soUBXT/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"Hze5AUX4Qp1cTujiJ4CsAMRGn4g6ZpgXsmptFn3xxhWg",deprecated:!0,name:"soHNT/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"FJq4HX3bUSgF3yQZ8ADALtJYfAyr9fz36SNG18hc3dgF",deprecated:!0,name:"soFRONT/soUSDC",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"BZMuoQ2i2noNUXMdrRDivc7MwjGspNJTCfZkdHMwK18T",deprecated:!0,name:"soALEPH/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"5LgJphS6D5zXwUVPU7eCryDBkyta3AidrJ5vjNU6BcGW",deprecated:!0,name:"BTC/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"DmEDKZPXXkWgaYiKgWws2ZXWWKCh41eryDPRVD4zKnD9",deprecated:!0,name:"soETH/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"EBFTQNg2QjyxV7WDDenoLbfLLXLcbSz6w1YrdTCGPWT5",deprecated:!0,name:"SOL/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"8YmQZRXGizZXYPCDmxgjwB8X8XN4PZG7MMwNg76iAmPZ",deprecated:!0,name:"SRM/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"9vFuX2BizwinWjkZLQTmThDcNMFEcY3wVXYuqnRQtcD",deprecated:!0,name:"soSUSHI/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"C5NReXAeQhfjiDCGPFj1UUmDxDqF8v2CUVKoYuQqb4eW",deprecated:!0,name:"soSXP/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"58H7ZRmiyWtsrz2sQGz1qQCMW6n7447xhNNehUSQGPj5",deprecated:!0,name:"MSRM/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"ES8skmkEeyH1BYFThd2FtyaFKhkqtwH7XWp8mXptv3vg",deprecated:!0,name:"soFTT/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"Gw78CYLLFbgmmn4rps9KoPAnNtBQ2S1foL2Mn6Z5ZHYB",deprecated:!0,name:"soYFI/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"WjfsTPyrvUUrhGJ9hVQFubMnKDcnQS8VxSXU7L2gLcA",deprecated:!0,name:"soLINK/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"2ZmB255T4FVUugpeXTFxD6Yz5GE47yTByYvqSTDUbk3G",deprecated:!0,name:"soHGET/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FGJtCDXoHLHjagP5Ht6xcUFt2rW3z8MJPe87rFKP2ZW6",deprecated:!0,name:"soCREAM/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7K6MPog6LskZmyaYwqtLvRUuedoiE68nirbQ9tK3LasE",deprecated:!0,name:"soUBXT/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"9RyozJe3bkAFfH3jmoiKHjkWCoLTxn7aBQSi6YfaV6ab",deprecated:!0,name:"soHNT/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"AGtBbGuJZiv3Ko3dfT4v6g4kCqnNc9DXfoGLe5HpjmWx",deprecated:!0,name:"soFRONT/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"AA1HSrsMcRNzjaQfRMTNarHR9B7e4U79LJ2319UtiqPF",deprecated:!0,name:"soAKRO/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"AUAobJdffexcoJBMeyLorpShu3ZtG9VvPEPjoeTN4u5Z",deprecated:!0,name:"soHXRO/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"GpdYLFbKHeSeDGqsnQ4jnP7D1294iBpQcsN1VPwhoaFS",deprecated:!0,name:"soUNI/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"sxS9EdTx1UPe4j2c6Au9f1GKZXrFj5pTgNKgjGGtGdY",deprecated:!0,name:"soKEEP/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"CfnnU38ACScF6pcurxSB3FLXeZmfFYunVKExeUyosu5P",deprecated:!0,name:"soMATH/soUSDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7NR5GDouQYkkfppVkNhpa4HfJ2LwqUQymE3b4CYQiYHa",deprecated:!0,name:"soALEPH/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"CVfYa8RGXnuDBeGmniCcdkBwoLqVxh92xB1JqgRQx3F",deprecated:!0,name:"BTC/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"H5uzEytiByuXt964KampmuNCurNDwkVVypkym75J2DQW",deprecated:!0,name:"soETH/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7xMDbYTCqQEcK2aM9LbetGtNFJpzKdfXzLL5juaLh4GJ",deprecated:!0,name:"SOL/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"CDdR97S8y96v3To93aKvi3nCnjUrbuVSuumw8FLvbVeg",deprecated:!0,name:"SRM/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7LVJtqSrF6RudMaz5rKGTmR3F3V5TKoDcN6bnk68biYZ",deprecated:!0,name:"soSUSHI/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"13vjJ8pxDMmzen26bQ5UrouX8dkXYPW1p3VLVDjxXrKR",deprecated:!0,name:"soSXP/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"AwvPwwSprfDZ86beBJDNH5vocFvuw4ZbVQ6upJDbSCXZ",deprecated:!0,name:"MSRM/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FfDb3QZUdMW2R2aqJQgzeieys4ETb3rPrFFfPSemzq7R",deprecated:!0,name:"soFTT/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"4QL5AQvXdMSCVZmnKXiuMMU83Kq3LCwVfU8CyznqZELG",deprecated:!0,name:"soYFI/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7JCG9TsCx3AErSV3pvhxiW4AbkKRcJ6ZAveRmJwrgQ16",deprecated:!0,name:"soLINK/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"3otQFkeQ7GNUKT3i2p3aGTQKS2SAw6NLYPE5qxh3PoqZ",deprecated:!0,name:"soHGET/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"2M8EBxFbLANnCoHydypL1jupnRHG782RofnvkatuKyLL",deprecated:!0,name:"soCREAM/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"3UqXdFtNBZsFrFtRGAWGvy9R8H6GJR2hAyGRdYT9BgG3",deprecated:!0,name:"soUBXT/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"9jiasgdYGGh34fAbBQSwkKe1dYSapXbjy2sLsYpetqFp",deprecated:!0,name:"soHNT/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7oKqJhnz9b8af8Mw47dieTiuxeaHnRYYGBiqCrRpzTRD",deprecated:!0,name:"soFRONT/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"F1rxD8Ns5w4WzVcTRdaJ96LG7YKaA5a25BBmM32yFP4b",deprecated:!0,name:"soAKRO/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"6ToedDwjRCvrcKX7fnHSTA9uABQe1dcLK6YgS5B9M3wo",deprecated:!0,name:"soHXRO/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FURvCsDUiuUaxZ13pZqQbbfktFGWmQVTHz7tL992LQVZ",deprecated:!0,name:"soUNI/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"EcfDRMrEJ3yW4SgrRyyxTPoKqAZDNSBV8EerigT7BNSS",deprecated:!0,name:"soKEEP/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"2bPsJ6bZ9KDLfJ8QgSN1Eb4mRsbAiaGyHN6cJkoVLpwd",deprecated:!0,name:"soMATH/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"B1GypajMh7S8zJVp6M1xMfu6zGsMgvYrt3cSn9wG7Dd6",deprecated:!0,name:"soTOMO/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"rPTGvVrNFYzBeTEcYnHiaWGNnkSXsWNNjUgk771LkwJ",deprecated:!0,name:"soLUA/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FrDavxi4QawYnQY259PVfYUjUvuyPNfqSXbLBqMnbfWJ",deprecated:!0,name:"FIDA/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"CVn1nJ5Utuseyy2qqwrpYoJz9Y7jjYonVL4UYvcCepDH",deprecated:!0,name:"KIN/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"BqjGW7ousAizgs8VrHo5SR1LxTksAQPtb8cKZZiNvX5D",deprecated:!0,name:"MAPS/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"GcoKtAmTy5QyuijXSmJKBtFdt99e6Buza18Js7j9AJ6e",deprecated:!1,name:"soALEPH/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"A8YFbxQYFVqKZaoYJLLUVcQiWP7G2MeEgW5wsAQgMvFw",deprecated:!1,name:"BTC/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4tSvZvnbyzHXLMTiFonMyxZoHmFqau1XArcRCVHLZ5gX",deprecated:!1,name:"soETH/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"ByRys5tuUWDgL73G8JBAEfkdFf8JWBzPBDHsBVQ5vbQA",deprecated:!1,name:"SRM/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"A1Q9iJDVVS8Wsswr9ajeZugmj64bQVCYLZQLra2TMBMo",deprecated:!1,name:"soSUSHI/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4LUro5jaPaTurXK737QAxgJywdhABnFAMQkXX4ZyqqaZ",deprecated:!1,name:"soSXP/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4VKLSYdvrQ5ngQrt1d2VS8o4ewvb2MMUZLiejbnGPV33",deprecated:!1,name:"MSRM/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"2Pbh1CvRVku1TgewMfycemghf6sU9EyuFDcNXqvRmSxc",deprecated:!1,name:"soFTT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7qcCo8jqepnjjvB5swP4Afsr3keVBs6gNpBTNubd1Kr2",deprecated:!1,name:"soYFI/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"3hwH1txjJVS8qv588tWrjHfRxdqNjBykM1kMcit484up",deprecated:!1,name:"soLINK/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"88vztw7RTN6yJQchVvxrs6oXUDryvpv9iJaFa1EEmg87",deprecated:!1,name:"soHGET/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7nZP6feE94eAz9jmfakNJWPwEKaeezuKKC5D1vrnqyo2",deprecated:!1,name:"soCREAM/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"2wr3Ab29KNwGhtzr5HaPCyfU1qGJzTUAN4amCLZWaD1H",deprecated:!1,name:"soUBXT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"CnUV42ZykoKUnMDdyefv5kP6nDSJf7jFd7WXAecC6LYr",deprecated:!1,name:"soHNT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"9Zx1CvxSVdroKMMWf2z8RwrnrLiQZ9VkQ7Ex3syQqdSH",deprecated:!1,name:"soFRONT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"5CZXTTgVZKSzgSA3AFMN5a2f3hmwmmJ6hU8BHTEJ3PX8",deprecated:!1,name:"soAKRO/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"6Pn1cSiRos3qhBf54uBP9ZQg8x3JTardm1dL3n4p29tA",deprecated:!1,name:"soHXRO/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"6JYHjaQBx6AtKSSsizDMwozAEDEZ5KBsSUzH7kRjGJon",deprecated:!1,name:"soUNI/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"J7cPYBrXVy8Qeki2crZkZavcojf2sMRyQU7nx438Mf8t",deprecated:!1,name:"soMATH/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"8BdpjpSD5n3nk8DQLqPUyTZvVqFu6kcff5bzUX5dqDpy",deprecated:!1,name:"soTOMO/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4xyWjQ74Eifq17vbue5Ut9xfFNfuVB116tZLEpiZuAn8",deprecated:!1,name:"soLUA/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"jyei9Fpj2GtHLDDGgcuhDacxYLLiSyxU4TY7KxB2xai",deprecated:!1,name:"SRM/SOL",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT",deprecated:!1,name:"SOL/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"E14BKBhDWD4EuTkWj1ooZezesGxMW8LPCps4W5PuzZJo",deprecated:!1,name:"FIDA/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"Bn6NPyr6UzrFAwC4WmvPvDr2Vm8XSUnFykM2aQroedgn",deprecated:!1,name:"KIN/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"3A8XQRWXC7BjLpgLDDBhQJLT5yPCzS16cGYRKHkKxvYo",deprecated:!1,name:"MAPS/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"3rgacody9SvM88QR83GHaNdEEx4Fe2V2ed5GJp2oeKDr",deprecated:!1,name:"soKEEP/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"EmCzMQfXMgNHcnRoFwAdPe1i2SuiSzMj1mx6wu3KN2uA",deprecated:!0,name:"soALEPH/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"8AcVjMG2LTbpkjNoyq8RwysokqZunkjy3d5JDzxC6BJa",deprecated:!0,name:"BTC/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"HfCZdJ1wfsWKfYP2qyWdXTT5PWAGWFctzFjLH48U1Hsd",deprecated:!0,name:"soETH/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"8mDuvJJSgoodovMRYArtVVYBbixWYdGzR47GPrRT65YJ",deprecated:!0,name:"SOL/soUSDT",programId:"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{address:"HARFLhSq8nECZk4DVFKvzqXMNMA9a3hjvridGMFizeLa",deprecated:!0,name:"SRM/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"DzFjazak6EKHnaB2w6qSsArnj28CV1TKd2Smcj9fqtHW",deprecated:!0,name:"soSUSHI/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"GuvWMATdEV6DExWnXncPYEzn4ePWYkvGdC8pu8gsn7m7",deprecated:!0,name:"soSXP/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"H4snTKK9adiU15gP22ErfZYtro3aqR9BTMXiH3AwiUTQ",deprecated:!0,name:"MSRM/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"DHDdghmkBhEpReno3tbzBPtsxCt6P3KrMzZvxavTktJt",deprecated:!0,name:"soFTT/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"5zu5bTZZvqESAAgFsr12CUMxdQvMrvU9CgvC1GW8vJdf",deprecated:!0,name:"soYFI/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"F5xschQBMpu1gD2q1babYEAVJHR1buj1YazLiXyQNqSW",deprecated:!0,name:"soLINK/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"BAbc9baz4hV1hnYjWSJ6cZDRjfvziWbYGQu9UFkcdUmx",deprecated:!0,name:"soHGET/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"EBxJWA2nLV57ZntbjizxH527ZjPNLT5cpUHMnY5k3oq",deprecated:!0,name:"soCREAM/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"46VdEkj4MJwZinwVb3Y7DUDpVXLNb9YW7P2waKU3vCqr",deprecated:!0,name:"soUBXT/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"Hc22rHKrhbrZBaQMmhJvPTkp1yDr31PDusU8wKoqFSZV",deprecated:!0,name:"soHNT/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"HFoca5HKwiTPpw9iUY5iXWqzkXdu88dS7YrpSvt2uhyF",deprecated:!0,name:"soFRONT/soUSDT",programId:"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{address:"5xnYnWca2bFwC6cPufpdsCbDJhMjYCC59YgwoZHEfiee",deprecated:!0,name:"soALEPH/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"EXnGBBSamqzd3uxEdRLUiYzjJkTwQyorAaFXdfteuGXe",deprecated:!0,name:"BTC/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"5abZGhrELnUnfM9ZUnvK6XJPoBU5eShZwfFPkdhAC7o",deprecated:!0,name:"soETH/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7xLk17EQQ5KLDLDe44wCmupJKJjTGd8hs3eSVVhCx932",deprecated:!0,name:"SOL/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"H3APNWA8bZW2gLMSq5sRL41JSMmEJ648AqoEdDgLcdvB",deprecated:!0,name:"SRM/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"4uZTPc72sCDcVRfKKii67dTPm2Xe4ri3TYnGcUQrtnU9",deprecated:!0,name:"soSUSHI/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"33GHmwG9woY95JuWNi74Aa8uKvysSXxif9P1EwwkrCRz",deprecated:!0,name:"soSXP/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FUaF58sDrgbqakHTR8RUwRLauSofRTjqyCsqThFPh6YM",deprecated:!0,name:"MSRM/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"5NqjQVXLuLSDnsnQMfWp3rF9gbWDusWG4B1Xwtk3rZ5S",deprecated:!0,name:"soFTT/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"97NiXHUNkpYd1eb2HthSDGhaPfepuqMAV3QsZhAgb1wm",deprecated:!0,name:"soYFI/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"hBswhpNyz4m5nt4KwtCA7jYXvh7VmyZ4TuuPmpaKQb1",deprecated:!0,name:"soLINK/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"GaeUpY7CT8rjoeVGjY1t3mJJDd1bdXxYWtrGSpsVFors",deprecated:!0,name:"soHGET/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7qq9BABQvTWKZuJ5fX2PeTKX6XVtduEs9zW9WS21fSzN",deprecated:!0,name:"soCREAM/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"DCHvVahuLTNWBGUtEzF5GrTdx5FRpxqEJiS6Ru1hrDfD",deprecated:!0,name:"soUBXT/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"DWjJ8VHdGYBxDQYdrRBVDWkHswrgjuBFEv5pBhiRoPBz",deprecated:!0,name:"soHNT/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"56eqxJYzPigm4FkigiBdsfebjMgAbKNh24E7oiKLBtye",deprecated:!0,name:"soFRONT/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FQbCNSVH3RgosCPB4CJRstkLh5hXkvuXzAjQzT11oMYo",deprecated:!0,name:"soAKRO/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"Fs5xtGUmJTYo8Ao75M3R3m3mVX53KMUhzfXCmyRLnp2P",deprecated:!0,name:"soHXRO/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"ChKV7mxecPqFPGYJjhzowPHDiLKFWXXVujUiE3EWxFcg",deprecated:!0,name:"soUNI/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"6N3oU7ALvn2RPwdpYVzPBgQJ8njT29inBbS2tSrwx8fh",deprecated:!0,name:"soKEEP/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"5P6dJbyKySFXMYNWiEcNQu8xPRYsehYzCeVpae9Ueqrg",deprecated:!0,name:"soMATH/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"H7c8FcQPJ2E5tJmpWBPSi7xCAbk8immdtUxKFRUyE4Ro",deprecated:!0,name:"soTOMO/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"7PSeX1AEtBY9KvgegF5rUh452VemMh7oDzFtJgH7sxMG",deprecated:!0,name:"soLUA/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"AF2oQQaLtcrTnQyVs3EPTdyw57TPaK6njKYDq2Qw7LqP",deprecated:!0,name:"soSWAG/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"9TE15E5h61zJ5VmQAAHkGrAuQdFTth33aBbKdcrppZBp",deprecated:!0,name:"FIDA/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"8HEaA1vSA5mGQoHcvRPNibnuZvnUpSjJJru9HJNH3SqM",deprecated:!0,name:"KIN/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"8EuuEwULFM7n7zthPjC7kA64LPRzYkpAyuLFiLuVg7D4",deprecated:!0,name:"soUSDT/USDC",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"8grUs4WZoTs4KJ8LfRNUBs6SNkMTp5BnVRzJgQ2ranDT",deprecated:!0,name:"MAPS/soUSDT",programId:"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{address:"FoCuWt4KboucUg2PwmQ3dbkvLqYPLnAo1Rsm8p7QPyf",deprecated:!0,name:"soALEPH/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"5r8FfnbNYcQbS1m4CYmoHYGjBtu6bxfo6UJHNRfzPiYH",deprecated:!0,name:"BTC/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"71CtEComq2XdhGNbXBuYPmosAjMCPSedcgbNi5jDaGbR",deprecated:!0,name:"soETH/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"EZyQ9zyqQsw3QcsLksoWyd1UFVjHZkzRx8N4ZMnZQrS2",deprecated:!0,name:"SRM/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"6ERBjj692XHLWwWSRAUpiKenXshcwmPqhMy7RMapeoKa",deprecated:!0,name:"soSUSHI/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"CQ3kAGxPmpBbak2RSHWyMeRhyLYbH6oVZHJxgjzDLpLW",deprecated:!0,name:"soSXP/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"2Hqn46jhwaQMQ3zEnHtxrWxQZom6qwLXAgdsFJM1Srwh",deprecated:!0,name:"MSRM/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"G5jqZNo2UVCTnJxgEhKCYvqFRs3MxsnH8Bervq3rfLoL",deprecated:!0,name:"soFTT/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"CbwtTHEpfTnCyLw4GoTbKk7WyrXkuATLfLadY2odBSsY",deprecated:!0,name:"soYFI/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"5GjhBAYx8pYeCeUQt7rt93KQZnoQFuDq9Jx4iqq97Mip",deprecated:!0,name:"soLINK/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"9jMPV9E23pTirMjC7vz5suRNkd25311G3Httg7jTib8R",deprecated:!0,name:"soCREAM/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"DsSz9KWT97T4RewRTqTNDpNFQyxMPcuYNAJw2xHAzSiZ",deprecated:!0,name:"soUBXT/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"3k1sURztjxhjYczjyioQ7y2UkMB6K5Ksi3SWvLeLx6Ex",deprecated:!0,name:"soHNT/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"B791G8UCahfmABVcR2wPAMK6LJnuqxSAqiG6wX3mmVVM",deprecated:!0,name:"soFRONT/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"95f7fxfUh8WqUTrdjorHRXm6rTfkWqr23ioGMmKMjedP",deprecated:!0,name:"soAKRO/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"H4RxtmQ4P3TYPt78G3DuHgaGzyFct6MfaeYneLB5PyeG",deprecated:!0,name:"soHXRO/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7myaZEGZf9m72T1Mqm8GTx5MnmSFS5NCXSwRP18W4EA3",deprecated:!0,name:"soUNI/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7cRKzNoqjF9VtzvdnP129VYP3izivk9iY3jMJBMzREVT",deprecated:!0,name:"soHGET/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"GV9fYzdwipoaagXFxe5tzDMPcmSVQati5CUvBPsEZThH",deprecated:!0,name:"soMATH/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"AaMLXcwYYi5fA41JNCB2ukAmQyKHitYx5NnpsiWWev6R",deprecated:!0,name:"soTOMO/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"5ZeNLrduGi3WkH9CPwv2Zpbkh38MH8v63aSi2aBUW23g",deprecated:!0,name:"soLUA/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"Ec1aq54XKH9o5fe169cU2sCcxxTP54eeQCe77SpizKuc",deprecated:!0,name:"soUSDT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"G3uhFg2rBFunHUXtCera13vyQ5KCS8Hx3d4HohLoZbT5",deprecated:!0,name:"SOL/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"2NMTG7tFZidRpQk9Sf4dgQyJb9HxKCyXjQdiuXww3sKm",deprecated:!0,name:"soSWAG/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7QpJAiwGmqY1SiucjfPXvgeWwCobyV6hZSgzMysZX6Ww",deprecated:!0,name:"FIDA/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"CmLhvXARncLncE1949XBfQWeJh6Zvw3FE5A3Z5ecPYQH",deprecated:!0,name:"KIN/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"FhP3X2ptdi7L1RtWK9Vfow5dyzD92gfXiA57e8eqxvka",deprecated:!0,name:"MAPS/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"DE7xJE2EkaV81wLabDMuhBzUwFhhwfURLdz1aXBBQZQ1",deprecated:!0,name:"soKEEP/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"5nLJ22h1DUfeCfwbFxPYK8zbfbri7nA9bXoDcR8AcJjs",deprecated:!1,name:"MSRM/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7dLVkUfBVfCGkFhSXDCq1ukM9usathSgS716t643iFGF",deprecated:!1,name:"soETH/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"8afKwzHR3wJE7W7Y5hvQkngXh6iTepSZuutRMMy96MjR",deprecated:!1,name:"soSXP/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"cgani53cMZgYfRMgSrNekJTMaLmccRfspsfTbXWRg7u",deprecated:!1,name:"soCEL/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"Gyp1UGRgbrb6z8t7fpssxEKQgEmcJ4pVnWW3ds2p6ZPY",deprecated:!1,name:"soALEPH/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4ztJEvQyryoYagj2uieep3dyPwG2pyEwb2dKXTwmXe82",deprecated:!1,name:"soCREAM/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"HEGnaVL5i48ubPBqWAhodnZo8VsSLzEM3Gfc451DnFj9",deprecated:!1,name:"soKEEP/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"8FpuMGLtMZ7Wt9ZvyTGuTVwTwwzLYfS5NZWcHxbP1Wuh",deprecated:!1,name:"soHNT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"5GAPymgnnWieGcRrcghZdA3aanefqa4cZx1ZSE8UTyMV",deprecated:!1,name:"soMAPS/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"AADohBGxvf7bvixs2HKC3dG2RuU3xpZDwaTzYFJThM8U",deprecated:!1,name:"TRYB/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"EbV7pPpEvheLizuYX3gUCvWM8iySbSRAhu2mQ5Vz2Mxf",deprecated:!1,name:"FIDA/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"FcPet5fz9NLdbXwVM6kw2WTHzRAD7mT78UjwTpawd7hJ",deprecated:!1,name:"soRSR/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"AtNnsY1AyRERWJ8xCskfz38YdvruWVJQUVXgScC1iPb",deprecated:!1,name:"SRM/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"teE55QrL4a4QSfydR9dnHF97jgCfptpuigbb53Lo95g",deprecated:!1,name:"RAY/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"C1EuT9VokAKLiW7i2ASnZUvxDoKuKkCpDDeNxAptuNe4",deprecated:!1,name:"BTC/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"Hr3wzG8mZXNHV7TuL6YqtgfVUesCqMxGYCEyP3otywZE",deprecated:!1,name:"soFTT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"HLvRdctRB48F9yLnu9E24LUTRt89D48Z35yi1HcxayDf",deprecated:!1,name:"soAKRO/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"2SSnWNrc83otLpfRo792P6P3PESZpdr8cu2r8zCE6bMD",deprecated:!1,name:"soUNI/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"F1T7b6pnR8Pge3qmfNUfW6ZipRDiGpMww6TKTrRU4NiL",deprecated:!1,name:"soUBXT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1",deprecated:!1,name:"SOL/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"35tV8UsHH8FnSAi3YFRrgCu4K9tb883wKnAXpnihot5r",deprecated:!1,name:"soLUA/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"6DgQRTpJTnAYBSShngAVZZDq7j9ogRN1GfSQ3cq9tubW",deprecated:!1,name:"soSUSHI/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"2WghiBkDL2yRhHdvm8CpprrkmfguuQGJTCDfPSudKBAZ",deprecated:!1,name:"soMATH/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"ErQXxiNfJgd4fqQ58PuEw5xY35TZG84tHT6FXf5s4UxY",deprecated:!1,name:"soHGET/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"CGC4UgWwqA9PET6Tfx6o6dLv94EK2coVkPtxgNHuBtxj",deprecated:!1,name:"soFRONT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"GnKPri4thaGipzTbp8hhSGSrHgG4F8MFiZVrbRn16iG2",deprecated:!1,name:"soTOMO/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"6bxuB5N3bt3qW8UnPNLgMMzDq5sEH8pFmYJYGgzvE11V",deprecated:!1,name:"soAAVE/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"7cknqHAuGpfVXPtFoJpFvUjJ8wkmyEfbFusmwMfNy3FE",deprecated:!1,name:"MAPS/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4absuMsgemvdjfkgdLQq1zKEjw3dHBoCWkzKoctndyqd",deprecated:!1,name:"soHXRO/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"4nCFQr8sahhhL4XJ7kngGFBmpkmyf3xLzemuMhn6mWTm",deprecated:!1,name:"KIN/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"3Xg9Q4VtZhD4bVYJbTfgGWFV5zjE3U7ztSHa938zizte",deprecated:!1,name:"soYFI/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"3yEZ9ZpXSQapmKjLAGKZEzUNA1rcupJtsDp5mPBWmGZR",deprecated:!1,name:"soLINK/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"J2XSt77XWim5HwtUM8RUwQvmRXNZsbMKpp5GTKpHafvf",deprecated:!1,name:"soSWAG/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"77quYg4MGneUdjgXCunt9GgM1usmrxKY31twEy3WHwcS",deprecated:!1,name:"USDT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"GKLev6UHeX1KSDCyo2bzyG6wqhByEzDBkmYTxEdmYJgB",deprecated:!1,name:"OXY/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{address:"HdBhZrnrxpje39ggXnTb6WuTWVvj5YKcSHwYGQCRsVj",deprecated:!1,name:"OXY/soUSDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"OXY/USDC",address:"GZ3WBFsqntmERPwumFEYgrX2B7J7G11MzNZAy7Hje27X",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"xCOPE/USDC",address:"7MpMwArporUHEGW7quUpkPZp5L5cHPs9eKUfKCdaPHq2",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"COPE/USDC",address:"6fc7v3PmjZG9Lk2XTot6BywGyYLkBQuzuFKd4FpCsPxk",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"MER/USDC",address:"HhvDWug3ftYNx5148ZmrQxzvEmohN2pKVNiRT4TVoekF",deprecated:!0,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"MER/USDT",address:"6HwcY27nbeb933UkEcxqJejtjWLfNQFWkGCjAVNes6g7",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"MER/USDC",address:"G4LcexdCzzJUKZfqyVDQFzpkjhB1JoCNL8Kooxi9nJz5",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"SNY/USDC",address:"DPfj2jYwPaezkCmUNm5SSYfkrkz8WFqwGLcxDDUsN3gA",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"SLRS/USDC",address:"2Gx3UfV831BAh8uQv1FKSPKS9yajfeeD8GJ4ZNb2o2YP",deprecated:!1,programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{name:"ETHV/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"HrgkuJryyKRserkoz7LBFYkASzhXHWp9XA6fRYCA6PHb"},{name:"IETHV/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"5aoLj1bySDhhWjo7cLfT3pF2gqNGd63uEJ9HMSfASESL"},{name:"SBR/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"HXBi8YBwbh4TXF6PjVw81m8Z3Cc4WBofvauj5SBFdgUs"},{name:"renBTC/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"74Ciu5yRzhe8TFTHvQuEVbFZJrbnCMRoohBK33NNiPtv"},{name:"renDOGE/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"5FpKCWYXgHWZ9CdDMHjwxAfqxJLdw2PRXuAmtECkzADk"},{name:"DXL/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"DYfigimKWc5VhavR4moPBibx9sMcWYVSjVdWvPztBPTa"},{name:"MNGO/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"3d4rzwpy9iGdCZvgxcu7B1YocYffVLsQXPXkBZKt2zLc"},{name:"CYS/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"6V6y6QFi17QZC9qNRpVp7SaPiHpCTp2skbRQkUyZZXPW"},{name:"POLIS/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"HxFLKUAmAMLz1jtT3hbvCMELwH5H9tpM2QugP8sKyfhW"},{name:"ATLAS/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"Di66GTLsV64JgCCYGVcY21RZ173BHkjJVgPyezNN7P1K"},{name:"LIKE/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"3WptgZZu34aiDrLMUiPntTYZGNZ72yT1yxHYxSdbTArX"},{name:"MSOL/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"6oGsL2puUgySccKzn9XA9afqF217LfxP5ocq4B3LWsjy"},{name:"MSOL/SOL",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"5cLrMai1DsLRYc1Nio9qMTicsWtvzjzZfJPXyAoF4t1Z"},{name:"AAVE/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"8WZrmdpLckptiVKd2fPHPjewRVYQGQkjxi9vzRYG1sfs"},{name:"AAVE/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"LghsMERQWQFK3zWMTrUkoyAJARQw2wSmcYZjexeN3zy"},{name:"AKRO/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"G3h8NZgJozk9crme2me6sKDJuSQ12mNCtvC9NbSWqGuk"},{name:"AKRO/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"DvbiPxKzuXZPcmUcYDqBz1tvUrXYPsNrRAjSeuwHtmEA"},{name:"ALEPH/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"Fw4mvuE7KZmTjQPxP2sRpHwPDfRMWnKBupFZGyW9CAQH"},{name:"ALEPH/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"GZeHR8uCTVoHVDZFRVXTgm386DK1EKehy9yMS3BFChcL"},{name:"CEL/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"79ESpYSb2hM14KTRXPZUwDkxUGC5irE2esd1vxdXfnZz"},{name:"CEL/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"J9ww1yufRNDDbUbDXmew2mW2ozkx7cme7dMvKjMQVHrL"},{name:"CREAM/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"4pdQ2D4gehMhGu4z9jeQbEPUFbTxB5qcPr3zCynjJGyp"},{name:"CREAM/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"6fspxMfBmYFTGFBDN5MU33A55i2MkGr7eSjBLPCAU6y9"},{name:"ETH/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"8Gmi2HhZmwQPVdCwzS7CM66MGstMXPcTVHA7jF19cLZz"},{name:"ETH/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"ch7kmPrtoQUSEPBggcNAvLGiMQkJagVwd3gDYfd8m7Q"},{name:"FRONT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"B95oZN5HCLGmFAhbzReWBA9cuSGPFQAXeuhm2FfpdrML"},{name:"FRONT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"DZTYyy1L5Pr6DmTtYY5bEuU9g3LQ4XGvuYiN3zS25yG7"},{name:"FTT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"2wteg25ch227n4Rh1CN4WNrDZXBpRBpWJ48mEC2K7f4r"},{name:"FTT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"BoHojHESAv4McZx9gXd1bWTZMq25JYyGz4qL1m5C3nvk"},{name:"HGET/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"27e1mB6UoPohbc3MmwMXu5QM7b2E3k5Mbhwv6JguwyXg"},{name:"HGET/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"BdRzTEKb7Qdu4tWts5zXjwcpQErZxEzvShKZ5QcthMag"},{name:"HXRO/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"CBb5zXwNRB73WVjs2m21P5prcEZa6SWmej74Vzxh8dRm"},{name:"HXRO/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"3BScwNxtMrEcQ5VTHyXHYQR98dTaxfyXGaLkuSjBY1dW"},{name:"LINK/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"FJMjxMCiDKn16TLhXUdEbVDH5wC6k9EHYJTcrH6NcbDE"},{name:"LINK/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"Gr2KmhK7Upr4uW56B1QQrJuhhgmot6zAHJeZALTMStiX"},{name:"LUA/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"J9imTcEeahZqKuaoQaPcCeSGCMWL8qSACpK4B7bC8NN4"},{name:"LUA/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"BMJ3CvQZ57cNnuc3Lz5Pb6cW6Sr9kZGz3qz2bJQTE24A"},{name:"MATH/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"G8L1YLrktaG1t8YBMJs3CwV96nExvJJCSpw3DARPDjE2"},{name:"MATH/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"CkvNfATB7nky8zPLuwS9bgcFbVRkQdkd5zuKEovyo9rs"},{name:"RAY/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"2xiv8A5xrJ7RnGdxXB42uFEkYHJjszEhaJyKKt4WaLep"},{name:"RSR/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"GqgkxEswUwHBntmzb5GpUhKrVpJhzreSruZycuJwdNwB"},{name:"RSR/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"2j2or38X2FUbpkK4gkgvjDtqN3ibkKw3v5yn7o2gHqPc"},{name:"SUSHI/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"3uWVMWu7cwMnYMAAdtsZNwaaqeeeZHARGZwcExnQiFay"},{name:"SUSHI/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"T3aC6qcPAJtX1gqkckfSxBPdPWziz5fLYRt5Dz3Nafq"},{name:"SWAG/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"wSkeLMv3ktJyLm51bvQWxY2saGKqGxbnUFimPxbgEvQ"},{name:"SWAG/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"6URQ4zFWvPm1fhJCKKWorrh8X3mmTFiDDyXEUmSf8Rb2"},{name:"SXP/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"G5F84rfqmWqzZv5GBpSn8mMwW8zJ2B4Y1GpGupiwjHNM"},{name:"SXP/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"2FQbPW1ticJz2SMMbEXxbKWJKmw1wLc6ggSP2HyzdMen"},{name:"UBXT/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"Hh4p7tJpqkGW6xsHM2LiPPMpJg43fwn5TbmVmfrURdLY"},{name:"UBXT/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"5xhjc3ZtAwnBK3qsaro28VChL7WrxY9N4SG6UZpYxpGc"},{name:"UNI/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"B7b5rjQuqQCuGqmUBWmcCTqaL3Z1462mo4NArqty6QFR"},{name:"UNI/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"FrKM6kJtAjXknHPEpkrQtJSXZwUxV5dq26wDpc4YjQST"},{name:"YFI/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"BiJXGFc1c4gyPpv9HLRJoKbZewWQrTCHGuxYKjYMQJpC"},{name:"YFI/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"9sue9TZAeUhNtNAPPGb9dke7rkJeXktGD3u8ZC37GWnQ"},{name:"AVAX/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"E8JQstcwjuqN5kdMyUJLNuaectymnhffkvfg1j286UCr"},{name:"AXSet/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"HZCheduA4nsSuQpVww1TiyKZpXSAitqaXxjBD2ymg22X"},{name:"BNB/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"4UPUurKveNEJgBqJzqHPyi8DhedvpYsMXi7d43CjAg2f"},{name:"BNB/USDT",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"FjbKNZME5yVSC1R3HJM99kB3yir3q3frS5MteMFD72sV"},{name:"GALA/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"F7WJsoxTWQRmAwAyFe9APmuVv4HqmhchFtdbR9dvAUDm"},{name:"MATICpo/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"5WRoQxE59966N2XfD2wYy1uhuyKeoVJ9NBMH6r6RNYEF"},{name:"ROSE/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"EybAYkmRKCyD4w8AErTG1bqmnvT85LFuPQPMCc8J3yD"},{name:"SAND/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"3FE2g3cadTJjN3C7gNRavwnv7Yh9Midq7h9KgTVUE7tR"},{name:"LUNA/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"HBTu8hNaoT3VyiSSzJYa8jwt9sDGKtJviSwFa11iXdmE"},{name:"SHIB/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"Er7Jp4PADPVHifykFwbVoHdkL1RtZSsx9zGJrPJTrCgW"},{name:"UST/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"8WmckvEoVGZvtN8knjdzFGbWJ3Sr4BcWdyzSYuCrD4YK"},{name:"FAB/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"Cud48DK2qoxsWNzQeTL5D8sAiHsGwG8Ev1VMNcYLayxt"},{name:"JET/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"6pQMoHDC2o8eeFxyTKtfnsr8d48hKFWsRpLHAqVHH2ZP"},{name:"scnSOL/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"D52sefGCWho2nd5UGxWd7wCftAzeNEMNYZkdEPGEdQTb"},{name:"stSOL/USDC",programId:"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",deprecated:!1,address:"5F7LGsP1LPtaRV7vVKgxwNYX4Vf22xvuzyXjyar7jJqp"}],Mq=[{address:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",name:"BTC"},{address:"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk",name:"ETH"},{address:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",name:"FTT"},{address:"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB",name:"YFI"},{address:"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG",name:"LINK"},{address:"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8",name:"XRP"},{address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",name:"USDT"},{address:"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4",name:"WUSDT"},{address:"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW",name:"WUSDC"},{address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",name:"USDC"},{address:"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L",name:"MSRM"},{address:"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",name:"SRM"},{address:"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy",name:"SUSHI"},{address:"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX",name:"SXP"},{address:"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K",name:"ALEPH"},{address:"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN",name:"HGET"},{address:"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv",name:"CREAM"},{address:"873KLxCbz7s9Kc4ZzgYRtNmhfkQrhfyWGZJBmyCbC3ei",name:"UBXT"},{address:"HqB7uswoVg4suaQiDP3wjxob1G5WdZ144zhdStwMCq7e",name:"HNT"},{address:"9S4t2NEAiJVMvPdRYKVrfJpBafPBLtvbvyS3DecojQHw",name:"FRONT"},{address:"6WNVCuxCGJzNjmMZoKyhZJwvJ5tYpsLyAtagzYASqBoF",name:"AKRO"},{address:"DJafV9qemGp7mLMEn5wrfqaFwxsbLgUsGVS16zKRk9kc",name:"HXRO"},{address:"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw",name:"UNI"},{address:"GUohe4DJUA5FKPWo3joiPgsB7yzer7LpDmt1Vhzy3Zht",name:"KEEP"},{address:"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza",name:"MATH"},{address:"So11111111111111111111111111111111111111112",name:"SOL"},{address:"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd",name:"TOMO"},{address:"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX",name:"LUA"},{address:"9F9fNTT6qwjsu4X4yWYKZpsbw5qT7o6yR2i57JF2jagy",name:"SWAG"},{address:"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",name:"FIDA"},{address:"kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6",name:"KIN"},{address:"MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb",name:"MAPS"},{address:"z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M",name:"OXY"},{address:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",name:"RAY"},{address:"3K6rftdAaQYMPunrtNRHgnK2UAtjm2JwyT2oCiTDouYE",name:"xCOPE"},{address:"dK83wTVypEpa1pqiBbHY3MNuUnT3ADUZM4wk9VZXZEc",name:"AAVE"},{address:"DgHK9mfhMtUwwv54GChRrU54T2Em5cuszq2uMuen1ZVE",name:"CEL"},{address:"7ncCLJpP3MNww17LW8bRvx8odQQnubNtfNZBL5BgAEHW",name:"RSR"},{address:"6ry4WBDvAwAnrYJVv6MCog4J8zx6S3cPgSqnTsDZ73AR",name:"TRYB"},{address:"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh",name:"COPE"},{address:"MERt85fc5boKw3BW1eYdxonEuJNvXbiMbs6hvheau5K",name:"MER"},{address:"4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y",name:"SNY"},{address:"SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr",name:"SLRS"},{address:"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5",name:"renBTC"},{address:"ArUkYE2XDKzqy77PRRGjo4wREWwqk6RXTfM9NeqzPvjU",name:"renDOGE"},{address:"GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z",name:"DXL"}];!function(e){var t=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.MARKETS=e.TOKEN_MINTS=e.getLayoutVersion=e.PROGRAM_LAYOUT_VERSIONS=void 0;const r=rq,n=t(Pq),i=t(Mq);e.PROGRAM_LAYOUT_VERSIONS={"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn":1,BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg:1,EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o:2,"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin":3},e.getLayoutVersion=function(t){return e.PROGRAM_LAYOUT_VERSIONS[t.toString()]||3},e.TOKEN_MINTS=i.default.map((e=>({address:new r.PublicKey(e.address),name:e.name}))),e.MARKETS=n.default.map((e=>({address:new r.PublicKey(e.address),name:e.name,programId:new r.PublicKey(e.programId),deprecated:e.deprecated})))}(Oq),Object.defineProperty(Tq,"__esModule",{value:!0}),Tq.getFeeTier=Tq.getFeeRates=Tq.supportsSrmFeeDiscounts=void 0;const Rq=Oq;Tq.supportsSrmFeeDiscounts=function(e){return Rq.getLayoutVersion(e)>1},Tq.getFeeRates=function(e){return 1===e?{taker:.002,maker:-3e-4}:2===e?{taker:.0018,maker:-3e-4}:3===e?{taker:.0016,maker:-3e-4}:4===e?{taker:.0014,maker:-3e-4}:5===e?{taker:.0012,maker:-3e-4}:6===e?{taker:.001,maker:-5e-4}:{taker:.0022,maker:-3e-4}},Tq.getFeeTier=function(e,t){return e>=1?6:t>=1e6?5:t>=1e5?4:t>=1e4?3:t>=1e3?2:t>=100?1:0},function(e){var t=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.getMintDecimals=e.Orderbook=e.ORDERBOOK_LAYOUT=e.OpenOrders=e._OPEN_ORDERS_LAYOUT_V2=e._OPEN_ORDERS_LAYOUT_V1=e.Market=e.MARKET_STATE_LAYOUT_V3=e.MARKET_STATE_LAYOUT_V2=e._MARKET_STAT_LAYOUT_V1=void 0;const r=PU,n=fN,i=pq,o=yq,s=t(fd),a=rq,c=bq,u=Gn,d=Tq,f=mq,l=Oq;e._MARKET_STAT_LAYOUT_V1=r.struct([r.blob(5),n.accountFlagsLayout("accountFlags"),n.publicKeyLayout("ownAddress"),n.u64("vaultSignerNonce"),n.publicKeyLayout("baseMint"),n.publicKeyLayout("quoteMint"),n.publicKeyLayout("baseVault"),n.u64("baseDepositsTotal"),n.u64("baseFeesAccrued"),n.publicKeyLayout("quoteVault"),n.u64("quoteDepositsTotal"),n.u64("quoteFeesAccrued"),n.u64("quoteDustThreshold"),n.publicKeyLayout("requestQueue"),n.publicKeyLayout("eventQueue"),n.publicKeyLayout("bids"),n.publicKeyLayout("asks"),n.u64("baseLotSize"),n.u64("quoteLotSize"),n.u64("feeRateBps"),r.blob(7)]),e.MARKET_STATE_LAYOUT_V2=r.struct([r.blob(5),n.accountFlagsLayout("accountFlags"),n.publicKeyLayout("ownAddress"),n.u64("vaultSignerNonce"),n.publicKeyLayout("baseMint"),n.publicKeyLayout("quoteMint"),n.publicKeyLayout("baseVault"),n.u64("baseDepositsTotal"),n.u64("baseFeesAccrued"),n.publicKeyLayout("quoteVault"),n.u64("quoteDepositsTotal"),n.u64("quoteFeesAccrued"),n.u64("quoteDustThreshold"),n.publicKeyLayout("requestQueue"),n.publicKeyLayout("eventQueue"),n.publicKeyLayout("bids"),n.publicKeyLayout("asks"),n.u64("baseLotSize"),n.u64("quoteLotSize"),n.u64("feeRateBps"),n.u64("referrerRebatesAccrued"),r.blob(7)]),e.MARKET_STATE_LAYOUT_V3=r.struct([r.blob(5),n.accountFlagsLayout("accountFlags"),n.publicKeyLayout("ownAddress"),n.u64("vaultSignerNonce"),n.publicKeyLayout("baseMint"),n.publicKeyLayout("quoteMint"),n.publicKeyLayout("baseVault"),n.u64("baseDepositsTotal"),n.u64("baseFeesAccrued"),n.publicKeyLayout("quoteVault"),n.u64("quoteDepositsTotal"),n.u64("quoteFeesAccrued"),n.u64("quoteDustThreshold"),n.publicKeyLayout("requestQueue"),n.publicKeyLayout("eventQueue"),n.publicKeyLayout("bids"),n.publicKeyLayout("asks"),n.u64("baseLotSize"),n.u64("quoteLotSize"),n.u64("feeRateBps"),n.u64("referrerRebatesAccrued"),n.publicKeyLayout("authority"),n.publicKeyLayout("pruneAuthority"),n.publicKeyLayout("consumeEventsAuthority"),r.blob(992),r.blob(7)]);class h{constructor(e,t,r,n={},i,o){const{skipPreflight:s=!1,commitment:a="recent"}=n;if(!e.accountFlags.initialized||!e.accountFlags.market)throw new Error("Invalid market state");this._decoded=e,this._baseSplTokenDecimals=t,this._quoteSplTokenDecimals=r,this._skipPreflight=s,this._commitment=a,this._programId=i,this._openOrdersAccountsCache={},this._feeDiscountKeysCache={},this._layoutOverride=o}static getLayout(t){return 1===l.getLayoutVersion(t)?e._MARKET_STAT_LAYOUT_V1:e.MARKET_STATE_LAYOUT_V2}static async findAccountsByMints(e,t,r,n){return w(e,n,[{memcmp:{offset:this.getLayout(n).offsetOf("baseMint"),bytes:t.toBase58()}},{memcmp:{offset:h.getLayout(n).offsetOf("quoteMint"),bytes:r.toBase58()}}])}static async load(e,t,r={},n,i){const{owner:o,data:s}=_(await e.getAccountInfo(t),"Market not found");if(!o.equals(n))throw new Error("Address not owned by program: "+o.toBase58());const a=(i??this.getLayout(n)).decode(s);if(!a.accountFlags.initialized||!a.accountFlags.market||!a.ownAddress.equals(t))throw new Error("Invalid market");const[c,u]=await Promise.all([v(e,a.baseMint),v(e,a.quoteMint)]);return new h(a,c,u,r,n,i)}get programId(){return this._programId}get address(){return this._decoded.ownAddress}get publicKey(){return this.address}get baseMintAddress(){return this._decoded.baseMint}get quoteMintAddress(){return this._decoded.quoteMint}get bidsAddress(){return this._decoded.bids}get asksAddress(){return this._decoded.asks}get decoded(){return this._decoded}async loadBids(e){const{data:t}=_(await e.getAccountInfo(this._decoded.bids));return y.decode(this,t)}async loadAsks(e){const{data:t}=_(await e.getAccountInfo(this._decoded.asks));return y.decode(this,t)}async loadOrdersForOwner(e,t,r=0){const[n,i,o]=await Promise.all([this.loadBids(e),this.loadAsks(e),this.findOpenOrdersAccountsForOwner(e,t,r)]);return this.filterForOpenOrders(n,i,o)}filterForOpenOrders(e,t,r){return[...e,...t].filter((e=>r.some((t=>e.openOrdersAddress.equals(t.address)))))}async findBaseTokenAccountsForOwner(e,t,r=!1){if(this.baseMintAddress.equals(f.WRAPPED_SOL_MINT)&&r){const[r,n]=await Promise.all([this.findBaseTokenAccountsForOwner(e,t,!1),e.getAccountInfo(t)]);return null!==n?[{pubkey:t,account:n},...r]:r}return await this.getTokenAccountsByOwnerForMint(e,t,this.baseMintAddress)}async getTokenAccountsByOwnerForMint(e,t,r){return(await e.getTokenAccountsByOwner(t,{mint:r})).value}async findQuoteTokenAccountsForOwner(e,t,r=!1){if(this.quoteMintAddress.equals(f.WRAPPED_SOL_MINT)&&r){const[r,n]=await Promise.all([this.findQuoteTokenAccountsForOwner(e,t,!1),e.getAccountInfo(t)]);return null!==n?[{pubkey:t,account:n},...r]:r}return await this.getTokenAccountsByOwnerForMint(e,t,this.quoteMintAddress)}async findOpenOrdersAccountsForOwner(e,t,r=0){const n=t.toBase58(),i=(new Date).getTime();if(n in this._openOrdersAccountsCache&&i-this._openOrdersAccountsCache[n].ts<r)return this._openOrdersAccountsCache[n].accounts;const o=await p.findForMarketAndOwner(e,this.address,t,this._programId);return this._openOrdersAccountsCache[n]={accounts:o,ts:i},o}async placeOrder(e,{owner:t,payer:r,side:n,price:i,size:o,orderType:s="limit",clientId:a,openOrdersAddressKey:c,openOrdersAccount:u,feeDiscountPubkey:d,maxTs:f}){const{transaction:l,signers:h}=await this.makePlaceOrderTransaction(e,{owner:t,payer:r,side:n,price:i,size:o,orderType:s,clientId:a,openOrdersAddressKey:c,openOrdersAccount:u,feeDiscountPubkey:d,maxTs:f});return await this._sendTransaction(e,l,[t,...h])}getSplTokenBalanceFromAccountInfo(e,t){return b(new s.default(e.data.slice(64,72),10,"le"),new s.default(10).pow(new s.default(t)))}get supportsSrmFeeDiscounts(){return d.supportsSrmFeeDiscounts(this._programId)}get supportsReferralFees(){return l.getLayoutVersion(this._programId)>1}get usesRequestQueue(){return l.getLayoutVersion(this._programId)<=2}async findFeeDiscountKeys(e,t,r=0){let n=[];const i=(new Date).getTime(),o=t.toBase58();if(o in this._feeDiscountKeysCache&&i-this._feeDiscountKeysCache[o].ts<r)return this._feeDiscountKeysCache[o].accounts;if(this.supportsSrmFeeDiscounts){const r=(await this.getTokenAccountsByOwnerForMint(e,t,f.MSRM_MINT)).map((({pubkey:e,account:t})=>{const r=this.getSplTokenBalanceFromAccountInfo(t,f.MSRM_DECIMALS);return{pubkey:e,mint:f.MSRM_MINT,balance:r,feeTier:d.getFeeTier(r,0)}})),i=(await this.getTokenAccountsByOwnerForMint(e,t,f.SRM_MINT)).map((({pubkey:e,account:t})=>{const r=this.getSplTokenBalanceFromAccountInfo(t,f.SRM_DECIMALS);return{pubkey:e,mint:f.SRM_MINT,balance:r,feeTier:d.getFeeTier(0,r)}}));n=r.concat(i).sort(((e,t)=>e.feeTier>t.feeTier?-1:e.feeTier<t.feeTier?1:e.balance>t.balance?-1:e.balance<t.balance?1:0))}return this._feeDiscountKeysCache[o]={accounts:n,ts:i},n}async findBestFeeDiscountKey(e,t,r=3e4){const n=await this.findFeeDiscountKeys(e,t,r);return n.length>0?{pubkey:n[0].pubkey,feeTier:n[0].feeTier}:{pubkey:null,feeTier:0}}async makePlaceOrderTransaction(e,{owner:t,payer:r,side:n,price:i,size:o,orderType:s="limit",clientId:c,openOrdersAddressKey:u,openOrdersAccount:d,feeDiscountPubkey:l,selfTradeBehavior:h="decrementTake",maxTs:y},m=0,b=0){var g,v;const w=null!==(g=t.publicKey)&&void 0!==g?g:t,_=await this.findOpenOrdersAccountsForOwner(e,w,m),S=new a.Transaction,E=[];let k,A;if(k=l||(void 0===l&&this.supportsSrmFeeDiscounts?(await this.findBestFeeDiscountKey(e,w,b)).pubkey:null),0===_.length){let t;t=d||new a.Account,S.add(await p.makeCreateAccountTransaction(e,this.address,w,t.publicKey,this._programId)),A=t.publicKey,E.push(t),this._openOrdersAccountsCache[w.toBase58()].ts=0}else A=d?d.publicKey:u||_[0].address;let x=null;if(r.equals(w)){if(!("buy"===n&&this.quoteMintAddress.equals(f.WRAPPED_SOL_MINT)||"sell"===n&&this.baseMintAddress.equals(f.WRAPPED_SOL_MINT)))throw new Error("Invalid payer account");{let e;x=new a.Account,"buy"===n?(e=Math.round(i*o*1.01*a.LAMPORTS_PER_SOL),_.length>0&&(e-=_[0].quoteTokenFree.toNumber())):(e=Math.round(o*a.LAMPORTS_PER_SOL),_.length>0&&(e-=_[0].baseTokenFree.toNumber())),e=Math.max(e,0)+1e7,S.add(a.SystemProgram.createAccount({fromPubkey:w,newAccountPubkey:x.publicKey,lamports:e,space:165,programId:f.TOKEN_PROGRAM_ID})),S.add(f.initializeAccount({account:x.publicKey,mint:f.WRAPPED_SOL_MINT,owner:w})),E.push(x)}}const I=this.makePlaceOrderInstruction(e,{owner:t,payer:null!==(v=null==x?void 0:x.publicKey)&&void 0!==v?v:r,side:n,price:i,size:o,orderType:s,clientId:c,openOrdersAddressKey:A,feeDiscountPubkey:k,selfTradeBehavior:h,maxTs:y});return S.add(I),x&&S.add(f.closeAccount({source:x.publicKey,destination:w,owner:w})),{transaction:S,signers:E,payer:t}}makePlaceOrderInstruction(e,t){var r;const{owner:n,payer:i,side:a,price:c,size:u,orderType:d="limit",clientId:f,openOrdersAddressKey:l,openOrdersAccount:h,feeDiscountPubkey:p=null,maxTs:y}=t,m=null!==(r=n.publicKey)&&void 0!==r?r:n;if(this.baseSizeNumberToLots(u).lte(new s.default(0)))throw new Error("size too small");if(this.priceNumberToLots(c).lte(new s.default(0)))throw new Error("invalid price");return this.usesRequestQueue?o.DexInstructions.newOrder({market:this.address,requestQueue:this._decoded.requestQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:h?h.publicKey:l,owner:m,payer:i,side:a,limitPrice:this.priceNumberToLots(c),maxQuantity:this.baseSizeNumberToLots(u),orderType:d,clientId:f,programId:this._programId,feeDiscountPubkey:this.supportsSrmFeeDiscounts?p:null}):this.makeNewOrderV3Instruction(t)}makeNewOrderV3Instruction(e){var t;const{owner:r,payer:n,side:i,price:a,size:c,orderType:u="limit",clientId:d,openOrdersAddressKey:f,openOrdersAccount:l,feeDiscountPubkey:h=null,selfTradeBehavior:p="decrementTake",programId:y,maxTs:m}=e,b=null!==(t=r.publicKey)&&void 0!==t?t:r;return o.DexInstructions.newOrderV3({market:this.address,bids:this._decoded.bids,asks:this._decoded.asks,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:l?l.publicKey:f,owner:b,payer:n,side:i,limitPrice:this.priceNumberToLots(a),maxBaseQuantity:this.baseSizeNumberToLots(c),maxQuoteQuantity:new s.default(this._decoded.quoteLotSize.toNumber()).mul(this.baseSizeNumberToLots(c).mul(this.priceNumberToLots(a))),orderType:u,clientId:d,programId:y??this._programId,selfTradeBehavior:p,feeDiscountPubkey:this.supportsSrmFeeDiscounts?h:null,maxTs:m})}async _sendTransaction(e,t,r){const n=await e.sendTransaction(t,r,{skipPreflight:this._skipPreflight}),{value:i}=await e.confirmTransaction(n,this._commitment);if(null!=i&&i.err)throw new Error(JSON.stringify(i.err));return n}async cancelOrderByClientId(e,t,r,n){const i=await this.makeCancelOrderByClientIdTransaction(e,t.publicKey,r,n);return await this._sendTransaction(e,i,[t])}async cancelOrdersByClientIds(e,t,r,n){const i=await this.makeCancelOrdersByClientIdsTransaction(e,t.publicKey,r,n);return await this._sendTransaction(e,i,[t])}async makeCancelOrderByClientIdTransaction(e,t,r,n){const i=new a.Transaction;return this.usesRequestQueue?i.add(o.DexInstructions.cancelOrderByClientId({market:this.address,owner:t,openOrders:r,requestQueue:this._decoded.requestQueue,clientId:n,programId:this._programId})):i.add(o.DexInstructions.cancelOrderByClientIdV2({market:this.address,openOrders:r,owner:t,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,clientId:n,programId:this._programId})),i}async makeCancelOrdersByClientIdsTransaction(e,t,r,n){const i=new a.Transaction;return i.add(o.DexInstructions.cancelOrdersByClientIds({market:this.address,openOrders:r,owner:t,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,clientIds:n,programId:this._programId})),i}async cancelOrder(e,t,r){const n=await this.makeCancelOrderTransaction(e,t.publicKey,r);return await this._sendTransaction(e,n,[t])}async makeCancelOrderTransaction(e,t,r){const n=new a.Transaction;return n.add(this.makeCancelOrderInstruction(e,t,r)),n}makeCancelOrderInstruction(e,t,r){return this.usesRequestQueue?o.DexInstructions.cancelOrder({market:this.address,owner:t,openOrders:r.openOrdersAddress,requestQueue:this._decoded.requestQueue,side:r.side,orderId:r.orderId,openOrdersSlot:r.openOrdersSlot,programId:this._programId}):o.DexInstructions.cancelOrderV2({market:this.address,owner:t,openOrders:r.openOrdersAddress,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,side:r.side,orderId:r.orderId,openOrdersSlot:r.openOrdersSlot,programId:this._programId})}makeConsumeEventsInstruction(e,t){return o.DexInstructions.consumeEvents({market:this.address,eventQueue:this._decoded.eventQueue,coinFee:this._decoded.eventQueue,pcFee:this._decoded.eventQueue,openOrdersAccounts:e,limit:t,programId:this._programId})}makeConsumeEventsPermissionedInstruction(e,t){return o.DexInstructions.consumeEventsPermissioned({market:this.address,eventQueue:this._decoded.eventQueue,crankAuthority:this._decoded.consumeEventsAuthority,openOrdersAccounts:e,limit:t,programId:this._programId})}async settleFunds(e,t,r,n,i,o=null){if(!r.owner.equals(t.publicKey))throw new Error("Invalid open orders account");if(o&&!this.supportsReferralFees)throw new Error("This program ID does not support referrerQuoteWallet");const{transaction:s,signers:a}=await this.makeSettleFundsTransaction(e,r,n,i,o);return await this._sendTransaction(e,s,[t,...a])}async makeSettleFundsTransaction(e,t,r,n,i=null){const s=await a.PublicKey.createProgramAddress([this.address.toBuffer(),this._decoded.vaultSignerNonce.toArrayLike(u.Buffer,"le",8)],this._programId),c=new a.Transaction,d=[];let l=null;return(this.baseMintAddress.equals(f.WRAPPED_SOL_MINT)&&r.equals(t.owner)||this.quoteMintAddress.equals(f.WRAPPED_SOL_MINT)&&n.equals(t.owner))&&(l=new a.Account,c.add(a.SystemProgram.createAccount({fromPubkey:t.owner,newAccountPubkey:l.publicKey,lamports:await e.getMinimumBalanceForRentExemption(165),space:165,programId:f.TOKEN_PROGRAM_ID})),c.add(f.initializeAccount({account:l.publicKey,mint:f.WRAPPED_SOL_MINT,owner:t.owner})),d.push(l)),c.add(o.DexInstructions.settleFunds({market:this.address,openOrders:t.address,owner:t.owner,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,baseWallet:r.equals(t.owner)&&l?l.publicKey:r,quoteWallet:n.equals(t.owner)&&l?l.publicKey:n,vaultSigner:s,programId:this._programId,referrerQuoteWallet:i})),l&&c.add(f.closeAccount({source:l.publicKey,destination:t.owner,owner:t.owner})),{transaction:c,signers:d,payer:t.owner}}async matchOrders(e,t,r){const n=this.makeMatchOrdersTransaction(r);return await this._sendTransaction(e,n,[t])}makeMatchOrdersTransaction(e){const t=new a.Transaction;return t.add(o.DexInstructions.matchOrders({market:this.address,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,bids:this._decoded.bids,asks:this._decoded.asks,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,limit:e,programId:this._programId})),t}async loadRequestQueue(e){const{data:t}=_(await e.getAccountInfo(this._decoded.requestQueue));return c.decodeRequestQueue(t)}async loadEventQueue(e){const{data:t}=_(await e.getAccountInfo(this._decoded.eventQueue));return c.decodeEventQueue(t)}async loadFills(e,t=100){const{data:r}=_(await e.getAccountInfo(this._decoded.eventQueue));return c.decodeEventQueue(r,t).filter((e=>e.eventFlags.fill&&e.nativeQuantityPaid.gtn(0))).map(this.parseFillEvent.bind(this))}parseFillEvent(e){let t,r,n,i;return e.eventFlags.bid?(n="buy",i=e.eventFlags.maker?e.nativeQuantityPaid.add(e.nativeFeeOrRebate):e.nativeQuantityPaid.sub(e.nativeFeeOrRebate),r=b(i.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityReleased)),t=b(e.nativeQuantityReleased,this._baseSplTokenMultiplier)):(n="sell",i=e.eventFlags.maker?e.nativeQuantityReleased.sub(e.nativeFeeOrRebate):e.nativeQuantityReleased.add(e.nativeFeeOrRebate),r=b(i.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityPaid)),t=b(e.nativeQuantityPaid,this._baseSplTokenMultiplier)),{...e,side:n,price:r,feeCost:this.quoteSplSizeToNumber(e.nativeFeeOrRebate)*(e.eventFlags.maker?-1:1),size:t}}get _baseSplTokenMultiplier(){return new s.default(10).pow(new s.default(this._baseSplTokenDecimals))}get _quoteSplTokenMultiplier(){return new s.default(10).pow(new s.default(this._quoteSplTokenDecimals))}priceLotsToNumber(e){return b(e.mul(this._decoded.quoteLotSize).mul(this._baseSplTokenMultiplier),this._decoded.baseLotSize.mul(this._quoteSplTokenMultiplier))}priceNumberToLots(e){return new s.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals)*this._decoded.baseLotSize.toNumber()/(Math.pow(10,this._baseSplTokenDecimals)*this._decoded.quoteLotSize.toNumber())))}baseSplSizeToNumber(e){return b(e,this._baseSplTokenMultiplier)}quoteSplSizeToNumber(e){return b(e,this._quoteSplTokenMultiplier)}baseSizeLotsToNumber(e){return b(e.mul(this._decoded.baseLotSize),this._baseSplTokenMultiplier)}baseSizeNumberToLots(e){return new s.default(Math.round(e*Math.pow(10,this._baseSplTokenDecimals))).div(this._decoded.baseLotSize)}quoteSizeLotsToNumber(e){return b(e.mul(this._decoded.quoteLotSize),this._quoteSplTokenMultiplier)}quoteSizeNumberToLots(e){return new s.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals))).div(this._decoded.quoteLotSize)}get minOrderSize(){return this.baseSizeLotsToNumber(new s.default(1))}get tickSize(){return this.priceLotsToNumber(new s.default(1))}}e.Market=h,e._OPEN_ORDERS_LAYOUT_V1=r.struct([r.blob(5),n.accountFlagsLayout("accountFlags"),n.publicKeyLayout("market"),n.publicKeyLayout("owner"),n.u64("baseTokenFree"),n.u64("baseTokenTotal"),n.u64("quoteTokenFree"),n.u64("quoteTokenTotal"),n.u128("freeSlotBits"),n.u128("isBidBits"),r.seq(n.u128(),128,"orders"),r.seq(n.u64(),128,"clientIds"),r.blob(7)]),e._OPEN_ORDERS_LAYOUT_V2=r.struct([r.blob(5),n.accountFlagsLayout("accountFlags"),n.publicKeyLayout("market"),n.publicKeyLayout("owner"),n.u64("baseTokenFree"),n.u64("baseTokenTotal"),n.u64("quoteTokenFree"),n.u64("quoteTokenTotal"),n.u128("freeSlotBits"),n.u128("isBidBits"),r.seq(n.u128(),128,"orders"),r.seq(n.u64(),128,"clientIds"),n.u64("referrerRebatesAccrued"),r.blob(7)]);class p{constructor(e,t,r){this.address=e,this._programId=r,Object.assign(this,t)}static getLayout(t){return 1===l.getLayoutVersion(t)?e._OPEN_ORDERS_LAYOUT_V1:e._OPEN_ORDERS_LAYOUT_V2}static async findForOwner(e,t,r){const n=[{memcmp:{offset:this.getLayout(r).offsetOf("owner"),bytes:t.toBase58()}},{dataSize:this.getLayout(r).span}];return(await w(e,r,n)).map((({publicKey:e,accountInfo:t})=>p.fromAccountInfo(e,t,r)))}static async findForMarketAndOwner(e,t,r,n){const i=[{memcmp:{offset:this.getLayout(n).offsetOf("market"),bytes:t.toBase58()}},{memcmp:{offset:this.getLayout(n).offsetOf("owner"),bytes:r.toBase58()}},{dataSize:this.getLayout(n).span}];return(await w(e,n,i)).map((({publicKey:e,accountInfo:t})=>p.fromAccountInfo(e,t,n)))}static async load(e,t,r){const n=await e.getAccountInfo(t);if(null===n)throw new Error("Open orders account not found");return p.fromAccountInfo(t,n,r)}static fromAccountInfo(e,t,r){const{owner:n,data:i}=t;if(!n.equals(r))throw new Error("Address not owned by program");const o=this.getLayout(r).decode(i);if(!o.accountFlags.initialized||!o.accountFlags.openOrders)throw new Error("Invalid open orders account");return new p(e,o,r)}static async makeCreateAccountTransaction(e,t,r,n,i){return a.SystemProgram.createAccount({fromPubkey:r,newAccountPubkey:n,lamports:await e.getMinimumBalanceForRentExemption(this.getLayout(i).span),space:this.getLayout(i).span,programId:i})}get publicKey(){return this.address}}e.OpenOrders=p,e.ORDERBOOK_LAYOUT=r.struct([r.blob(5),n.accountFlagsLayout("accountFlags"),i.SLAB_LAYOUT.replicate("slab"),r.blob(7)]);class y{constructor(e,t,r){if(!(t.initialized&&t.bids^t.asks))throw new Error("Invalid orderbook");this.market=e,this.isBids=t.bids,this.slab=r}static get LAYOUT(){return e.ORDERBOOK_LAYOUT}static decode(t,r){const{accountFlags:n,slab:i}=e.ORDERBOOK_LAYOUT.decode(r);return new y(t,n,i)}getL2(e){const t=this.isBids,r=[];for(const{key:n,quantity:i}of this.slab.items(t)){const t=m(n);if(r.length>0&&r[r.length-1][0].eq(t))r[r.length-1][1]=r[r.length-1][1].add(i);else{if(r.length===e)break;r.push([t,i])}}return r.map((([e,t])=>[this.market.priceLotsToNumber(e),this.market.baseSizeLotsToNumber(t),e,t]))}[Symbol.iterator](){return this.items(!1)}*items(e=!1){for(const{key:t,ownerSlot:r,owner:n,quantity:i,feeTier:o,clientOrderId:s}of this.slab.items(e)){const e=m(t);yield{orderId:t,clientId:s,openOrdersAddress:n,openOrdersSlot:r,feeTier:o,price:this.market.priceLotsToNumber(e),priceLots:e,size:this.market.baseSizeLotsToNumber(i),sizeLots:i,side:this.isBids?"buy":"sell"}}}}function m(e){return e.ushrn(64)}function b(e,t){const r=e.div(t).toNumber(),n=e.umod(t),i=n.gcd(t);return r+n.div(i).toNumber()/t.div(i).toNumber()}e.Orderbook=y;const g=r.struct([r.blob(44),r.u8("decimals"),r.blob(37)]);async function v(e,t){if(t.equals(f.WRAPPED_SOL_MINT))return 9;const{data:r}=_(await e.getAccountInfo(t),"mint not found"),{decimals:n}=g.decode(r);return n}async function w(e,t,r){const n=await e._rpcRequest("getProgramAccounts",[t.toBase58(),{commitment:e.commitment,filters:r,encoding:"base64"}]);if(n.error)throw new Error(n.error.message);return n.result.map((({pubkey:e,account:{data:t,executable:r,owner:n,lamports:i}})=>({publicKey:new a.PublicKey(e),accountInfo:{data:u.Buffer.from(t[0],"base64"),executable:r,owner:new a.PublicKey(n),lamports:i}})))}function _(e,t="account not found"){if(null===e)throw new Error(t);return e}e.getMintDecimals=v}(OU);var Bq={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseInstructionErrorResponse=e.KNOWN_PROGRAMS=e.DexError=void 0;const t=rq,r=Oq,n=mq;var i,o;(o=i=e.DexError||(e.DexError={}))[o.InvalidMarketFlags=0]="InvalidMarketFlags",o[o.InvalidAskFlags=1]="InvalidAskFlags",o[o.InvalidBidFlags=2]="InvalidBidFlags",o[o.InvalidQueueLength=3]="InvalidQueueLength",o[o.OwnerAccountNotProvided=4]="OwnerAccountNotProvided",o[o.ConsumeEventsQueueFailure=5]="ConsumeEventsQueueFailure",o[o.WrongCoinVault=6]="WrongCoinVault",o[o.WrongPcVault=7]="WrongPcVault",o[o.WrongCoinMint=8]="WrongCoinMint",o[o.WrongPcMint=9]="WrongPcMint",o[o.CoinVaultProgramId=10]="CoinVaultProgramId",o[o.PcVaultProgramId=11]="PcVaultProgramId",o[o.CoinMintProgramId=12]="CoinMintProgramId",o[o.PcMintProgramId=13]="PcMintProgramId",o[o.WrongCoinMintSize=14]="WrongCoinMintSize",o[o.WrongPcMintSize=15]="WrongPcMintSize",o[o.WrongCoinVaultSize=16]="WrongCoinVaultSize",o[o.WrongPcVaultSize=17]="WrongPcVaultSize",o[o.UninitializedVault=18]="UninitializedVault",o[o.UninitializedMint=19]="UninitializedMint",o[o.CoinMintUninitialized=20]="CoinMintUninitialized",o[o.PcMintUninitialized=21]="PcMintUninitialized",o[o.WrongMint=22]="WrongMint",o[o.WrongVaultOwner=23]="WrongVaultOwner",o[o.VaultHasDelegate=24]="VaultHasDelegate",o[o.AlreadyInitialized=25]="AlreadyInitialized",o[o.WrongAccountDataAlignment=26]="WrongAccountDataAlignment",o[o.WrongAccountDataPaddingLength=27]="WrongAccountDataPaddingLength",o[o.WrongAccountHeadPadding=28]="WrongAccountHeadPadding",o[o.WrongAccountTailPadding=29]="WrongAccountTailPadding",o[o.RequestQueueEmpty=30]="RequestQueueEmpty",o[o.EventQueueTooSmall=31]="EventQueueTooSmall",o[o.SlabTooSmall=32]="SlabTooSmall",o[o.BadVaultSignerNonce=33]="BadVaultSignerNonce",o[o.InsufficientFunds=34]="InsufficientFunds",o[o.SplAccountProgramId=35]="SplAccountProgramId",o[o.SplAccountLen=36]="SplAccountLen",o[o.WrongFeeDiscountAccountOwner=37]="WrongFeeDiscountAccountOwner",o[o.WrongFeeDiscountMint=38]="WrongFeeDiscountMint",o[o.CoinPayerProgramId=39]="CoinPayerProgramId",o[o.PcPayerProgramId=40]="PcPayerProgramId",o[o.ClientIdNotFound=41]="ClientIdNotFound",o[o.TooManyOpenOrders=42]="TooManyOpenOrders",o[o.FakeErrorSoWeDontChangeNumbers=43]="FakeErrorSoWeDontChangeNumbers",o[o.BorrowError=44]="BorrowError",o[o.WrongOrdersAccount=45]="WrongOrdersAccount",o[o.WrongBidsAccount=46]="WrongBidsAccount",o[o.WrongAsksAccount=47]="WrongAsksAccount",o[o.WrongRequestQueueAccount=48]="WrongRequestQueueAccount",o[o.WrongEventQueueAccount=49]="WrongEventQueueAccount",o[o.RequestQueueFull=50]="RequestQueueFull",o[o.EventQueueFull=51]="EventQueueFull",o[o.MarketIsDisabled=52]="MarketIsDisabled",o[o.WrongSigner=53]="WrongSigner",o[o.TransferFailed=54]="TransferFailed",o[o.ClientOrderIdIsZero=55]="ClientOrderIdIsZero",o[o.WrongRentSysvarAccount=56]="WrongRentSysvarAccount",o[o.RentNotProvided=57]="RentNotProvided",o[o.OrdersNotRentExempt=58]="OrdersNotRentExempt",o[o.OrderNotFound=59]="OrderNotFound",o[o.OrderNotYours=60]="OrderNotYours",o[o.WouldSelfTrade=61]="WouldSelfTrade",o[o.Unknown=1e3]="Unknown",e.KNOWN_PROGRAMS={[n.TOKEN_PROGRAM_ID.toString()]:"Token program",[t.SystemProgram.programId.toString()]:"System program"},e.parseInstructionErrorResponse=function(t,n){const[o,s]=n,a=t.instructions[o];let c;return c=a.programId.toString()in r.PROGRAM_LAYOUT_VERSIONS?i[s.Custom]:a.programId.toString()in e.KNOWN_PROGRAMS?`${e.KNOWN_PROGRAMS[a.programId.toString()]} error ${s.Custom}`:`Unknown program ${a.programId.toString()} custom error: ${s.Custom}`,{failedInstructionIndex:o,error:c,failedProgram:a.programId.toString()}}}(Bq),function(e){var t=ar&&ar.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=ar&&ar.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=ar&&ar.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=ar&&ar.__exportStar||function(e,r){for(var n in e)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.TokenInstructions=e.EVENT_QUEUE_LAYOUT=e.REQUEST_QUEUE_LAYOUT=e.decodeRequestQueue=e.decodeEventQueue=e.getLayoutVersion=e.MARKETS=e.TOKEN_MINTS=e.supportsSrmFeeDiscounts=e.getFeeRates=e.getFeeTier=e.NEW_ORDER_V3_OWNER_INDEX=e.NEW_ORDER_V3_OPEN_ORDERS_INDEX=e.NEW_ORDER_OWNER_INDEX=e.NEW_ORDER_OPEN_ORDERS_INDEX=e.SETTLE_FUNDS_QUOTE_WALLET_INDEX=e.SETTLE_FUNDS_BASE_WALLET_INDEX=e.decodeInstructionV2=e.decodeInstruction=e.DexInstructions=e.MARKET_STATE_LAYOUT_V2=e.MARKET_STATE_LAYOUT_V3=e.OpenOrders=e.Orderbook=e.Market=void 0;var o=OU;Object.defineProperty(e,"Market",{enumerable:!0,get:function(){return o.Market}}),Object.defineProperty(e,"Orderbook",{enumerable:!0,get:function(){return o.Orderbook}}),Object.defineProperty(e,"OpenOrders",{enumerable:!0,get:function(){return o.OpenOrders}}),Object.defineProperty(e,"MARKET_STATE_LAYOUT_V3",{enumerable:!0,get:function(){return o.MARKET_STATE_LAYOUT_V3}}),Object.defineProperty(e,"MARKET_STATE_LAYOUT_V2",{enumerable:!0,get:function(){return o.MARKET_STATE_LAYOUT_V2}});var s=yq;Object.defineProperty(e,"DexInstructions",{enumerable:!0,get:function(){return s.DexInstructions}}),Object.defineProperty(e,"decodeInstruction",{enumerable:!0,get:function(){return s.decodeInstruction}}),Object.defineProperty(e,"decodeInstructionV2",{enumerable:!0,get:function(){return s.decodeInstructionV2}}),Object.defineProperty(e,"SETTLE_FUNDS_BASE_WALLET_INDEX",{enumerable:!0,get:function(){return s.SETTLE_FUNDS_BASE_WALLET_INDEX}}),Object.defineProperty(e,"SETTLE_FUNDS_QUOTE_WALLET_INDEX",{enumerable:!0,get:function(){return s.SETTLE_FUNDS_QUOTE_WALLET_INDEX}}),Object.defineProperty(e,"NEW_ORDER_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return s.NEW_ORDER_OPEN_ORDERS_INDEX}}),Object.defineProperty(e,"NEW_ORDER_OWNER_INDEX",{enumerable:!0,get:function(){return s.NEW_ORDER_OWNER_INDEX}}),Object.defineProperty(e,"NEW_ORDER_V3_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return s.NEW_ORDER_V3_OPEN_ORDERS_INDEX}}),Object.defineProperty(e,"NEW_ORDER_V3_OWNER_INDEX",{enumerable:!0,get:function(){return s.NEW_ORDER_V3_OWNER_INDEX}});var a=Tq;Object.defineProperty(e,"getFeeTier",{enumerable:!0,get:function(){return a.getFeeTier}}),Object.defineProperty(e,"getFeeRates",{enumerable:!0,get:function(){return a.getFeeRates}}),Object.defineProperty(e,"supportsSrmFeeDiscounts",{enumerable:!0,get:function(){return a.supportsSrmFeeDiscounts}});var c=Oq;Object.defineProperty(e,"TOKEN_MINTS",{enumerable:!0,get:function(){return c.TOKEN_MINTS}}),Object.defineProperty(e,"MARKETS",{enumerable:!0,get:function(){return c.MARKETS}}),Object.defineProperty(e,"getLayoutVersion",{enumerable:!0,get:function(){return c.getLayoutVersion}});var u=bq;Object.defineProperty(e,"decodeEventQueue",{enumerable:!0,get:function(){return u.decodeEventQueue}}),Object.defineProperty(e,"decodeRequestQueue",{enumerable:!0,get:function(){return u.decodeRequestQueue}}),Object.defineProperty(e,"REQUEST_QUEUE_LAYOUT",{enumerable:!0,get:function(){return u.REQUEST_QUEUE_LAYOUT}}),Object.defineProperty(e,"EVENT_QUEUE_LAYOUT",{enumerable:!0,get:function(){return u.EVENT_QUEUE_LAYOUT}}),e.TokenInstructions=n(mq),i(Bq,e)}({});const Uq=((e,t,r)=>new xB(e,t,r))(PB("instruction"));Uq.addVariant(12,UB([RB("amount"),PB("decimals")]),"transferChecked");const Nq=xh.sign.signatureLength;var jq={},Cq={};Object.defineProperty(Cq,"__esModule",{value:!0}),Cq.default=void 0;Cq.default=class{update(e={}){throw new Error("Not Implemented")}toJSON(){throw new Error("Not Implemented")}};var Lq={},Dq={},Fq={};Object.defineProperty(Fq,"__esModule",{value:!0}),Fq.default=function(e,t,r=[]){return(0,zq.mapValues)(e,((e,n)=>{for(const r of t)if((0,zq.isString)(e))try{const t=e.trim();return r.parse(t)}catch{}if(r.includes(n)&&!(0,Wq.isNumberUnit)(e))throw new Error(`mapCurrency invalid value ${JSON.stringify({[n]:e})}`);return e}))};var Wq=Wv,zq=Vv;var qq={};Object.defineProperty(qq,"__esModule",{value:!0}),qq.default=function e(t,r){return(0,Vq.isPlainObject)(t)?(0,Vq.mapValues)(t,(t=>e(t,r))):(0,Vq.isArray)(t)?t.map((t=>e(t,r))):r(t)};var Vq=Vv;var Kq={};Object.defineProperty(Kq,"__esModule",{value:!0}),Kq.default=function(e){return(0,Hq.default)(e,((e,t)=>(0,Zq.isNumberUnit)(e)?e.toString():e))};var Zq=Wv,Hq=function(e){return e&&e.__esModule?e:{default:e}}(qq);!function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"mapCurrency",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"mapValuesDeep",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"modelToJSON",{enumerable:!0,get:function(){return n.default}});var t=i(Fq),r=i(qq),n=i(Kq);function i(e){return e&&e.__esModule?e:{default:e}}}(Dq),Object.defineProperty(Lq,"__esModule",{value:!0}),Lq.default=void 0;var Gq=Vv,Jq=Xq(Jc),Qq=Dq,Yq=Xq(Cq);function Xq(e){return e&&e.__esModule?e:{default:e}}function $q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$q(Object(r),!0).forEach((function(t){tV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tV(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class rV extends Yq.default{constructor({currency:e,config:t,mainKey:r}){super(),(0,Jq.default)(t,"config has not been resolved"),(0,Jq.default)(e,"currency has not been resolved");const n=(0,Qq.mapCurrency)(t,[e],[r]);Object.assign(this,n),this.origin=n.origin||n[r],Object.defineProperty(this,"currency",{value:e,enumerable:!1}),Object.defineProperty(this,"mainKey",{value:r,enumerable:!1})}update(e={}){if((0,Gq.isEmpty)(e))return this;e=(0,Qq.mapCurrency)(e,[this.currency],[this.mainKey]);const t=eV(eV({},this),e);e[this.mainKey]&&(t.origin=e[this.mainKey]);const{multiplier:r,max:n,min:i}=t;if(this.mainKey){let e=t.origin;r&&(e=e.mul(r)),n&&(e=e.lte(n)?e:n),i&&(e=e.gte(i)?e:i),t[this.mainKey]=e}return(0,Gq.isEqual)(this.toJSON(),(0,Qq.modelToJSON)(eV({},t)))?this:new this.constructor({config:t,mainKey:this.mainKey,currency:this.currency})}toJSON(){return(0,Qq.modelToJSON)(eV({},this))}}Lq.default=rV,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BaseFeeData",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"FeeData",{enumerable:!0,get:function(){return r.default}});var t=n(Cq),r=n(Lq);function n(e){return e&&e.__esModule?e:{default:e}}}(jq);var nV,iV,oV,sV={},aV={};const cV=class e{constructor(t,{maxFuzziness:r}={}){a(this,iV),e.validateInterval(t),this.timerId=void 0,this.interval=t,this.maxFuzziness="number"==typeof r?r:t,this.isCallbacking=!1,this.isRestarting=!1,this.pending=[],this.callback=void 0,this.pauseCheckpointTime=void 0,this.timeLeftAfterResume=void 0}start(t,{delayedStart:r}={}){if(this.callback=t||this.callback,!this.callback)throw new Error("Callback must be provided");return this.timerId?Promise.resolve():(this.timeLeftAfterResume=void 0,s(e,nV).add(this),this.pauseCheckpointTime=Date.now(),r?(this.timerId=setTimeout((()=>this.tick()),this.interval),Promise.resolve()):(this.timerId=!0,this.tick()))}stop(){return this.isRestarting=!1,u(this,iV,oV).call(this)}pause(){if(void 0===this.timerId)throw new Error("You cannot pause a timer that hasn't started or it has been stopped!");if(void 0!==this.timeLeftAfterResume)return;const e=Date.now();this.timeLeftAfterResume=this.pauseCheckpointTime?Math.max(0,this.interval-(e-this.pauseCheckpointTime)):0,this.pauseCheckpointTime=e,clearTimeout(this.timerId)}resume(){if(void 0===this.timerId)throw new Error("You cannot resume a timer that hasn't started or it has been stopped!");if(void 0===this.timeLeftAfterResume)return;const e=Date.now(),t=Math.max(this.timeLeftAfterResume-(e-this.pauseCheckpointTime),Math.round(this.maxFuzziness*this.timeLeftAfterResume/this.interval));this.timerId=setTimeout((()=>this.tick()),Math.min(this.timeLeftAfterResume,t)),this.pauseCheckpointTime=e-(this.interval-this.timeLeftAfterResume),this.timeLeftAfterResume=void 0}async tick(){try{this.isCallbacking=!0,this.pauseCheckpointTime=Date.now(),await this.callback()}finally{for(const e of this.pending)e();this.pending.length=0,this.isCallbacking=!1;const e=void 0===this.timerId,t=void 0!==this.timeLeftAfterResume;!e&&!t&&(this.timerId=setTimeout((()=>this.tick()),this.interval))}}get isRunning(){return!!this.timerId||this.isRestarting}async setNewInterval(t){if(e.validateInterval(t),this.interval=t,this.isRunning&&(this.isRestarting=!0,await u(this,iV,oV).call(this),this.isRestarting)){const e=this.start();return this.isRestarting=!1,e}}static validateInterval(e){if("number"!=typeof e||e<=0||!Number.isFinite(e))throw new Error("Interval should be a positive number")}static async startAll(){return Promise.all([...s(e,nV)].map((e=>e.start())))}static stopAll(){return Promise.all([...s(e,nV)].map((e=>e.stop())))}static pauseAll(){[...s(e,nV)].forEach((e=>e.pause()))}static resumeAll(){[...s(e,nV)].forEach((e=>e.resume()))}static count(){return s(e,nV).size}};nV=new WeakMap,iV=new WeakSet,oV=function(){return void 0===this.timerId?Promise.resolve():(clearTimeout(this.timerId),this.timeLeftAfterResume=void 0,s(cV,nV).delete(this),this.timerId=void 0,this.isCallbacking?new Promise((e=>this.pending.push(e))):Promise.resolve())},a(cV,nV,new Set);let uV=cV;const dV=ur(Object.freeze(Object.defineProperty({__proto__:null,Timer:uV},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(aV,"__esModule",{value:!0}),aV.default=void 0;var fV=dV,lV=pV(Jc),hV=pV(TO);function pV(e){return e&&e.__esModule?e:{default:e}}function yV(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}aV.default=class{constructor({updateFee:e,interval:t,assetName:r}){yV(this,"start",(()=>async()=>{this.isStarted||(this.isStarted=!0,this.timer.start((()=>{this.tick()})))})),yV(this,"update",(()=>async()=>{if(this.isStarted)return this.tick()})),yV(this,"tick",(async()=>{try{const e=await this.fetchFee();await this.updateFee(this.assetName,e)}catch(e){console.warn(`Fee monitor tick error for ${this.assetName}`,e.message,e)}})),yV(this,"stop",(async()=>{this.isStarted&&(this.isStarted=!1,await this.timer.stop())})),(0,lV.default)(e,"updateFee is required"),(0,lV.default)(t,"interval is required"),(0,lV.default)(r,"assetName is required"),this.updateFee=e,this.timer=new fV.Timer((0,hV.default)(t)),this.assetName=r,this.isStarted=!1}async fetchFee(){throw new Error("Not Implemented")}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"FeeMonitor",{enumerable:!0,get:function(){return r.default}});var t,r=(t=aV)&&t.__esModule?t:{default:t}}(sV);var mV={};function bV(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var gV=bV;function vV(e){return"function"==typeof e}function wV(e){return"object"==typeof e&&null!==e}function _V(e){return void 0===e}bV.EventEmitter=bV,bV.prototype._events=void 0,bV.prototype._maxListeners=void 0,bV.defaultMaxListeners=10,bV.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},bV.prototype.emit=function(e){var t,r,n,i,o,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||wV(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var a=new Error('Uncaught, unspecified "error" event. ('+t+")");throw a.context=t,a}if(_V(r=this._events[e]))return!1;if(vV(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(wV(r))for(i=Array.prototype.slice.call(arguments,1),n=(s=r.slice()).length,o=0;o<n;o++)s[o].apply(this,i);return!0},bV.prototype.addListener=function(e,t){var r;if(!vV(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,vV(t.listener)?t.listener:t),this._events[e]?wV(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,wV(this._events[e])&&!this._events[e].warned&&((r=_V(this._maxListeners)?bV.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},bV.prototype.on=bV.prototype.addListener,bV.prototype.once=function(e,t){if(!vV(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},bV.prototype.removeListener=function(e,t){var r,n,i,o;if(!vV(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,n=-1,r===t||vV(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(wV(r)){for(o=i;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){n=o;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},bV.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(vV(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},bV.prototype.listeners=function(e){return this._events&&this._events[e]?vV(this._events[e])?[this._events[e]]:this._events[e].slice():[]},bV.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(vV(t))return 1;if(t)return t.length}return 0},bV.listenerCount=function(e,t){return e.listenerCount(t)};var SV={};Object.defineProperty(SV,"__esModule",{value:!0}),SV.createConsoleLogger=void 0;SV.createConsoleLogger=e=>({trace:(...t)=>console.trace(`[${e}:trace]`,...t),debug:(...t)=>console.debug(`[${e}:debug]`,...t),log:(...t)=>console.log(`[${e}]`,...t),info:(...t)=>console.info(`[${e}:info]`,...t),warn:(...t)=>console.warn(`[${e}:warn]`,...t),error:(...t)=>console.error(`[${e}:error]`,...t)}),Object.defineProperty(mV,"__esModule",{value:!0}),mV.BaseMonitor=void 0;var EV=Yg,kV=dV,AV=OV(gV),xV=Vv,IV=OV(Jc),TV=SV;function OV(e){return e&&e.__esModule?e:{default:e}}function PV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function MV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PV(Object(r),!0).forEach((function(t){RV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function RV(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const BV=["start","stop","update","tick","tick-multiple-wallet-accounts"];class UV extends AV.default{constructor({asset:e,interval:t,assetClientInterface:r,runner:n=e=>e(),logger:i}){super(),RV(this,"start",(async e=>{if(this.timer.isRunning)return;let t=e;await this._runHooks("before-start",e),await this.timer.start((async()=>{try{return await this.tickWalletAccounts(t)}finally{t={}}})),await this._runHooks("after-start",e)})),RV(this,"stop",(async()=>{this.timer.isRunning&&(await this._runHooks("before-stop"),await this.timer.stop(),await this._runHooks("after-stop"))})),RV(this,"update",(async({walletAccount:e,refresh:t,highPriority:r,assetName:n}={})=>{let i=null;try{await this._runHooks("before-update",{walletAccount:e,refresh:t,highPriority:r,assetName:n}),await this.timer.stop(),await this.tickWalletAccounts({walletAccount:e,refresh:t,highPriority:r,assetName:n})}catch(o){throw i=o,Object.assign(i,{walletAccount:e,refresh:t,highPriority:r,assetName:n})}finally{await this._runHooks("after-update",{error:i,walletAccount:e,refresh:t,highPriority:r,assetName:n}),await this.timer.start((()=>this.tickWalletAccounts()),{delayedStart:!0})}})),RV(this,"refresh",(async()=>(this.logDeprecation("refresh","update"),this.update({refresh:!0})))),RV(this,"refreshOneWallet",(async(e,t)=>(this.logDeprecation("refreshOneWallet","update"),this.update({walletAccount:e,assetName:t,refresh:!0})))),RV(this,"tickWithExtra",(async e=>{let t=null;const{walletAccount:r}=e;this.tickCount[r]=this.tickCount[r]||0;try{await this._runHooks("before-tick",e);const t=()=>this.tick(e);e.highPriority?await t():await this.runner(t)}catch(e){t=e,this.logger.error(`${this.constructor.name} ${t.name}: ${t.message}\n`,t,MV({},t))}finally{await this._runHooks("after-tick",MV(MV({},e),{},{error:t})),this.tickCount[r]++}})),RV(this,"logDeprecation",((e,t)=>{const r=`monitor.${e}() is deprecated. Please use monitor.${t}(). Asset name ${this.asset.name}`;this.logger.log(r,(new Error).stack)})),(0,IV.default)(e,"asset is required"),(0,IV.default)(t,"interval is required"),(0,IV.default)(r,"assetClientInterface is required"),(0,IV.default)(n,"runner is required"),this.logger=i||(0,TV.createConsoleLogger)(`@exodus/${this.constructor.name}`),this.runner=n,this.asset=e,this.interval=t,this.timer=new kV.Timer(t),this.isStarted=!1,this.aci=r,this.params={},this.hooks=BV.reduce(((e,t)=>(e[`before-${t}`]=[],e[`after-${t}`]=[],e)),{}),this.tickCount={}}setParams(e={}){Object.entries(e).forEach((([e,t])=>{(0,IV.default)(t,`required parameter ${e} missing in ${this.constructor.name}`)})),this.params=MV(MV({},this.params),e)}addHook(e,t){(0,IV.default)("function"==typeof t,"hook must be a function"),this.hooks[e].push(t)}async _runHooks(e,t){const r=MV({monitor:this},t);await Promise.all(this.hooks[e].map((async t=>{try{await t(r)}catch(t){this.logger.warn(`Error running hook ${e} for ${this.asset.name}. Error ${t.message||t}`,t)}}))),this.emit(e,r)}async tickWalletAccounts({walletAccount:e,refresh:t,highPriority:r,assetName:n}={}){const i=await this.aci.getWalletAccounts({assetName:this.asset.name});await this._runHooks("before-tick-multiple-wallet-accounts",{refresh:t,highPriority:r,assetName:n,walletAccounts:i});let o=null;try{await Promise.all(i.filter((t=>!e||e===t)).map((e=>this.tickWithExtra({walletAccount:e,refresh:t,highPriority:r,assetName:n}))))}catch(e){throw o=e,e}finally{await this._runHooks("after-tick-multiple-wallet-accounts",{error:o,refresh:t,highPriority:r,assetName:n,walletAccounts:i})}}setServer(e){throw new Error("Unimplemented")}async tickAllWalletAccounts({refresh:e,highPriority:t,assetName:r}={}){return this.logDeprecation("tickAllWalletAccounts","tickWalletAccounts"),this.tickWalletAccounts({refresh:e,highPriority:t,assetName:r})}async tick({refresh:e,walletAccount:t,highPriority:r}){throw new Error("Unimplemented")}async updateAccountState({assetName:e=this.asset.name,accountState:t,newData:r,walletAccount:n}){return this.aci.updateAccountState({assetName:e,walletAccount:n,accountState:t,newData:r})}async updateTxLog({assetName:e=this.asset.name,logItems:t,walletAccount:r,refresh:n,notifyCondition:i}){return this.aci.updateTxLogAndNotify({assetName:e,walletAccount:r,txs:t,refresh:n,notifyCondition:i})}async removeFromTxLog(e){for(const{tx:t,assetSource:r}of e){const{asset:e,walletAccount:n}=r;await this.aci.removeTxLog({assetName:e,walletAccount:n,txs:[t]})}}getUnconfirmed({txSet:e,staleTxAge:t}){(0,IV.default)(e,"txSet is required"),(0,IV.default)(t>=0,"staleTxAge must be a 0 or positive number");const r=[...e].filter((e=>!e.confirmed&&!e.dropped)),[n,i]=(0,xV.partition)(r,(e=>EV.SynchronizedTime.now()-e.date.valueOf()<t));return{stale:i.map((e=>MV(MV({},e),{},{dropped:!0}))),unconfirmed:n.map((e=>e.txId))}}async updateTxLogByAsset({logItemsByAsset:e,walletAccount:t,refresh:r,notifyCondition:n}){if(r){const n=this.aci.createOperationsBatch();for(const[i,o]of Object.entries(e))this.aci.updateTxLogAndNotifyBatch({assetName:i,walletAccount:t,txs:o,refresh:r,batch:n});await this.aci.executeOperationsBatch(n)}else for(const[i,o]of Object.entries(e))await this.updateTxLog({assetName:i,logItems:o,walletAccount:t,refresh:r,notifyCondition:n})}}mV.BaseMonitor=UV;var NV={};Object.defineProperty(NV,"__esModule",{value:!0}),NV.AssetError=void 0;class jV extends Error{constructor(e,t){super(e),Object.defineProperty(this,"name",{value:"AssetError",enumerable:!1}),this.code=e,this.properties=t}}NV.AssetError=jV,Object.defineProperty(jV,"name",{value:"AssetError"});var CV={};Object.defineProperty(CV,"__esModule",{value:!0}),CV.getUnconfirmedSentBalance=CV.getUnconfirmedReceivedBalance=CV.getBalancesFromAccountStateFactory=CV.getBalanceFromTxLog=CV.getBalanceFromAccountState=CV.fixBalance=void 0;var LV=function(e){return e&&e.__esModule?e:{default:e}}(Jc);function DV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function FV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?DV(Object(r),!0).forEach((function(t){WV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WV(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}CV.getBalanceFromTxLog=({asset:e,txLog:t})=>((0,LV.default)(e,"asset is required"),(0,LV.default)(t,"txLog is required"),t.size>0?t.getMutations().slice(-1)[0].balance:e.currency.ZERO);const zV=({asset:e,accountState:t})=>{var r;return(0,LV.default)(t,"accountState is required"),(0,LV.default)(e,"asset is required"),e.name===e.baseAsset.name?(null==t?void 0:t.balance)||e.currency.ZERO:(null==t||null===(r=t.tokenBalances)||void 0===r?void 0:r[e.name])||e.currency.ZERO};CV.getBalanceFromAccountState=zV;const qV=({asset:e,txLog:t,sent:r,received:n})=>{(0,LV.default)(r||n,"At least sent: true or received: true must be provided");let i=e.currency.ZERO;for(const e of t){const t=e.sent;!e.failed&&e.pending&&(t&&r||!t&&n)&&(i=i.add(e.coinAmount.abs()),e.feeAmount&&t&&r&&e.coinAmount.unitType.equals(e.feeAmount.unitType)&&(i=i.add(e.feeAmount.abs())))}return i},VV=({asset:e,txLog:t})=>((0,LV.default)(e,"asset is required"),(0,LV.default)(t,"txLog is required"),qV({asset:e,txLog:t,received:!0}));CV.getUnconfirmedReceivedBalance=VV;const KV=({asset:e,txLog:t})=>((0,LV.default)(e,"asset is required"),(0,LV.default)(t,"txLog is required"),qV({asset:e,txLog:t,sent:!0}));CV.getUnconfirmedSentBalance=KV;const ZV=({txLog:e,balance:t})=>{(0,LV.default)(e,"txLog is required"),(0,LV.default)(t,"balance is required");for(const r of e)r.sent&&r.pending&&!r.error&&(t=t.sub(r.coinAmount.abs()),r.coinAmount.unitType.equals(r.feeAmount.unitType)&&(t=t.sub(r.feeAmount)));return t};CV.fixBalance=ZV;CV.getBalancesFromAccountStateFactory=({shouldFixBalance:e=!1,getFrozenBalances:t=()=>({}),getOtherBalances:r=()=>({})}={})=>({accountState:n,asset:i,txLog:o})=>{const s=VV({asset:i,txLog:o}),a=KV({asset:i,txLog:o}),c=zV({accountState:n,asset:i}),u=e?ZV({txLog:o,balance:c}):c,d=r({asset:i,accountState:n,txLog:o})||{},f=t({asset:i,accountState:n,txLog:o})||{},l=Object.values(f).reduce(((e,t)=>e.add(t)),i.currency.ZERO),h=u.sub(s).sub(l).clampLowerZero();return FV(FV(FV({total:u,spendable:h,unconfirmedReceived:s,unconfirmedSent:a},d),f),{},{frozen:l})};var HV={};Object.defineProperty(HV,"__esModule",{value:!0}),HV.createLimiter=void 0;var GV=QV((function(e,t){const r=Object.assign({concurrency:1},t).concurrency;if("number"!=typeof r||isNaN(r)||r<=0)throw new TypeError(`Invalid concurrency value: ${r}`);let n=0;const i=[];function o(){i.length>0?i.shift().resolve():n-=1}return function(){let t;return n>=r?t=new Promise((e=>i.push({resolve:e}))):(t=Promise.resolve(),n+=1),t.then((()=>e.apply(this,arguments))).then((e=>(o(),e)),(e=>{throw o(),e}))}})),JV=QV(Jc);function QV(e){return e&&e.__esModule?e:{default:e}}HV.createLimiter=({name:e,concurrency:t,logger:r})=>{(0,JV.default)(e,"name is required"),(0,JV.default)(void 0!==t,"concurrency is required"),(0,JV.default)(r,"logger is required");let n=0;const i=t<1,o=i?"unlimited concurrency":"max concurrency: "+t,s=async t=>{r.debug(`running ${e}, in progress: ${++n} ${o}`);try{return await t()}finally{r.debug(`finished ${e}, in progress: ${--n} ${o}`)}};return i?s:(0,GV.default)(s,{concurrency:t})};var YV,XV,$V={};var eK=tK;function tK(e){var t=this;if(t instanceof tK||(t=new tK),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}function rK(e,t,r){var n=t===e.head?new oK(r,null,t,e):new oK(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function nK(e,t){e.tail=new oK(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function iK(e,t){e.head=new oK(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function oK(e,t,r,n){if(!(this instanceof oK))return new oK(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}tK.Node=oK,tK.create=tK,tK.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},tK.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},tK.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},tK.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)nK(this,arguments[e]);return this.length},tK.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)iK(this,arguments[e]);return this.length},tK.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},tK.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},tK.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},tK.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},tK.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},tK.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},tK.prototype.map=function(e,t){t=t||this;for(var r=new tK,n=this.head;null!==n;)r.push(e.call(t,n.value,this)),n=n.next;return r},tK.prototype.mapReverse=function(e,t){t=t||this;for(var r=new tK,n=this.tail;null!==n;)r.push(e.call(t,n.value,this)),n=n.prev;return r},tK.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},tK.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},tK.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},tK.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},tK.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new tK;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;for(;null!==i&&n<t;n++,i=i.next)r.push(i.value);return r},tK.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new tK;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;null!==i&&n>t;n--)i=i.prev;for(;null!==i&&n>e;n--,i=i.prev)r.push(i.value);return r},tK.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;var o=[];for(n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(n=0;n<r.length;n++)i=rK(this,i,r[n]);return o},tK.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{(XV||(XV=1,YV=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),YV)(tK)}catch{}const sK=eK,aK=Symbol("max"),cK=Symbol("length"),uK=Symbol("lengthCalculator"),dK=Symbol("allowStale"),fK=Symbol("maxAge"),lK=Symbol("dispose"),hK=Symbol("noDisposeOnSet"),pK=Symbol("lruList"),yK=Symbol("cache"),mK=Symbol("updateAgeOnGet"),bK=()=>1;const gK=(e,t,r)=>{const n=e[yK].get(t);if(n){const t=n.value;if(vK(e,t)){if(_K(e,n),!e[dK])return}else r&&(e[mK]&&(n.value.now=Date.now()),e[pK].unshiftNode(n));return t.value}},vK=(e,t)=>{if(!t||!t.maxAge&&!e[fK])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[fK]&&r>e[fK]},wK=e=>{if(e[cK]>e[aK])for(let t=e[pK].tail;e[cK]>e[aK]&&null!==t;){const r=t.prev;_K(e,t),t=r}},_K=(e,t)=>{if(t){const r=t.value;e[lK]&&e[lK](r.key,r.value),e[cK]-=r.length,e[yK].delete(r.key),e[pK].removeNode(t)}};class SK{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const EK=(e,t,r,n)=>{let i=r.value;vK(e,i)&&(_K(e,r),e[dK]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var kK=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[aK]=e.max||1/0;const t=e.length||bK;if(this[uK]="function"!=typeof t?bK:t,this[dK]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[fK]=e.maxAge||0,this[lK]=e.dispose,this[hK]=e.noDisposeOnSet||!1,this[mK]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[aK]=e||1/0,wK(this)}get max(){return this[aK]}set allowStale(e){this[dK]=!!e}get allowStale(){return this[dK]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[fK]=e,wK(this)}get maxAge(){return this[fK]}set lengthCalculator(e){"function"!=typeof e&&(e=bK),e!==this[uK]&&(this[uK]=e,this[cK]=0,this[pK].forEach((e=>{e.length=this[uK](e.value,e.key),this[cK]+=e.length}))),wK(this)}get lengthCalculator(){return this[uK]}get length(){return this[cK]}get itemCount(){return this[pK].length}rforEach(e,t){t=t||this;for(let r=this[pK].tail;null!==r;){const n=r.prev;EK(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[pK].head;null!==r;){const n=r.next;EK(this,e,r,t),r=n}}keys(){return this[pK].toArray().map((e=>e.key))}values(){return this[pK].toArray().map((e=>e.value))}reset(){this[lK]&&this[pK]&&this[pK].length&&this[pK].forEach((e=>this[lK](e.key,e.value))),this[yK]=new Map,this[pK]=new sK,this[cK]=0}dump(){return this[pK].map((e=>!vK(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[pK]}set(e,t,r){if((r=r||this[fK])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,i=this[uK](t,e);if(this[yK].has(e)){if(i>this[aK])return _K(this,this[yK].get(e)),!1;const o=this[yK].get(e).value;return this[lK]&&(this[hK]||this[lK](e,o.value)),o.now=n,o.maxAge=r,o.value=t,this[cK]+=i-o.length,o.length=i,this.get(e),wK(this),!0}const o=new SK(e,t,i,n,r);return o.length>this[aK]?(this[lK]&&this[lK](e,t),!1):(this[cK]+=o.length,this[pK].unshift(o),this[yK].set(e,this[pK].head),wK(this),!0)}has(e){if(!this[yK].has(e))return!1;const t=this[yK].get(e).value;return!vK(this,t)}get(e){return gK(this,e,!0)}peek(e){return gK(this,e,!1)}pop(){const e=this[pK].tail;return e?(_K(this,e),e.value):null}del(e){_K(this,this[yK].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[yK].forEach(((e,t)=>gK(this,t,!1)))}};Object.defineProperty($V,"__esModule",{value:!0}),$V.memoizeLruCache=void 0;var AK=function(e){return e&&e.__esModule?e:{default:e}}(kK);$V.memoizeLruCache=(e,t,r)=>{const n=new AK.default(r);return(...r)=>{const i=t(...r);if(!n.has(i)){const t=e(...r);n.set(i,t),Promise.resolve(t).catch((()=>n.del(i)))}return n.get(i)}};var xK={};Object.defineProperty(xK,"__esModule",{value:!0}),xK.getDefaultPathIndexes=void 0;var IK=function(e){return e&&e.__esModule?e:{default:e}}(Jc);const TK=e=>void 0===e?void 0:Number.parseInt(e);xK.getDefaultPathIndexes=({asset:e,compatibilityMode:t})=>{(0,IK.default)(e&&e.baseAsset&&e.baseAsset.api,"expected asset.baseAsset.api"),(0,IK.default)(!t||"string"==typeof t,'expected string "compatibilityMode"');const{baseAsset:r}=e,n=(r.api.getDefaultAddressPath||function(){return r.api.defaultAddressPath})({asset:e,compatibilityMode:t}),[,i,o]=n.split("/");return{chainIndex:TK(i),addressIndex:TK(o)}};var OK={};Object.defineProperty(OK,"__esModule",{value:!0}),OK.BumpType=void 0,OK.BumpType={NONE:0,CPFP:1,RBF:2},function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={getUnconfirmedReceivedBalance:!0,getUnconfirmedSentBalance:!0,fixBalance:!0,getBalanceFromAccountState:!0,getBalanceFromTxLog:!0,getBalancesFromAccountStateFactory:!0,getDefaultPathIndexes:!0,BumpType:!0};Object.defineProperty(e,"BumpType",{enumerable:!0,get:function(){return f.BumpType}}),Object.defineProperty(e,"fixBalance",{enumerable:!0,get:function(){return s.fixBalance}}),Object.defineProperty(e,"getBalanceFromAccountState",{enumerable:!0,get:function(){return s.getBalanceFromAccountState}}),Object.defineProperty(e,"getBalanceFromTxLog",{enumerable:!0,get:function(){return s.getBalanceFromTxLog}}),Object.defineProperty(e,"getBalancesFromAccountStateFactory",{enumerable:!0,get:function(){return s.getBalancesFromAccountStateFactory}}),Object.defineProperty(e,"getDefaultPathIndexes",{enumerable:!0,get:function(){return d.getDefaultPathIndexes}}),Object.defineProperty(e,"getUnconfirmedReceivedBalance",{enumerable:!0,get:function(){return s.getUnconfirmedReceivedBalance}}),Object.defineProperty(e,"getUnconfirmedSentBalance",{enumerable:!0,get:function(){return s.getUnconfirmedSentBalance}});var r=jq;Object.keys(r).forEach((function(n){"default"===n||"__esModule"===n||Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===r[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[n]}})}));var n=sV;Object.keys(n).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===n[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[r]}})}));var i=mV;Object.keys(i).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===i[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return i[r]}})}));var o=NV;Object.keys(o).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===o[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return o[r]}})}));var s=CV,a=SV;Object.keys(a).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===a[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return a[r]}})}));var c=HV;Object.keys(c).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===c[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return c[r]}})}));var u=$V;Object.keys(u).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===u[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return u[r]}})}));var d=xK,f=OK}({});const PK=2147483648;var MK=function(e){if(!Array.isArray(e))throw new Error("Input must be an Array");if(0===e.length)throw new Error("Path must contain at least one level");for(var t=0;t<e.length;t++)if("number"!=typeof e[t])throw new Error("Path element is not a number");this.path=e};MK.validatePathArray=function(e){try{return MK.fromPathArray(e),!0}catch{return!1}},MK.validateString=function(e,t){try{return MK.fromString(e,t),!0}catch{return!1}},MK.fromPathArray=function(e){return new MK(e)},MK.fromString=function(e,t){if(/^m\//i.test(e))e=e.slice(2);else if(t)throw new Error("Root element is required");for(var r=e.split("/"),n=new Array(r.length),i=0;i<r.length;i++){var o=/(\d+)([hH\']?)/.exec(r[i]);if(null===o)throw new Error("Invalid input");if(n[i]=parseInt(o[1],10),n[i]>=PK)throw new Error("Invalid child index");if("h"===o[2]||"H"===o[2]||"'"===o[2])n[i]+=PK;else if(0!=o[2].length)throw new Error("Invalid modifier")}return new MK(n)},MK.prototype.toPathArray=function(){return this.path},MK.prototype.toString=function(e,t){for(var r=new Array(this.path.length),n=0;n<this.path.length;n++){var i=this.path[n];r[n]=i&PK?(i&~PK)+(t?"h":"'"):i}return(e?"":"m/")+r.join("/")},MK.prototype.inspect=function(){return"BIPPath <"+this.toString()+">"};var RK=MK,BK=Ph,UK=di.Buffer,NK=$a(),jK=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=e(t);return BK.encode(UK.concat([t,r],t.length+4))},decode:function(e){var r=t(BK.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=BK.decodeUnsafe(e);if(r)return t(r)}}};var CK=jK((function(e){var t=NK("sha256").update(e).digest();return NK("sha256").update(t).digest()}));const LK="Impossible case. Please create issue.",DK="The tweak was out of range or the resulted private key is invalid",FK="The tweak was out of range or equal to zero",WK="Unknow error on context randomization",zK="Private Key is invalid",qK="Public Key could not be parsed",VK="Public Key serialization error",KK="The sum of the public keys is not valid",ZK="Signature could not be parsed",HK="The nonce generation function failed, or the private key was invalid",GK="Public key could not be recover",JK="Scalar was invalid (zero or overflow)";function QK(e,t){if(!e)throw new Error(t)}function YK(e,t,r){if(QK(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;QK(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;QK(t.length===r,n)}}function XK(e){QK("Boolean"===eZ(e),"Expected compressed to be a Boolean")}function $K(e=e=>new Uint8Array(e),t){return"function"==typeof e&&(e=e(t)),YK("output",e,t),e}function eZ(e){return Object.prototype.toString.call(e).slice(8,-1)}const tZ=new(0,Yf().ec)("secp256k1"),rZ=tZ.curve,nZ=rZ.n.constructor;function iZ(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new nZ(t);if(r.cmp(rZ.p)>=0)return null;r=r.toRed(rZ.red);let n=r.redSqr().redIMul(r).redIAdd(rZ.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),tZ.keyPair({pub:{x:r,y:n}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let n=new nZ(t),i=new nZ(r);if(n.cmp(rZ.p)>=0||i.cmp(rZ.p)>=0||(n=n.toRed(rZ.red),i=i.toRed(rZ.red),(6===e||7===e)&&i.isOdd()!==(7===e)))return null;const o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(rZ.b)).isZero()?tZ.keyPair({pub:{x:n,y:i}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function oZ(e,t){const r=t.encode(null,33===e.length);for(let t=0;t<e.length;++t)e[t]=r[t]}var sZ={contextRandomize(){return 0},privateKeyVerify(e){const t=new nZ(e);return t.cmp(rZ.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new nZ(e),r=rZ.n.sub(t).umod(rZ.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new nZ(t);if(r.cmp(rZ.n)>=0||(r.iadd(new nZ(e)),r.cmp(rZ.n)>=0&&r.isub(rZ.n),r.isZero()))return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new nZ(t);if(r.cmp(rZ.n)>=0||r.isZero())return 1;r.imul(new nZ(e)),r.cmp(rZ.n)>=0&&(r=r.umod(rZ.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify(e){return null===iZ(e)?1:0},publicKeyCreate(e,t){const r=new nZ(t);if(r.cmp(rZ.n)>=0||r.isZero())return 1;return oZ(e,tZ.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const r=iZ(t);if(null===r)return 1;return oZ(e,r.getPublic()),0},publicKeyNegate(e,t){const r=iZ(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),oZ(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let e=0;e<t.length;++e)if(r[e]=iZ(t[e]),null===r[e])return 1;let n=r[0].getPublic();for(let e=1;e<r.length;++e)n=n.add(r[e].pub);return n.isInfinity()?2:(oZ(e,n),0)},publicKeyTweakAdd(e,t,r){const n=iZ(t);if(null===n)return 1;if((r=new nZ(r)).cmp(rZ.n)>=0)return 2;const i=n.getPublic().add(rZ.g.mul(r));return i.isInfinity()?2:(oZ(e,i),0)},publicKeyTweakMul(e,t,r){const n=iZ(t);if(null===n)return 1;if((r=new nZ(r)).cmp(rZ.n)>=0||r.isZero())return 2;return oZ(e,n.getPublic().mul(r)),0},signatureNormalize(e){const t=new nZ(e.subarray(0,32)),r=new nZ(e.subarray(32,64));return t.cmp(rZ.n)>=0||r.cmp(rZ.n)>=0?1:(1===r.cmp(tZ.nh)&&e.set(rZ.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new nZ(r).cmp(rZ.n)>=0||new nZ(n).cmp(rZ.n)>=0)return 1;const{output:i}=e;let o=i.subarray(4,37);o[0]=0,o.set(r,1);let s=33,a=0;for(;s>1&&0===o[a]&&!(128&o[a+1]);--s,++a);if(o=o.subarray(a),128&o[0]||s>1&&0===o[0]&&!(128&o[1]))return 1;let c=i.subarray(39,72);c[0]=0,c.set(n,1);let u=33,d=0;for(;u>1&&0===c[d]&&!(128&c[d+1]);--u,++d);return c=c.subarray(d),128&c[0]||u>1&&0===c[0]&&!(128&c[1])?1:(e.outputlen=6+s+u,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+s]=2,i[5+s]=c.length,i.set(c,6+s),0)},signatureImport(e,t){if(t.length<8||t.length>72||48!==t[0]||t[1]!==t.length-2||2!==t[2])return 1;const r=t[3];if(0===r||5+r>=t.length||2!==t[4+r])return 1;const n=t[5+r];if(0===n||6+r+n!==t.length||128&t[4]||r>1&&0===t[4]&&!(128&t[5])||128&t[r+6]||n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let i=t.subarray(4,4+r);if(33===i.length&&0===i[0]&&(i=i.subarray(1)),i.length>32)return 1;let o=t.subarray(6+r);if(33===o.length&&0===o[0]&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let s=new nZ(i);s.cmp(rZ.n)>=0&&(s=new nZ(0));let a=new nZ(t.subarray(6+r));return a.cmp(rZ.n)>=0&&(a=new nZ(0)),e.set(s.toArrayLike(Uint8Array,"be",32),0),e.set(a.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,n,i){if(i){const e=i;i=i=>{const o=e(t,r,null,n,i);if(!(o instanceof Uint8Array&&32===o.length))throw new Error("This is the way");return new nZ(o)}}const o=new nZ(r);if(o.cmp(rZ.n)>=0||o.isZero())return 1;let s;try{s=tZ.sign(t,r,{canonical:!0,k:i,pers:n})}catch{return 1}return e.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),e.recid=s.recoveryParam,0},ecdsaVerify(e,t,r){const n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new nZ(n.r),o=new nZ(n.s);if(i.cmp(rZ.n)>=0||o.cmp(rZ.n)>=0)return 1;if(1===o.cmp(tZ.nh)||i.isZero()||o.isZero())return 3;const s=iZ(r);if(null===s)return 2;const a=s.getPublic();return tZ.verify(t,n,a)?0:3},ecdsaRecover(e,t,r,n){const i={r:t.slice(0,32),s:t.slice(32,64)},o=new nZ(i.r),s=new nZ(i.s);if(o.cmp(rZ.n)>=0||s.cmp(rZ.n)>=0)return 1;if(o.isZero()||s.isZero())return 2;let a;try{a=tZ.recoverPubKey(n,i,r)}catch{return 2}return oZ(e,a),0},ecdh(e,t,r,n,i,o,s){const a=iZ(t);if(null===a)return 1;const c=new nZ(r);if(c.cmp(rZ.n)>=0||c.isZero())return 2;const u=a.getPublic().mul(c);if(void 0===i){const t=u.encode(null,!0),r=tZ.hash().update(t).digest();for(let t=0;t<32;++t)e[t]=r[t]}else{o||(o=new Uint8Array(32));const t=u.getX().toArray("be",32);for(let e=0;e<32;++e)o[e]=t[e];s||(s=new Uint8Array(32));const r=u.getY().toArray("be",32);for(let e=0;e<32;++e)s[e]=r[e];const a=i(o,s,n);if(!(a instanceof Uint8Array&&a.length===e.length))return 2;e.set(a)}return 0}},aZ=(e=>({contextRandomize(t){if(1===(QK(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&YK("seed",t,32),e.contextRandomize(t)))throw new Error(WK)},privateKeyVerify(t){return YK("private key",t,32),0===e.privateKeyVerify(t)},privateKeyNegate(t){switch(YK("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(LK)}},privateKeyTweakAdd(t,r){switch(YK("private key",t,32),YK("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(DK)}},privateKeyTweakMul(t,r){switch(YK("private key",t,32),YK("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(FK)}},publicKeyVerify(t){return YK("public key",t,[33,65]),0===e.publicKeyVerify(t)},publicKeyCreate(t,r=!0,n){switch(YK("private key",t,32),XK(r),n=$K(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(zK);case 2:throw new Error(VK)}},publicKeyConvert(t,r=!0,n){switch(YK("public key",t,[33,65]),XK(r),n=$K(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(qK);case 2:throw new Error(VK)}},publicKeyNegate(t,r=!0,n){switch(YK("public key",t,[33,65]),XK(r),n=$K(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(qK);case 2:throw new Error(LK);case 3:throw new Error(VK)}},publicKeyCombine(t,r=!0,n){QK(Array.isArray(t),"Expected public keys to be an Array"),QK(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)YK("public key",e,[33,65]);switch(XK(r),n=$K(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(qK);case 2:throw new Error(KK);case 3:throw new Error(VK)}},publicKeyTweakAdd(t,r,n=!0,i){switch(YK("public key",t,[33,65]),YK("tweak",r,32),XK(n),i=$K(i,n?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(qK);case 2:throw new Error(DK)}},publicKeyTweakMul(t,r,n=!0,i){switch(YK("public key",t,[33,65]),YK("tweak",r,32),XK(n),i=$K(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(qK);case 2:throw new Error(FK)}},signatureNormalize(t){switch(YK("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(ZK)}},signatureExport(t,r){YK("signature",t,64);const n={output:r=$K(r,72),outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(ZK);case 2:throw new Error(LK)}},signatureImport(t,r){switch(YK("signature",t),r=$K(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(ZK);case 2:throw new Error(LK)}},ecdsaSign(t,r,n={},i){YK("message",t,32),YK("private key",r,32),QK("Object"===eZ(n),"Expected options to be an Object"),void 0!==n.data&&YK("options.data",n.data),void 0!==n.noncefn&&QK("Function"===eZ(n.noncefn),"Expected options.noncefn to be a Function");const o={signature:i=$K(i,64),recid:null};switch(e.ecdsaSign(o,t,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(HK);case 2:throw new Error(LK)}},ecdsaVerify(t,r,n){switch(YK("signature",t,64),YK("message",r,32),YK("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(ZK);case 2:throw new Error(qK)}},ecdsaRecover(t,r,n,i=!0,o){switch(YK("signature",t,64),QK("Number"===eZ(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),YK("message",n,32),XK(i),o=$K(o,i?33:65),e.ecdsaRecover(o,t,r,n)){case 0:return o;case 1:throw new Error(ZK);case 2:throw new Error(GK);case 3:throw new Error(LK)}},ecdh(t,r,n={},i){switch(YK("public key",t,[33,65]),YK("private key",r,32),QK("Object"===eZ(n),"Expected options to be an Object"),void 0!==n.data&&YK("options.data",n.data),void 0!==n.hashfn?(QK("Function"===eZ(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&YK("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&YK("options.ybuf",n.ybuf,32),YK("output",i)):i=$K(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(qK);case 2:throw new Error(JK)}}}))(sZ),cZ=dB(),uZ=di.Buffer,dZ=Ah(),fZ=CK,lZ=xs,hZ=aZ,pZ=uZ.from("Bitcoin seed","utf8"),yZ=2147483648,mZ={private:76066276,public:76067358};function bZ(e){this.versions=e||mZ,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}function gZ(e,t){e._publicKey=uZ.from(t),e._identifier=wZ(t),e._fingerprint=e._identifier.slice(0,4).readUInt32BE(0),e._privateKey=null}function vZ(e,t,r){var n=uZ.allocUnsafe(78);n.writeUInt32BE(t,0),n.writeUInt8(e.depth,4);var i=e.depth?e.parentFingerprint:0;return n.writeUInt32BE(i,5),n.writeUInt32BE(e.index,9),e.chainCode.copy(n,13),r.copy(n,45),n}function wZ(e){var t=dZ.createHash("sha256").update(e).digest();return(new lZ).update(t).digest()}Object.defineProperty(bZ.prototype,"fingerprint",{get:function(){return this._fingerprint}}),Object.defineProperty(bZ.prototype,"identifier",{get:function(){return this._identifier}}),Object.defineProperty(bZ.prototype,"pubKeyHash",{get:function(){return this.identifier}}),Object.defineProperty(bZ.prototype,"privateKey",{get:function(){return this._privateKey},set:function(e){cZ.equal(e.length,32,"Private key must be 32 bytes."),cZ(!0===hZ.privateKeyVerify(e),"Invalid private key"),this._privateKey=e,this._publicKey=uZ.from(hZ.publicKeyCreate(e,!0)),this._identifier=wZ(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}}),Object.defineProperty(bZ.prototype,"publicKey",{get:function(){return this._publicKey},set:function(e){cZ(33===e.length||65===e.length,"Public key must be 33 or 65 bytes."),cZ(!0===hZ.publicKeyVerify(e),"Invalid public key");gZ(this,65===e.length?hZ.publicKeyConvert(e,!0):e)}}),Object.defineProperty(bZ.prototype,"privateExtendedKey",{get:function(){return this._privateKey?fZ.encode(vZ(this,this.versions.private,uZ.concat([uZ.alloc(1,0),this.privateKey]))):null}}),Object.defineProperty(bZ.prototype,"publicExtendedKey",{get:function(){return fZ.encode(vZ(this,this.versions.public,this.publicKey))}}),bZ.prototype.derive=function(e){if("m"===e||"M"===e||"m'"===e||"M'"===e)return this;var t=e.split("/"),r=this;return t.forEach((function(e,t){if(0!==t){var n=e.length>1&&"'"===e[e.length-1],i=parseInt(e,10);cZ(i<yZ,"Invalid index"),n&&(i+=yZ),r=r.deriveChild(i)}else cZ(/^[mM]{1}/.test(e),'Path must start with "m" or "M"')})),r},bZ.prototype.deriveChild=function(e){var t,r=e>=yZ,n=uZ.allocUnsafe(4);if(n.writeUInt32BE(e,0),r){cZ(this.privateKey,"Could not derive hardened child key");var i=this.privateKey,o=uZ.alloc(1,0);i=uZ.concat([o,i]),t=uZ.concat([i,n])}else t=uZ.concat([this.publicKey,n]);var s=dZ.createHmac("sha512",this.chainCode).update(t).digest(),a=s.slice(0,32),c=s.slice(32),u=new bZ(this.versions);if(this.privateKey)try{u.privateKey=uZ.from(hZ.privateKeyTweakAdd(uZ.from(this.privateKey),a))}catch{return this.deriveChild(e+1)}else try{u.publicKey=uZ.from(hZ.publicKeyTweakAdd(uZ.from(this.publicKey),a,!0))}catch{return this.deriveChild(e+1)}return u.chainCode=c,u.depth=this.depth+1,u.parentFingerprint=this.fingerprint,u.index=e,u},bZ.prototype.sign=function(e){return uZ.from(hZ.ecdsaSign(Uint8Array.from(e),Uint8Array.from(this.privateKey)).signature)},bZ.prototype.verify=function(e,t){return hZ.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),Uint8Array.from(this.publicKey))},bZ.prototype.wipePrivateData=function(){return this._privateKey&&dZ.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this},bZ.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}},bZ.fromMasterSeed=function(e,t){var r=dZ.createHmac("sha512",pZ).update(e).digest(),n=r.slice(0,32),i=r.slice(32),o=new bZ(t);return o.chainCode=i,o.privateKey=n,o},bZ.fromExtendedKey=function(e,t,r){r=r||!1;var n=new bZ(t=t||mZ),i=fZ.decode(e),o=i.readUInt32BE(0);cZ(o===t.private||o===t.public,"Version mismatch: does not match private or public"),n.depth=i.readUInt8(4),n.parentFingerprint=i.readUInt32BE(5),n.index=i.readUInt32BE(9),n.chainCode=i.slice(13,45);var s=i.slice(45);return 0===s.readUInt8(0)?(cZ(o===t.private,"Version mismatch: version does not match private"),n.privateKey=s.slice(1)):(cZ(o===t.public,"Version mismatch: version does not match public"),r?gZ(n,s):n.publicKey=s),n},bZ.fromJSON=function(e){return bZ.fromExtendedKey(e.xpriv)},bZ.HARDENED_OFFSET=yZ;var _Z=bZ,SZ={};Object.defineProperty(SZ,"__esModule",{value:!0}),SZ.default=void 0,SZ.fromMasterSeed=function(){return xZ.create(kZ.default.fromMasterSeed.apply(kZ.default,arguments))};var EZ=AZ(Ww),kZ=AZ(_Z);function AZ(e){return e&&e.__esModule?e:{default:e}}class xZ{constructor(e){this._hdkey=e}static create(e){return new xZ(e)}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const t=kZ.default.fromJSON(e);return new xZ(t)}static fromXPub(e,{skipVerification:t=!1}={}){const r=kZ.default.fromExtendedKey(e,null,t);return new xZ(r)}static fromXPriv(...e){return xZ.fromXPub(...e)}derive(e){if("number"==typeof e){if(!Number.isSafeInteger(e))throw new RangeError("number must be safe integer");return xZ.create(this._hdkey.deriveChild(e))}if("string"==typeof e)return xZ.create(this._hdkey.derive(e));throw new TypeError("unknown type, expected a number or a path")}wipePrivateData(){this._hdkey.wipePrivateData()}inspect(){return this.toJSON()}toJSON(){return this._hdkey.toJSON()}toString(){return JSON.stringify(this.inspect(),null,2)}get privateKey(){return this._hdkey.privateKey}get publicKey(){return this._hdkey.publicKey}get xPub(){return this._hdkey.publicExtendedKey}get identifier(){return this._hdkey.identifier}}SZ.default=xZ,function(e,t,r){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(xZ,"memoizedFromXPub",(0,EZ.default)(xZ.fromXPub));var IZ={exports:{}};!function(e){var t,r;t=ar,r=function(){return function(){return function(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var r=e.shift();e[0]=r+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var n=0;n<e.length;n++){var i=e[n];if("string"!=typeof i)throw new TypeError("Url must be a string. Received "+i);""!==i&&(n>0&&(i=i.replace(/^[\/]+/,"")),i=n<e.length-1?i.replace(/[\/]+$/,""):i.replace(/[\/]+$/,"/"),t.push(i))}var o=t.join("/"),s=(o=o.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return s.shift()+(s.length>0?"?":"")+s.join("&")}("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=r():t.urljoin=r()}(IZ);const TZ=cr(IZ.exports);var OZ,PZ,MZ={exports:{}};function RZ(){if(PZ)return OZ;PZ=1;var e=1e3,t=60*e,r=60*t,n=24*r,i=7*n,o=365.25*n;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}return OZ=function(a,c){c=c||{};var u=typeof a;if("string"===u&&a.length>0)return function(s){if(s=String(s),!(s.length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(a){var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*n;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(a);if("number"===u&&isFinite(a))return c.long?function(i){var o=Math.abs(i);return o>=n?s(i,o,n,"day"):o>=r?s(i,o,r,"hour"):o>=t?s(i,o,t,"minute"):o>=e?s(i,o,e,"second"):i+" ms"}(a):function(i){var o=Math.abs(i);return o>=n?Math.round(i/n)+"d":o>=r?Math.round(i/r)+"h":o>=t?Math.round(i/t)+"m":o>=e?Math.round(i/e)+"s":i+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}}var BZ=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,r){const n=t(this.namespace+(typeof r>"u"?":":r)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(n),...t.skips.map(n).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=RZ(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t};!function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch{}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch{}return!e&&typeof I<"u"&&"env"in I&&(e=I.env.DEBUG),e},t.useColors=function(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=BZ(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(MZ,MZ.exports);const UZ=cr(MZ.exports);var NZ={exports:{}};const jZ=()=>{const e=new Error("Delay aborted");return e.name="AbortError",e},CZ=({clearTimeout:e,setTimeout:t,willResolve:r})=>(n,{value:i,signal:o}={})=>{if(o&&o.aborted)return Promise.reject(jZ());let s,a,c;const u=e||clearTimeout,d=()=>{u(s),c(jZ())},f=new Promise(((e,u)=>{a=()=>{o&&o.removeEventListener("abort",d),r?e(i):u(i)},c=u,s=(t||setTimeout)(a,n)}));return o&&o.addEventListener("abort",d,{once:!0}),f.clear=()=>{u(s),s=null,a()},f},LZ=CZ({willResolve:!0});LZ.reject=CZ({willResolve:!1}),LZ.range=(e,t,r)=>LZ(((e,t)=>Math.floor(Math.random()*(t-e+1)+e))(e,t),r),LZ.createWithTimers=({clearTimeout:e,setTimeout:t})=>{const r=CZ({clearTimeout:e,setTimeout:t,willResolve:!0});return r.reject=CZ({clearTimeout:e,setTimeout:t,willResolve:!1}),r},NZ.exports=LZ,NZ.exports.default=LZ;const DZ=cr(NZ.exports);var FZ=function(e,t){const r=Object.assign({concurrency:1},t).concurrency;if("number"!=typeof r||isNaN(r)||r<=0)throw new TypeError(`Invalid concurrency value: ${r}`);let n=0;const i=[];function o(){i.length>0?i.shift().resolve():n-=1}return function(){let t;return n>=r?t=new Promise((e=>i.push({resolve:e}))):(t=Promise.resolve(),n+=1),t.then((()=>e.apply(this,arguments))).then((e=>(o(),e)),(e=>{throw o(),e}))}};const WZ=cr(FZ),zZ=PO("15s"),qZ=PO("60s"),VZ=PO("50s"),KZ=UZ("exodus:solana-api");class ZZ{constructor({endpoint:e="wss://solana.a.exodus.io/ws",address:t,tokensAddresses:r=[],callback:n,onMsg:i,reconnectCallback:o=()=>{},reconnectDelay:s=zZ}){this.address=t,this.tokensAddresses=r,this.endpoint=e,this.callback=n,this.onMsg=i,this.reconnectCallback=o,this.reconnectDelay=s,this.shutdown=!1,this.ws=null,this.rpcQueue={},this.messageQueue=[],this.inProcessMessages=!1,this.pingTimeout=null,this.reconnectTimeout=null,this.txCache={},this.sendMessage=WZ((async(e,t=[])=>new Promise(((r,n)=>{if(this.isClosed||this.shutdown)return n(new Error("connection not started"));const i=Math.floor(1e7*Math.random())+1;this.rpcQueue[i]={resolve:r,reject:n},this.rpcQueue[i].timeout=setTimeout((()=>{delete this.rpcQueue[i],console.log(`solana ws: reply timeout (${e}) - ${JSON.stringify(t)} - ${i}`),r(null)}),VZ),"function"==typeof this.rpcQueue[i].timeout.unref&&this.rpcQueue[i].timeout.unref(),this.ws.send(JSON.stringify({jsonrpc:"2.0",method:e,params:t,id:i}))}))),{concurrency:15})}newSocket(e){const t=new URL(e);t.protocol="wss:",KZ("Opening WS to:",e=`${t}`);const r=new NT.WebSocket(`${e}`);return r.addEventListener("message",this.onMessage.bind(this)),r.addEventListener("open",this.onOpen.bind(this)),r.addEventListener("close",this.onClose.bind(this)),r.addEventListener("error",this.onError.bind(this)),r}get isConnecting(){return!(!this.ws||this.ws.readyState!==NT.WebSocket.CONNECTING)}get isOpen(){return!(!this.ws||this.ws.readyState!==NT.WebSocket.OPEN)}get isClosing(){return!(!this.ws||this.ws.readyState!==NT.WebSocket.CLOSING)}get isClosed(){return!this.ws||this.ws.readyState===NT.WebSocket.CLOSED}get running(){return!!(!this.isClosed||this.inProcessMessages||this.messageQueue.length>0)}get connectionState(){return this.isConnecting?"CONNECTING":this.isOpen?"OPEN":this.isClosing?"CLOSING":this.isClosed?"CLOSED":"NONE"}doPing(){this.ws&&(this.ws.ping(),this.pingTimeout=setTimeout(this.doPing.bind(this),qZ))}doRestart(){this.reconnectTimeout=setTimeout((async()=>{try{KZ("reconnecting ws..."),this.start(),await this.reconnectCallback()}catch(e){console.log(`Error in reconnect callback: ${e.message}`)}}),this.reconnectDelay)}onMessage(e){try{const t=JSON.parse(e.data);if(KZ("new ws msg:",t),t.error)gx.get(this.rpcQueue,t.id)?(this.rpcQueue[t.id].reject(new Error(t.error.message)),clearTimeout(this.rpcQueue[t.id].timeout),delete this.rpcQueue[t.id]):KZ("Unsupported WS message:",t.error.message);else{if(gx.get(this.rpcQueue,t.id))clearTimeout(this.rpcQueue[t.id].timeout),this.rpcQueue[t.id].resolve(t.result),delete this.rpcQueue[t.id];else if(t.method){const e={method:t.method,...gx.get(t,"params.result",t.result)};KZ("pushing msg to queue",e),this.messageQueue.push(e)}this.processMessages(t)}}catch(t){KZ(t),KZ("Cannot parse msg:",e.data)}}onOpen(e){KZ("Opened WS"),[...this.tokensAddresses,this.address].forEach((e=>{this.ws.send(JSON.stringify({jsonrpc:"2.0",method:"accountSubscribe",params:[e,{encoding:"jsonParsed"}],id:1})),this.ws.send(JSON.stringify({jsonrpc:"2.0",method:"logsSubscribe",params:[{mentions:[e]},{commitment:"finalized"}],id:2}))}))}onError(e){KZ("Error on WS:",e.data)}onClose(e){KZ("Closing WS"),clearTimeout(this.pingTimeout),clearTimeout(this.reconnectTimeout),this.shutdown||this.doRestart()}async processMessages(e){if(this.onMsg&&await this.onMsg(e),this.inProcessMessages)return null;this.inProcessMessages=!0;try{for(;this.messageQueue.length>0;){const e=this.messageQueue.splice(0,this.messageQueue.length);await this.callback(e)}}catch(e){console.log(`Solana: error processing streams: ${e.message}`)}finally{this.inProcessMessages=!1}}async close(){clearTimeout(this.reconnectTimeout),clearTimeout(this.pingTimeout),this.ws&&(this.isConnecting||this.isOpen)&&(await DZ(PO("1s")),await this.ws.close(),await this.ws.terminate())}async start(){try{if(!this.isClosed||this.shutdown)return;this.ws=this.newSocket(this.endpoint)}catch(e){console.log("Solana: error starting WS:",e),this.doRestart()}}async stop(){if(!this.shutdown)for(this.shutdown=!0,await this.close();this.running;)await DZ(PO("1s"))}}var HZ={},GZ={};Object.defineProperty(GZ,"__esModule",{value:!0}),GZ.isChangeAddress=function(e){return 1===e.pathArray[0]},GZ.isExchangeAddress=function(e){return 2===e.pathArray[0]},GZ.isReceiveAddress=function(e){return 0===e.pathArray[0]},Object.defineProperty(HZ,"__esModule",{value:!0}),HZ.default=void 0;var JZ=function(e){return e&&e.__esModule?e:{default:e}}(RK),QZ=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=XZ(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(GZ);let YZ;function XZ(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(XZ=function(e){return e?r:t})(e)}function $Z(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}YZ=Symbol.toStringTag;class eH{constructor(e,t){$Z(this,"address",void 0),$Z(this,"meta",void 0),this.address=e,this.meta=t||{}}static create(e,t){return Object.freeze(new eH(e,t))}static fromJSON(e){return"string"==typeof e&&(e=JSON.parse(e)),eH.create(e.address,e.meta||e.path)}get pathArray(){return JZ.default.fromString(this.meta.path||"m/0/0").toPathArray()}toJSON(){return{address:this.address,meta:this.meta}}toString(){return this.address}get[YZ](){return this.address}static isAddress(e){return"object"==typeof e&&(e instanceof eH||"address"in e&&"meta"in e)}}HZ.default=eH,$Z(eH,"util",QZ);var tH={};var rH=aA.omit;const nH={construct:(e,t)=>new Proxy(new e(...t),nH),set:(e,t,r)=>{const n=`Trying to set value of property (${t}) of frozen object.`;typeof I>"u"?(console.warn.bind(console)||console.error.bind(console)||console.log.bind(console))(n):I.emitWarning(n,"ProxyFreezeWarning")}};var iH=function(e){if("function"!=typeof e&&"object"!=typeof e)throw new Error("proxyFreeze only supports constructor functions or objects.");return new Proxy(e,nH)},oH={};Object.defineProperty(oH,"__esModule",{value:!0}),oH.default=void 0;var sH=uH(Jc),aH=uH(HZ);let cH;function uH(e){return e&&e.__esModule?e:{default:e}}function dH(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}cH=Symbol.iterator;class fH{constructor(){dH(this,"_data",void 0),this._data=new Map}static fromArray(e){const t=e.map((e=>{if("string"==typeof e)return aH.default.create(e);if("object"==typeof e)return aH.default.fromJSON(e);if(e instanceof aH.default)return e;throw console.dir(e),new Error("AddressSet#fromArray(): unknown type")})),r=new fH;for(const e of t)r._data.set(e.address,e);return r}add(e){(0,sH.default)(aH.default.isAddress(e),"Must be an instance of an Address.");const t=new fH;return t._data=new Map(this._data),t._data.set(e.address,e),t}delete(e){return this.remove(e)}get(e){return this._data.get(String(e))}has(e){return!!this._data.get(String(e))}remove(e){const t=this.get(e);if(!t)return this;const r=new fH;return r._data=new Map(this._data),r._data.delete(t.address),r}sort(e){let t=[...this];return t=t.sort(e),fH.fromArray(t)}toArray(){return[...this._data.values()]}toAddressStrings(){return[...this._data.keys()]}toString(){return[...this._data.keys()].join(", ")}union(e){const t=[...[...this],...[...e]];return fH.fromArray(t)}[cH](){return this._data.values()}get size(){return this._data.size}}oH.default=fH,dH(fH,"EMPTY",fH.fromArray([])),dH(fH,"PATH_SORTER",((e,t)=>{const r=e.pathArray,n=t.pathArray;return r[0]<n[0]?-1:r[0]>n[0]?1:r[0]===n[0]?r[1]<n[1]?-1:r[1]>n[1]?1:0:void 0}));var lH={};Object.defineProperty(lH,"__esModule",{value:!0}),lH.currenciesForAsset=_H,lH.ensureCurrencies=void 0,lH.normalizeTxJSON=wH,lH.normalizeTxsJSON=function({json:e,assets:t}){return e?((0,bH.default)((0,hH.default)(e),"normalizeTxsJSON: `json` array is required"),(0,bH.default)(t,"normalizeTxJSON: `assets` object is required"),e.map((e=>wH({json:e,asset:e.coinName?t[e.coinName]:void 0})))):[]},lH.unitTypeToJSON=void 0;var hH=gH(Lw),pH=gH(ZE),yH=gH(bx),mH=gH(Mk),bH=gH(Jc);function gH(e){return e&&e.__esModule?e:{default:e}}const vH=e=>(0,mH.default)(e.units,(e=>e.power));function wH({json:e,asset:t}){if((0,bH.default)(e,"normalizeTxJSON: `json` object is required"),void 0!==e.version)return e;(0,bH.default)(!e.coinAmount||e.coinName,"normalizeTxJSON: `coinName` is required with `coinAmount`"),(0,bH.default)(t,"normalizeTxJSON: `asset` object and `coinName` are required");const r={...e,version:1};return e.feeAmount&&!e.feeCoinName&&(r.feeCoinName=t.feeAsset.name),e.currencies||(r.currencies=(0,mH.default)(_H(t),vH)),{...e,...r}}lH.unitTypeToJSON=vH;function _H(e){return(0,mH.default)(function(e){return Object.fromEntries((0,yH.default)([e,e.baseAsset,e.feeAsset],(e=>e.name)).map((e=>[e.name,e])))}(e),(e=>e.currency))}lH.ensureCurrencies=(e,t)=>(0,pH.default)(e.currencies)?((0,bH.default)(t,"ensureCurrencies: expected `assets` when `json` doesn't contain `currencies`"),(0,bH.default)(e.coinName,"ensureCurrencies: expected `json.coinName`"),(0,bH.default)(t[e.coinName],`ensureCurrencies: asset not found for ${e.coinName}`),{...e,currencies:_H(t[e.coinName])}):e,Object.defineProperty(tH,"__esModule",{value:!0}),tH.default=void 0;var SH=BH(Mk),EH=BH(rH),kH=BH(nA),AH=BH(ck),xH=BH(ZE),IH=BH(GE),TH=BH(Jc),OH=BH(iH),PH=Wv,MH=BH(oH),RH=lH;function BH(e){return e&&e.__esModule?e:{default:e}}const UH=Symbol("Tx");class NH{constructor({json:e,initSymbol:t}){const{txId:r,error:n,date:i,confirmations:o,dropped:s,coinAmount:a,coinName:c,feeAmount:u,feeCoinName:d,selfSend:f,from:l,to:h,meta:p,data:y,tokens:m,token:b,addresses:g,currencies:v}=e;(0,TH.default)(t===UH,"Tx: please use Tx.fromJSON()."),(0,TH.default)(!(0,xH.default)(v),"Tx: `currencies` is required"),(0,TH.default)(!l||Array.isArray(l),"Tx: `from` has to be an array."),(0,TH.default)(!h||(0,AH.default)(h),"Tx: `to` has to be a string."),(0,TH.default)(!m||Array.isArray(m),"Tx: `tokens` has to be an array."),(0,TH.default)(!g||Array.isArray(g)||g instanceof MH.default,"Tx: unknown `addresses` type"),(0,TH.default)(!a||c,"Tx: `coinName` is required with `coinAmount`"),(0,TH.default)(!u||d,"Tx: `feeCoinName` is required with `feeAmount`"),this.currencies=(0,SH.default)(v,(e=>e instanceof PH.UnitType?e:PH.UnitType.create(e))),this.txId=r,this.error=n||null,this.date=i?new Date(i):new Date,this.confirmations="number"==typeof o?o:-1,void 0!==s&&(this.dropped=!!s&&this.confirmations<=0),a&&((0,TH.default)(this.currencies[c],`Tx: currency for ${c} missing`),this.coinAmount=jH(a,this.currencies[c]),this.coinName=c),u&&((0,TH.default)(this.currencies[d],`Tx: currency for ${d} missing`),this.feeAmount=jH(u,this.currencies[d]),this.feeCoinName=d),this.selfSend=f||!1,this.from=l||[],h&&(this.to=h),this.tokens=m||(b?[b]:[]),this.data=y||{},this.meta=p?{...p}:{},this.addresses=Array.isArray(g)?MH.default.fromArray(g):g instanceof MH.default?g:MH.default.EMPTY,this.version=1}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,r=new NH({json:t,initSymbol:UH});return(0,OH.default)(r)}clone(){return NH.fromJSON(this)}equals(e){return this===e||(0,IH.default)(this.toJSON(),e.toJSON())}toJSON(){const e={...this};return this.coinAmount&&(e.coinAmount=this.coinAmount.toDefaultString({unit:!0})),this.feeAmount&&(e.feeAmount=this.feeAmount.toDefaultString({unit:!0})),e.date=e.date.toISOString(),this.addresses&&(e.addresses=[...this.addresses].map((e=>e.toJSON())),0===e.addresses.length&&delete e.addresses),e.selfSend||delete e.selfSend,0===e.from.length&&delete e.from,0===Object.keys(e.data).length&&delete e.data,e.error||delete e.error,0===Object.keys(e.meta).length&&delete e.meta,0===e.tokens.length&&delete e.tokens,e.currencies=(0,SH.default)(this.currencies,RH.unitTypeToJSON),e}toString(){return String(this.txId)}update(e){const t=this.toJSON();return e=(0,EH.default)(e,["version"]),Object.keys(e).every((r=>(0,IH.default)(t[r],e[r])))?this:NH.fromJSON((0,kH.default)({},t,e))}get accepted(){return(this.received||this.sent&&this.confirmations>=0)&&!this.dropped}get confirmed(){return this.confirmations>0}get pending(){return this.confirmations<=0&&!this.dropped}get failed(){return this.error||this.dropped}get sent(){return!("tezos"!==this.coinName||!this.data.delegate)||!!(this.coinAmount.isNegative||this.to||this.selfSend)}get received(){return!this.sent}get token(){return this.tokens[0]||null}}function jH(e,t){return(0,TH.default)(t instanceof PH.UnitType,"Currency must be an instance of UnitType"),(0,PH.isNumberUnit)(e)?e:t.parse("string"==typeof e?e:e.value+" "+e.unit)}tH.default=NH;var CH={};var LH=uk.sortBy;Object.defineProperty(CH,"__esModule",{value:!0}),CH.default=void 0;var DH=YH(bx),FH=YH(px),WH=YH(LH),zH=YH(GE),qH=YH(FE),VH=YH(_E),KH=YH(Jc),ZH=YH(HZ),HH=YH(oH),GH=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=QH(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(Wv);let JH;function QH(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(QH=function(e){return e?r:t})(e)}function YH(e){return e&&e.__esModule?e:{default:e}}function XH(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}JH=Symbol.iterator;class $H{constructor({currency:e}={}){XH(this,JH,(function*(){const e=this.toArray();for(const t of e)yield t})),this.currency=e,this._data=null}static createEmpty(e){return $H.fromArray([],e)}static fromArray(e,{addressMap:t,...r}={}){const n=r.currency||function(e){if(Array.isArray(e))for(const t of e)if("object"==typeof t.value&&t.value.unitType)return t.value.unitType}(e);null==n&&null==e?console.warn("UtxoCollection.fromArray(): both currency and utxoArray are null."):null==n&&0===e.length&&console.warn("UtxoCollection.fromArray(): currency is null and utxoArray has zero items.");const i=(e=(0,DH.default)(e,(e=>`${e.txId}:${e.vout}`))).map((e=>((0,KH.default)(e.address,"utxo.address must be provided"),(0,KH.default)(e.address instanceof ZH.default||t,"Must pass addressMap if utxo.address is not of type Address"),e.address=e.address instanceof ZH.default?e.address:t[e.address],{...e,value:(0,GH.isNumberUnit)(e.value)?e.value:n.parse(e.value)})));var o=new $H({currency:n});return o._data=Object.freeze((0,qH.default)(i,(e=>e.address.toString()))),o}static fromJSON(e,{currency:t}){"string"==typeof e&&(e=JSON.parse(e));const r={};Object.keys(e).forEach((n=>{const i=new ZH.default(e[n].address,{path:e[n].path}),o=(0,WH.default)(e[n].utxos,(e=>t.parse(e.value).toDefaultNumber()));r[n]=o.map((e=>({...e,address:i,value:t.parse(e.value)})))}));const n=new $H({currency:t});return n._data=Object.freeze(r),n}clone(){return $H.fromArray(this.toArray(),{...this})}equals(e){return(0,zH.default)(this.toJSON(),e.toJSON())}difference(e){const t=e=>{const t={};return e.toArray().forEach((e=>{const r=`${e.txId}/${e.vout}`;t[r]=e})),t},r=t(this),n=t(e),i=[];return Object.keys(r).forEach((e=>{n[e]||i.push(r[e])})),$H.fromArray(i,{...this})}getAddressUtxos(e){return(0,KH.default)(e.toString()in this._data,`${e} is not present in this UTXO collection`),$H.fromArray(this._data[e],{...this})}getTxIdUtxos(e){var t=this.toArray().filter((t=>t.txId===e));return $H.fromArray(t,{...this})}getAddressesForTxId(e){const t=this.toArray().filter((t=>t.txId===e)).map((e=>e.address));return HH.default.fromArray(t)}getAddressPathsMap(){return[...this.addresses].reduce(((e,t)=>Object.assign(e,{[t.toString()]:t.meta.path})),{})}hasAddressUtxos(e){return String(e)in this._data}inspect(){return`<UtxoCollection size: ${this.size}, value: ${this.value.toString()}>`}isEmpty(){return null==this._data||0===Object.keys(this._data).length}merge(e){let t=this;for(const r of e.addresses)t=t.setAddressUtxos(r,e.getAddressUtxos(r));return t}removeAddressUtxos(e){const t={...this._data};delete t[e.toString()];const r=new $H({...this});return r._data=Object.freeze(t),r}select(e,t){const r=$H.createEmpty({currency:this.currency});if(e.gt(this.value))return[r,this.clone()];const n=(e,t)=>{let n=r,i=r;if(0===e.size)return[n,i];const o="BTC"===t.defaultUnit.unitName?(0,WH.default)(e.toArray(),(e=>!e.confirmations),(e=>e.value.toDefaultNumber())):(0,WH.default)(e.toArray(),(e=>e.value.toDefaultNumber())),s=[];let a=o[0].value.unitType.ZERO;for(const r of o)if(s.push(r),a=a.add(r.value),a.gte(t))return n=$H.fromArray(s,{...this}),i=e.difference(n),[n,i];return n=$H.fromArray(s,{...this}),i=e.difference(n),[n,i]};let[i,o]=n(this,e);const s=t({inputs:i}),a=e.add(s);if(a.gt(i.value)){if(!a.lte(this.value))return[r,this];{const e=t({inputs:o});if(a.add(e).gte(this.value))return[this,r];const[c,u]=n(o,s.add(e));o=u,i=i.union(c)}}return[i,o]}updateConfirmations(e){return $H.fromArray(this.toArray().map((t=>{const r=e.find((e=>e.txId===t.txId));return r&&(t.confirmations=r.confirmations),t})),{...this})}addUtxo(e,t){return $H.fromArray([...this.toArray(),e],{addressMap:t})}setAddressUtxos(e,t,{addressMap:r}={}){if(Array.isArray(t))return 0===t.length?this.removeAddressUtxos(e):$H.fromArray(t,{...this,addressMap:r});if((0,KH.default)(t instanceof $H,"utxos must be an Array or UtxoCollection"),0===t.size)return this.removeAddressUtxos(e);const n={...this._data,[e.toString()]:t.toArray()},i=new $H({...this});return i._data=Object.freeze(n),i}toArray(){return Object.values(this._data).flat()}toPriorityOrderedArray(){return(0,WH.default)(this.toArray(),(e=>!e.confirmations&&e.rbfEnabled),(e=>!e.confirmations),(e=>e.value.toDefaultNumber()))}toJSON(){const e={};return[...this.addresses].forEach((t=>{const r=t.toString(),n=(0,WH.default)(this._data[r],(e=>e.value.toDefaultNumber()));e[r]={address:r,path:t.meta.path,utxos:n.map((e=>(delete(e={...e,value:e.value.toString()}).address,e)))}})),e}union(e){const t=this.toArray(),r=e.toArray();return $H.fromArray([...t,...r],{...this})}filter(e){return $H.fromArray(this.toArray().filter(e),{...this})}unionOverwrite(e){const t=this.toArray(),r=e.toArray(),n=[...(0,VH.default)(t,r,(e=>`${e.txId}:${e.vout}`)),...r];return $H.fromArray(n,{...this})}get addresses(){if(this._addresses)return this._addresses;const e=[];return Object.entries(this._data).forEach((([t,r])=>{Array.isArray(r)&&0!==r.length&&e.push(r[0].address||ZH.default.create(t))})),0===e.length?(this._addresses=HH.default.EMPTY,this._addresses):(e.sort(HH.default.PATH_SORTER),this._addresses=HH.default.fromArray(e),this._addresses)}get empty(){return null==this._data||0===Object.keys(this._data).length}get size(){return"number"==typeof this._size||(this._size=this.toArray().length),this._size}get txIds(){return(0,FH.default)(this.toArray().map((e=>e.txId)))}get value(){return this._value||(this._value=this.toArray().reduce(((e,t)=>e.add(t.value)),this.currency.ZERO)),this._value}}CH.default=$H;var eG={},tG={};function rG(e,t){return e instanceof Date&&t instanceof Date||"number"==typeof e&&"number"==typeof t}Object.defineProperty(tG,"__esModule",{value:!0}),tG.sortByAsc=function(e){return[...e].sort(((e,t)=>{if(!rG(e.date,t.date))throw new TypeError("TxSet.util.sortByAsc() objects must be Dates or numbers");return e.date-t.date}))},tG.sortByDesc=function(e){return[...e].sort(((e,t)=>{if(!rG(e.date,t.date))throw new TypeError("TxSet.util.sortByAsc() objects must be Dates or numbers");return t.date-e.date}))},Object.defineProperty(eG,"__esModule",{value:!0}),eG.default=void 0;var nG=uG(Jc),iG=uG(tH),oG=uG(oH),sG=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=cG(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(tG);let aG;function cG(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(cG=function(e){return e?r:t})(e)}function uG(e){return e&&e.__esModule?e:{default:e}}const dG=Symbol("TxSet"),fG=({txs:e})=>new hG({txs:e,initSymbol:dG}),lG={};aG=Symbol.iterator;class hG{constructor({txs:e,initSymbol:t}){(0,nG.default)(t===dG,"please use TxSet.EMPTY or TxSet.fromArray()"),(0,nG.default)(e,"txs are required when constructing TxSet"),(0,nG.default)(e instanceof Map,"txs must be a Map");const r=[...e.values()];r.sort(pG),this._txs=new Map(r.map((e=>[e.txId,e]))),this._order=r.map((e=>e.txId)),this.addresses=oG.default.fromArray(r.flatMap((e=>[...e.addresses])))}static fromArray(e=[]){if(!Array.isArray(e))return console.warn("Unexpected non-array value:",e),hG.EMPTY;e=e.map((e=>e instanceof iG.default?e:iG.default.fromJSON(e)));const t=new Map(e.map((e=>[e.txId,e])));return fG({txs:t})}add(e){const t=this.get(e.txId);if(t&&pG(t,e)>0)return this;const r=new Map(this._txs);return r.set(e.txId,e),fG({txs:r})}clone(){return fG({txs:new Map(this._txs)})}delete(e){const t=this.get(e);if(!t)return this;const r=new Map(this._txs);return r.delete(t.txId),fG({txs:r})}equals(e){return this._order.length===e._order.length&&this._order.every(((t,r)=>t===e._order[r]))}deepEquals(e){return this===e||this.size===e.size&&[...this].every((t=>{const r=e.get(t);if(r)return t===r||t.equals(r)}))}get(e){return this._txs.get(String(e))}getAt(e){return this.get(this._order[e])}has(e){return this._txs.has(String(e))}toJSON(){return[...this].map((e=>e.toJSON()))}union(e){const t=[...[...this],...[...e]],r=hG.fromArray(t);return this.deepEquals(r)?this:r}update(e){if(e instanceof hG&&e.deepEquals(this))return this;const t=new Map([...e].map((e=>{const t=this.get(e.txId),r={...t,...e};t&&(Math.sign(r.coinAmount.toNumber())===Math.sign(t.coinAmount.toNumber())&&!r.feeAmount&&(r.coinAmount=t.coinAmount),t.meta&&(r.meta={...t.meta}));const n=iG.default.fromJSON(r);return[n.txId,n]})));return fG({txs:t})}updateTxsProperties(e){const t=new Map(this._txs);let r=!1;for(const n of e){const e=t.get(n.txId);if(e){const i=e.update(n);e.equals(i)||(t.set(n.txId,i),r=!0)}}return r?fG({txs:t}):this}getMutations(){if(this._mutations)return this._mutations;let e;return this._mutations=[...this].map((t=>{try{return void 0===e&&(e=t.coinAmount.unitType.ZERO),t.dropped||t.data.replacedBy||(t.error||(e=e.add(t.coinAmount)),t.feeAmount&&t.feeAmount.unitType.equals(t.coinAmount.unitType)&&(e=e.sub(t.feeAmount))),e.isNegative&&!lG[t.txId]&&(console.warn("negative balance in mutations calculation",{tx:t,balance:e}),lG[t.txId]=t.txId),{tx:t,balance:e}}catch(e){throw t&&(console.warn("failed to calculate mutation for tx",t.toJSON()),Object.assign(e,{asset:t.coinName,extraInfo:JSON.stringify(t.toJSON())})),e}})),this._mutations}[aG](){return this._txs.values()}get size(){return this._txs.size}}function pG(e,t){let r=e.date-t.date;return 0===r&&(r=e.txId.localeCompare(t.txId)),r}eG.default=hG,function(e,t,r){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(hG,"util",sG),hG.EMPTY=fG({txs:new Map});var yG={},mG={};Object.defineProperty(mG,"__esModule",{value:!0}),mG.default=void 0;var bG=wG(ax),gG=wG(GE),vG=wG(Jc);function wG(e){return e&&e.__esModule?e:{default:e}}class _G{constructor(e={}){(0,vG.default)("string"==typeof e.txId,`expected "txId", received: ${e.txId}`),Object.assign(this,e),this.txId=e.txId,this.message=e.message||""}static fromJSON(e){return"string"==typeof e&&(e=JSON.parse(e)),new _G(e)}toJSON(){const e={...this};if(this.sends){e.sends={};for(const[t,r]of Object.entries(this.sends))e.sends[t]={...r}}return e}toString(){return String(this.txId)}equals(e){return!!e&&(this===e||(0,gG.default)(this.toJSON(),e.toJSON()))}update(e){if((e=SG(e)).txId&&e.txId!==this.txId)throw new Error('"txId" cannot be changed once it is set');const t=this.toJSON();return Object.keys(e).every((r=>(0,gG.default)(t[r],e[r])))?this:_G.fromJSON({...t,...e})}getMessage({to:e}={}){if(e&&this.sends){const t=Object.entries(this.sends);for(const[r,{message:n}]of t)if(r.toLowerCase()===e.toLowerCase()&&n)return n}return this.message||""}setMessage({to:e,message:t}){if((0,vG.default)("string"==typeof t,'expected string "message"'),!e)return this.update({message:t});const r=this.toJSON();EG({personalNote:r,to:e});const n=(0,bG.default)(r,["sends",e,"message"],t);return this.update(n)}}mG.default=_G;const SG=e=>e instanceof _G?e.toJSON():e,EG=({personalNote:e,to:t})=>{delete e.message,e.sends&&Object.keys(e.sends||{}).forEach((r=>{const n=r.toLowerCase();r!==n&&n===t&&(0,bG.default)(e,["sends",r,"message"],null)}))};Object.defineProperty(yG,"__esModule",{value:!0}),yG.default=void 0;var kG=function(e){return e&&e.__esModule?e:{default:e}}(mG);class AG{constructor(e){if(this._items=new Map,e)for(const t of e){const e=xG(t);this._items.set(String(e),e)}}static fromArray(e){return null==e?AG.EMPTY:new AG(e)}add(e){if(0===(e=IG(e)).length)return this;const t=AG.fromArray(e),r=new Set,n=[];if([...t].forEach((e=>{const t=this.get(e);t?t.equals(e)||(n.push(e),r.add(t)):n.push(e)})),0===n.length)return this;const i=[...[...this].filter((e=>!r.has(e))),...n];return AG.fromArray(i)}clone(){return AG.fromArray([...this])}equals(e){return this===e||this.size===e.size&&[...this].every((t=>{const r=e.get(t);return r&&r.equals(t)}))}get(e){const t="string"==typeof e?e:e.txId;if(!t)throw new Error("expected txId or Object/PersonalNote with property txId");return this._items.get(t)}has(e){return this._items.has(String(e))}toJSON(){return[...this].map((e=>e.toJSON()))}update(e){const t=e.map((e=>{const t=this.get(e);return t?t.update(e):xG(e)}));return this.add(t)}[Symbol.iterator](){return this._items.values()}get size(){return this._items.size}}AG.EMPTY=new AG;const xG=e=>e instanceof kG.default?e:kG.default.fromJSON(e),IG=e=>Array.isArray(e)?e:[e].flat();var TG=AG;yG.default=TG;var OG={},PG={};Object.defineProperty(PG,"__esModule",{value:!0}),PG.getDefaultLabel=PG.default=PG.TREZOR_SRC=PG.SOFTWARE_SEED_SOURCES=PG.SEED_SRC=PG.LEDGER_SRC=PG.LABEL_MAX_LENGTH=PG.HARDWARE_SOURCES=PG.FTX_SRC=PG.EXODUS_SRC=PG.DEFAULT_ICONS=PG.DEFAULT_COLORS=PG.CUSTODIAL_SOURCES=void 0;var MG=NG(nA),RG=NG(JE),BG=NG(GE),UG=NG(iH);function NG(e){return e&&e.__esModule?e:{default:e}}function jG(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const CG="exodus";PG.EXODUS_SRC=CG;const LG="seed";PG.SEED_SRC=LG;const DG="trezor";PG.TREZOR_SRC=DG;const FG="ledger";PG.LEDGER_SRC=FG;const WG="ftx";PG.FTX_SRC=WG;const zG=[WG];PG.CUSTODIAL_SOURCES=zG;const qG=[DG,FG];PG.HARDWARE_SOURCES=qG;const VG=[CG,LG];PG.SOFTWARE_SEED_SOURCES=VG;const KG=Object.freeze({exodus:"#ff3974",seed:"#ff3974",trezor:"#7b39ff",ledger:"#f5e400",ftx:"#00b4c2"});PG.DEFAULT_COLORS=KG;const ZG=Object.freeze({exodus:"exodus",seed:"exodus",trezor:"trezor",ledger:"trezor",ftx:"ftx"});PG.DEFAULT_ICONS=ZG;const HG=100;PG.LABEL_MAX_LENGTH=HG;const GG=({source:e,index:t})=>0===t?(e=>e[0].toUpperCase()+e.slice(1))(e):"";PG.getDefaultLabel=GG;const JG=["id","source","index"];class QG{constructor({source:e,index:t,id:r,label:n,model:i,lastConnected:o,is2FA:s,color:a,icon:c,enabled:u=!0}){jG(this,"source",void 0),jG(this,"index",void 0),jG(this,"id",void 0),jG(this,"label",void 0),jG(this,"model",void 0),jG(this,"lastConnected",void 0),jG(this,"is2FA",void 0),jG(this,"color",void 0),jG(this,"icon",void 0),jG(this,"enabled",void 0);const d=zG.includes(e);if(!e)throw new Error('expected "source" for a wallet account');if(null==t&&!d)throw new Error('expected "index" for a wallet account');if(e===CG&&r)throw new Error('unexpected option "id" for an exodus wallet account');if(!r&&e!==CG)throw new Error('expected option "id" for a non-exodus wallet account');if(e===CG&&o)throw new Error('unexpected option "lastConnected" for a software wallet account');if(e===CG&&i)throw new Error('unexpected option "model" for a software wallet account');if(e!==CG&&s)throw new Error("is2FA: true is only valid for an exodus walletAccount");if(a=a||KG[e],c=c||ZG[e],(n=n||GG({source:e,index:t})).length>HG&&(n=n.slice(0,HG)),!(e=>"string"==typeof e&&/^#[\dA-Fa-f]{3,6}$/.test(e))(a))throw new Error('expected "color" to be a hex string');if("string"!=typeof c||0===c.length)throw new Error('expected "icon" to be a non-empty string');return this.source=e,this.index=(0,RG.default)(t)?null:t,this.id=r,this.label=n||"",this.model=i,this.lastConnected=o,this.is2FA=s,this.color=a,this.icon=c,this.enabled=u,(0,UG.default)(this)}toString(){return[this.source,this.index,this.id].filter((e=>null!=e)).join("_")}toJSON(){const e={source:this.source,index:this.index,label:this.label,model:this.model,lastConnected:this.lastConnected,is2FA:this.is2FA,color:this.color,icon:this.icon,enabled:this.enabled};return null!=this.id&&(e.id=this.id),e}equals(e){return this===e||(0,BG.default)(this.toJSON(),e.toJSON())}update(e){e instanceof QG&&(e=e.toJSON());const t=this.toJSON();return Object.keys(e).every((r=>(0,BG.default)(t[r],e[r])))?this:(JG.forEach((t=>{if(e[t]&&e[t]!==this[t])throw new Error(`property "${t}" is immutable`)})),new QG((0,MG.default)({},t,e)))}get isSoftware(){return VG.includes(this.source)}get isHardware(){return qG.includes(this.source)}get isCustodial(){return zG.includes(this.source)}static get DEFAULT_NAME(){return QG.DEFAULT.toString()}static get DEFAULT(){return new QG({source:CG,index:0})}}PG.default=QG,jG(QG,"LABEL_MAX_LENGTH",HG),jG(QG,"DEFAULT_COLORS",KG),jG(QG,"DEFAULT_ICONS",ZG),jG(QG,"EXODUS_SRC",CG),jG(QG,"TREZOR_SRC",DG),jG(QG,"LEDGER_SRC",FG),jG(QG,"FTX_SRC",WG),Object.defineProperty(OG,"__esModule",{value:!0}),OG.default=void 0;var YG=eJ(sA),XG=eJ(Mk),$G=eJ(PG);function eJ(e){return e&&e.__esModule?e:{default:e}}const tJ=e=>e instanceof $G.default?e:new $G.default(e);class rJ{constructor(e={}){this._byName=(0,XG.default)(e,tJ)}toJSON(){return(0,XG.default)(this._byName,(e=>e.toJSON()))}get(e){if(e instanceof $G.default&&(e=e.toString()),this._byName.hasOwnProperty(e))return this._byName[e]}names(){return Object.keys(this._byName)}update(e){e instanceof rJ&&(e=e.toJSON());const t=(0,YG.default)({...this._byName},e,((e,t)=>e?e.update(t):tJ(t)));return new rJ(t)}equals(e){if(this===e)return!0;const t=Object.keys(e.toJSON()).sort(),r=this.names().sort();return t.length===r.length&&r.every((t=>{const r=this.get(t),n=e.get(t);return n&&r.equals(n)}))}}rJ.EMPTY=new rJ;var nJ=rJ;OG.default=nJ;var iJ={};var oJ=QE.isPlainObject,sJ={};var aJ=GA.pick,cJ={};const uJ=Object.freeze(Object.defineProperty({__proto__:null,default:function(e=[]){const t=[...e,{type:"date",test:e=>e instanceof Date,serialize:e=>e.toJSON(),deserialize:e=>new Date(e)},{type:"buffer",test:e=>e instanceof Hn,serialize:e=>e.toString("base64"),deserialize:e=>Hn.from(e,"base64")},{type:"uint8array",test:e=>e instanceof Uint8Array,serialize:e=>Hn.from(e).toString("base64"),deserialize:e=>{const t=Hn.from(e,"base64"),r=new Uint8Array(t.length);return r.set(t),r}},{type:"array",test:Vv.isArray,serialize:e=>e.map((e=>n(e))),deserialize:e=>e.map((e=>i(e)))},{type:"object",test:Vv.isObject,serialize:e=>Vv.mapValues(e,(e=>n(e))),deserialize:e=>Vv.mapValues(e,(e=>i(e)))}],r=new Set(t.map((e=>e.type))),n=e=>{const r=t.find((t=>t.test(e)));return r?{t:r.type,v:r.serialize(e)}:e},i=e=>Vv.isObject(e)&&2===Object.keys(e).length&&"v"in e&&r.has(e.t)?t.find((t=>t.type===e.t)).deserialize(e.v):e;return{serialize:n,deserialize:i}}},Symbol.toStringTag,{value:"Module"})),dJ=ur(uJ);Object.defineProperty(cJ,"__esModule",{value:!0}),cJ.serialize=cJ.deserialize=void 0;var fJ=mJ(Mk),lJ=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=yJ(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(Wv),hJ=mJ(CH),pJ=mJ(dJ);function yJ(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(yJ=function(e){return e?r:t})(e)}function mJ(e){return e&&e.__esModule?e:{default:e}}const bJ=e=>(0,fJ.default)(e.units,(e=>e.power)),gJ=[{type:"numberunit",test:e=>e instanceof lJ.default,serialize:e=>({v:e.toString(),u:bJ(e.unitType)}),deserialize:e=>lJ.UnitType.create(e.u).parse(e.v)},{type:"utxocollection",test:e=>e instanceof hJ.default,serialize:e=>({v:e.toJSON(),u:bJ(e.currency)}),deserialize:e=>hJ.default.fromJSON(e.v,{currency:lJ.UnitType.create(e.u)})}],{serialize:vJ,deserialize:wJ}=(0,pJ.default)(gJ);cJ.deserialize=wJ,cJ.serialize=vJ,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={};e.default=void 0;var r=a(ck),n=a(Mk),i=a(aJ),o=a(GE),s=cJ;function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.keys(s).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||r in e&&e[r]===s[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return s[r]}})}));class u{static _getAllFieldNames(){return this._allFieldNames||(this._allFieldNames=Object.keys(this.defaults),this._allFieldNames.push("_version")),this._allFieldNames}static _getFieldNames(){const e=this._getAllFieldNames();return this._fieldNames||(this._fieldNames=e.filter((e=>"mem"!==e))),this._fieldNames}static serialize(e,{includeMem:t=!1}={}){const r=t?this._getAllFieldNames():this._getFieldNames();return(0,s.serialize)((0,i.default)(e,r))}static deserialize(e){return new this(e&&e.v&&1===e.v._version?(0,s.deserialize)(e):this._legacyParse(e))}static fromJSON(e){return this.deserialize(e)}static create(e){return new this(e)}constructor(e={}){const{defaults:t}=this.constructor;if(this.constructor===u)throw new Error("Instantiating the base AccountState class is forbidden, please instantiate a subclass instance");const r={...t,...(0,i.default)(e,this.constructor._getAllFieldNames())};Object.assign(this,r,{_version:1})}static _legacyParse(e){return this._postParse((0,n.default)(e,((e,t)=>{if(this._dateKeys.includes(t)&&e)return new Date(e);const n=(0,r.default)(e)&&this._tokens.find((t=>function(e){const t=Object.keys(e.currency.units);return new RegExp(` (${t.join("|")})$`)}(t).test(e)));return n?n.currency.parse(e):e})))}static _postParse(e){return e}toJSON(e){return this.constructor.serialize(this,e)}equals(e,t={includeMem:!0}){return this===e||(0,o.default)(this.toJSON(t),e.toJSON(t))}merge(e){return this.constructor.create({...this,...e})}contains(e){return this.equals(this.merge(e))}}e.default=u,c(u,"defaults",{}),c(u,"_allFieldNames",null),c(u,"_fieldNames",null),c(u,"_version",0),c(u,"_tokens",[]),c(u,"_dateKeys",[])}(sJ),Object.defineProperty(iJ,"__esModule",{value:!0}),iJ.default=void 0;var _J=TJ(ck),SJ=TJ(oJ),EJ=TJ(xS),kJ=TJ(Jc),AJ=Wv,xJ=sJ,IJ=TJ(PG);function TJ(e){return e&&e.__esModule?e:{default:e}}const OJ={aero:["failed","overdue","expired"],ch:["failed","overdue","expired"],chf:["failed","overdue","expired"],cic:["failed","overdue","expired"],cn:["failed","expired"],"inch-eth":["failed"],"inch-bsc":["failed"],"inch-matic":["failed"],cs:["failed","timeout"],csus:["failed","timeout"],sw:["failed","expired"],fa:["cancelled"],he:["failed","overdue","hold","expired"],fox:["failed","timeout","unknown"],ne:["canceled"],nrnb:["overdue","error"]},PJ={aero:["refunded"],ch:["refunded"],chf:["refunded"],cic:["refunded"],cn:["refunded"],cs:["refunded"],csus:["refunded"],sw:["refunded"],fa:["refunded"],he:["refunded"],fox:["cancelled"],ne:["refunded"],nrnb:["refunded"]},MJ=new Set(["optimistic-complete","potential-complete"]),RJ=Symbol("Order");class BJ{constructor(e,t){if((0,kJ.default)(t===RJ,"please use Order.fromJSON()"),this.orderId=e.orderId,(0,kJ.default)("string"==typeof this.orderId,`orderId must be a string, received: ${this.orderId}`),void 0!==e.fromAmount&&!(0,AJ.isNumberUnit)(e.fromAmount))throw new Error("fromAmount must be of type: NumberUnit");if(void 0!==e.toAmount&&!(0,AJ.isNumberUnit)(e.toAmount))throw new Error("toAmount must be of type: NumberUnit");this.status=e.status||"",e.errorDetails&&(this.errorDetails=e.errorDetails),this.date=e.date?e.date instanceof Date?e.date:new Date(e.date):new Date,e.fromTxId&&(this.fromTxId=e.fromTxId),e.toTxId&&(this.toTxId=e.toTxId),e.txIds&&(this.txIds=e.txIds),e.fromAsset&&(this.fromAsset=String(e.fromAsset)),e.fromAmount&&(this.fromAmount=e.fromAmount),e.toAsset&&(this.toAsset=String(e.toAsset)),e.toAmount&&(this.toAmount=e.toAmount),this.fromWalletAccount=e.fromWalletAccount||IJ.default.DEFAULT_NAME,this.toWalletAccount=e.toWalletAccount||IJ.default.DEFAULT_NAME,e.svc||console.log(`${e.orderId} has no 'svc' field set.`),this.svc=e.svc||"ss",e.svcOptions&&(this.svcOptions=e.svcOptions),void 0!==e.message&&"null"!==e.message&&(this.message=e.message),"boolean"==typeof e.synced&&(this.synced=e.synced),"string"==typeof e.region&&(this.region=e.region),"string"==typeof e.displaySvc&&(this.displaySvc=e.displaySvc),this.toTxId=e.toTxId,this.potentialToTxIds=e.potentialToTxIds||[],this._version=1}static fromJSON(e){(0,kJ.default)(e&&((0,_J.default)(e)||(0,SJ.default)(e)),"fromJSON: requires a string or a plain object"),"string"==typeof e&&(e=JSON.parse(e));const t=e.fromAmount?(0,xJ.deserialize)(e.fromAmount):void 0,r=e.toAmount?(0,xJ.deserialize)(e.toAmount):void 0;return new BJ({...e,fromAmount:t,toAmount:r},RJ)}inspect(){return`[Order ${this.orderId}]`}toJSON(){const e={...this,date:this.date.toISOString()};return e.fromAmount&&(e.fromAmount=(0,xJ.serialize)(e.fromAmount)),e.toAmount&&(e.toAmount=(0,xJ.serialize)(e.toAmount)),e._version=1,e}toJSONLegacy(){console.log("Order: calling deprecated function order.toJSONLegacy(), use orderToJSONLegacy() instead");const e={...this,date:this.date.toISOString()};return e.fromAmount&&(e.fromAmount=e.fromAmount.toString()),e.toAmount&&(e.toAmount=e.toAmount.toString()),delete e._version,e}toString(){return String(this.orderId)}update(e){return BJ.fromJSON({...this.toJSON(),...e})}get exodusStatus(){return"e2e-syncing"===this.status?"syncing":"complete-verified"===this.status?"complete":"failed-final"===this.status||(0,EJ.default)(PJ,this.svc,[]).includes(this.status)?"failed":"in-progress"}get error(){return!(!(0,EJ.default)(OJ,this.svc,[]).includes(this.status)&&!(0,EJ.default)(PJ,this.svc,[]).includes(this.status))||"failed-final"===this.status}get finalized(){return["failed-final","complete-verified"].includes(this.status)}get floatingRate(){return"ch"===this.svc&&"complete-verified"!==this.status}get hasOptimisticStatus(){return MJ.has(this.status)}get exchangeApp(){return"ftx"===this.svc?"ftx":"exodus"}}iJ.default=BJ;var UJ={};Object.defineProperty(UJ,"__esModule",{value:!0}),UJ.default=void 0;var NJ=CJ(iJ),jJ=CJ(Jc);function CJ(e){return e&&e.__esModule?e:{default:e}}const LJ=Symbol("OrderSet"),DJ=({items:e})=>new FJ({items:e,initSymbol:LJ});class FJ{constructor({items:e,initSymbol:t}){(0,jJ.default)(t===LJ,"please use OrderSet.EMPTY or OrderSet.fromArray()"),(0,jJ.default)(e instanceof Map,"items must be a Map");const r=[...e.values()];r.sort(((e,t)=>t.date-e.date));const n=new Map;for(const e of r)e.txIds&&e.txIds.forEach((({txId:t})=>{zJ(n,t,e.orderId)})),zJ(n,e.fromTxId,e.orderId),zJ(n,e.toTxId,e.orderId);this._items=new Map(r.map((e=>[String(e),e]))),this._txMap=n,this._sortOrder=r.map((e=>e.orderId))}static fromArray(e){return null==e?FJ.EMPTY:DJ({items:new Map(e.map(WJ).map((e=>[String(e),e])))})}add(e){return this.addBulk([e])}addBulk(e){if(!e)return this;for(const t of e)this.get(t)&&console.log("OrderSet#add() already has #{item.orderId}");return DJ({items:new Map([...this._items.values(),...e].map((e=>[String(e),e])))})}clone(){return DJ({items:new Map(this._items)})}delete(e){const t=this.get(e);if(!t)return this;const r=new Map(this._items);return r.delete(t.orderId),DJ({items:r})}equals(e){if(this._sortOrder.length!==e._sortOrder.length)return!1;const t=this._sortOrder.length;for(let r=0;r<t;++r)if(this._sortOrder[r]!==e._sortOrder[r])return!1;return!0}get(e){return this._items.get(String(e))}getAt(e){return this.get(this._sortOrder[e])}getByTxId(e,t=0){const r=this._txMap.get(e)||[];return this._items.get(r[t])}getAllByTxId(e){return(this._txMap.get(e)||[]).map((e=>this._items.get(e)))}has(e){return this._items.has(String(e))}toJSON(){return[...this].map((e=>e.toJSON()))}toJSONLegacy(){return console.log("OrderSet: calling deprecated function orderSet.toJSONLegacy(), use orderSetToJSONLegacy() instead"),[...this].map((e=>e.toJSONLegacy()))}union(e){const t=[...[...this],...[...e]];return FJ.fromArray(t)}update(e){const t=new Map(this._items);for(const r of e){const e=t.get(String(r));e?t.set(String(r),e.update(r)):console.log("OrderSet#update() order does not contain an `orderId`. Skipping...")}return DJ({items:t})}[Symbol.iterator](){return this._items.values()}get size(){return this._items.size}}function WJ(e){return e instanceof NJ.default?e:NJ.default.fromJSON(e)}function zJ(e,t,r){if(t){const n=e.get(t)||[];if(n.includes(r))return;e.set(t,[...n,r])}}UJ.default=FJ,FJ.EMPTY=DJ({items:new Map});var qJ={},VJ={};Object.defineProperty(VJ,"__esModule",{value:!0}),VJ.STATUS_MAP=VJ.STALE_STATUS=VJ.SARDINE_ORDER_STATUS=VJ.RAMP_ORDER_STATUS=VJ.PROVIDERS=VJ.PAYPAL_ORDER_STATUS=VJ.ORDER_TYPES=VJ.ORDER_STATUS_TO_SARDINE_STATUS=VJ.ORDER_STATUS_TO_RAMP_STATUS=VJ.ORDER_STATUS_TO_PAYPAL_STATUS=VJ.ORDER_STATUS_TO_MOONPAY_STATUS=VJ.ORDER_STATUS=VJ.MOONPAY_ORDER_STATUS=VJ.COMPLETE_STATUS=void 0;VJ.ORDER_TYPES={__proto__:null,buy:"buy",sell:"sell"};const KJ={__proto__:null,complete:"complete",failed:"failed",in_progress:"in-progress"};VJ.ORDER_STATUS=KJ;const ZJ={__proto__:null,moonpay:"moonpay",paypal:"paypal",ramp:"ramp",sardine:"sardine"};VJ.PROVIDERS=ZJ;const HJ={__proto__:null,completed:"completed",failed:"failed",pending:"pending",waiting_authorization:"waitingAuthorization",waiting_deposit:"waitingForDeposit",waiting_payment:"waitingPayment"};VJ.MOONPAY_ORDER_STATUS=HJ;const GJ={__proto__:null,[KJ.complete]:[HJ.completed],[KJ.failed]:[HJ.failed],[KJ.in_progress]:[HJ.waiting_payment,HJ.pending,HJ.waiting_authorization,HJ.waiting_deposit]};VJ.ORDER_STATUS_TO_MOONPAY_STATUS=GJ;const JJ={__proto__:null,completed:"COMPLETED",failed:"FAILED",initiated:"INITIATED",pending:"PENDING"};VJ.PAYPAL_ORDER_STATUS=JJ;const QJ={__proto__:null,[KJ.complete]:[JJ.completed],[KJ.failed]:[JJ.failed],[KJ.in_progress]:[JJ.initiated,JJ.pending]};VJ.ORDER_STATUS_TO_PAYPAL_STATUS=QJ;const YJ={__proto__:null,cancelled:"CANCELLED",expired:"EXPIRED",fiat_received:"FIAT_RECEIVED",fiat_sent:"FIAT_SENT",initialized:"INITIALIZED",payment_executed:"PAYMENT_EXECUTED",payment_failed:"PAYMENT_FAILED",payment_in_progress:"PAYMENT_IN_PROGRESS",payment_started:"PAYMENT_STARTED",released:"RELEASED",releasing:"RELEASING",review_rejected:"REVIEW_REJECTED"};VJ.RAMP_ORDER_STATUS=YJ;const XJ={__proto__:null,[KJ.complete]:[YJ.released],[KJ.failed]:[YJ.cancelled,YJ.expired,YJ.payment_failed,YJ.review_rejected],[KJ.in_progress]:[YJ.fiat_received,YJ.fiat_sent,YJ.initialized,YJ.payment_executed,YJ.payment_in_progress,YJ.payment_started,YJ.releasing]};VJ.ORDER_STATUS_TO_RAMP_STATUS=XJ;const $J={__proto__:null,complete:"Complete",declined:"Declined",draft:"Draft",expired:"Expired",processed:"Processed",user_custody:"UserCustody"};VJ.SARDINE_ORDER_STATUS=$J;const eQ={__proto__:null,[KJ.complete]:[$J.complete],[KJ.failed]:[$J.declined,$J.expired],[KJ.in_progress]:[$J.draft,$J.user_custody,$J.processed]};VJ.ORDER_STATUS_TO_SARDINE_STATUS=eQ;const tQ={__proto__:null,[ZJ.ramp]:YJ.expired,[ZJ.paypal]:JJ.failed,[ZJ.moonpay]:HJ.failed,[ZJ.sardine]:$J.expired};VJ.STALE_STATUS=tQ;const rQ={__proto__:null,[ZJ.ramp]:YJ.released,[ZJ.paypal]:JJ.completed,[ZJ.moonpay]:HJ.completed,[ZJ.sardine]:$J.complete};VJ.COMPLETE_STATUS=rQ;const nQ={__proto__:null,[ZJ.moonpay]:GJ,[ZJ.paypal]:QJ,[ZJ.ramp]:XJ,[ZJ.sardine]:eQ};VJ.STATUS_MAP=nQ;var iQ={};Object.defineProperty(iQ,"__esModule",{value:!0}),iQ.isOrderAmountLegacyNumber=iQ.isOrderAmountLegacyDefaultUnitString=void 0;iQ.isOrderAmountLegacyNumber=e=>"number"==typeof e||"string"==typeof e&&!isNaN(Number(e));iQ.isOrderAmountLegacyDefaultUnitString=(e,t)=>"string"==typeof e&&/^(\d+\.?\d*)\s+(\w+)$/.test(e),Object.defineProperty(qJ,"__esModule",{value:!0}),qJ.fusionOrderToOrderAdapter=qJ.default=qJ.adapter=void 0;var oQ=lQ(GE),sQ=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=fQ(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(Wv),aQ=lQ(Jc),cQ=VJ,uQ=sJ,dQ=iQ;function fQ(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(fQ=function(e){return e?r:t})(e)}function lQ(e){return e&&e.__esModule?e:{default:e}}function hQ(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function pQ(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}qJ.fusionOrderToOrderAdapter=(e,t)=>{if(!t)throw new Error("assets is required");const r={...e},n=e.orderType===cQ.ORDER_TYPES.buy,i=n?e.toAsset:e.fromAsset,o=n?e.toAmount:e.fromAmount,s=t[i].currency,a=!o||(0,dQ.isOrderAmountLegacyNumber)(o)?(0,uQ.serialize)(s.defaultUnit(o??0)):(0,dQ.isOrderAmountLegacyDefaultUnitString)(o)?(0,uQ.serialize)(s.parse(o)):o;return r.fromAmount=n?e.fromAmount:a,r.toAmount=n?a:e.toAmount,r};qJ.adapter=({createdAt:e,fee:t=0,from:r,id:n,networkFee:i=0,provider:o,providerId:s,rate:a,status:c,to:u,totalFee:d=0,txId:f,type:l,walletAccount:h,walletAddress:p},y)=>{if(!y)throw new Error("assets is required");const m=l===cQ.ORDER_TYPES.buy,b=m?r:u,g=m?u:r,v=y[g.asset],w=(0,uQ.serialize)(v.currency.defaultUnit((null==g?void 0:g.amount)||0));return{date:e,exodusRate:a,fees:{networkFee:i,providerFee:t,processingFee:0,totalFee:d},fiatValue:b.amount,fromAddress:m?null:p,fromAmount:m?b.amount:w,fromAsset:r.asset,fromWalletAccount:m?null:h,orderId:n,orderType:l,provider:o,providerOrderId:s,providerRate:a,status:c,toAddress:m?p:null,toAmount:m?w:b.amount,toAsset:u.asset,toWalletAccount:m?h:null,txId:f}};const yQ=Symbol("FiatOrder");var mQ=new WeakSet;class bQ{constructor(e,t){hQ(this,mQ),bQ.validate(e,t),Object.assign(this,e),"complete"===this.exodusStatus&&this.errorMessage&&(console.log("ignoring error given error complete"),delete this.errorMessage)}get exodusStatus(){const e=cQ.STATUS_MAP[this.provider],t=Object.entries(e).find((([,e])=>e.includes(this.status)));return t?t[0]:"in-progress"}get error(){return!!this.errorMessage}get isBuy(){return"buy"===this.orderType}get isSell(){return"sell"===this.orderType}get cryptoAmount(){return this.isBuy?this.toAmount:this.fromAmount}get cryptoAsset(){return this.isBuy?this.toAsset:this.fromAsset}get txIds(){return this.txId?[this.txId]:[]}static fromJSON(e){const t=e.orderType===cQ.ORDER_TYPES.buy;return new bQ({...e,date:e.date instanceof Date?e.date:new Date(e.date),...t?{toAmount:(0,uQ.deserialize)(e.toAmount)}:{fromAmount:(0,uQ.deserialize)(e.fromAmount)}},yQ)}equals(e){const t=new Set(Object.keys(e)),r=new Set(Object.keys(this.toJSON()));return!(r.size!==t.size||![...r].every((e=>t.has(e))))&&pQ(this,mQ,gQ).call(this,e)}inspect(){return`[${this.constructor.name} ${this.orderId}]`}toJSON(){return{...this,date:this.date.toISOString(),...this.isBuy?{toAmount:(0,uQ.serialize)(this.toAmount)}:{fromAmount:(0,uQ.serialize)(this.fromAmount)}}}toString(){return this.orderId}update(e){return pQ(this,mQ,gQ).call(this,e)?this:bQ.fromJSON({...this.toJSON(),...e})}}function gQ(e){return Object.keys(e).every((t=>{const r=e[t];return r instanceof Date?this[t].toISOString()===r.toISOString():(0,sQ.isNumberUnit)(r)?null===(n=this[t])||void 0===n?void 0:n.equals(r):(0,oQ.default)(this[t],e[t]);var n}))}qJ.default=bQ,function(e,t,r){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(bQ,"validate",((e,t)=>{(0,aQ.default)(t===yQ,"please use Order.fromJSON()"),(0,aQ.default)("string"==typeof e.orderId,'expected string "orderId"'),(0,aQ.default)(["buy","sell"].includes(e.orderType),'expected "orderType" of value "buy" | "sell"'),(0,aQ.default)("string"==typeof e.provider&&cQ.STATUS_MAP[e.provider],"invalid provider"),(0,aQ.default)("string"==typeof e.status,'expected string "status"'),(0,aQ.default)("string"==typeof e.fromAddress||null===e.fromAddress,'expected string or null "fromAddress"'),(0,aQ.default)("string"==typeof e.fromWalletAccount||null===e.fromWalletAccount,'expected string or null "fromWalletAccount"'),(0,aQ.default)("number"==typeof e.fromAmount||e.fromAmount instanceof sQ.default,'expected number or NumberUnit "fromAmount"'),(0,aQ.default)("string"==typeof e.fromAsset,'expected string "fromAsset"'),(0,aQ.default)("string"==typeof e.toAddress||null===e.toAddress,'expected string or null "toAddress"'),(0,aQ.default)("string"==typeof e.toWalletAccount||null===e.toWalletAccount,'expected string or null "toWalletAccount"'),(0,aQ.default)("number"==typeof e.toAmount||e.toAmount instanceof sQ.default,'expected number or NumberUnit "toAmount"'),(0,aQ.default)("string"==typeof e.toAsset,'expected string "toAsset"'),(0,aQ.default)("number"==typeof e.fiatValue,'expected number "fiatValue"'),(0,aQ.default)("number"==typeof e.providerRate,'expected number "providerRate"'),(0,aQ.default)("number"==typeof e.exodusRate,'expected number "exodusRate"'),void 0!==e.feesWereSubsidized&&(0,aQ.default)("boolean"==typeof e.feesWereSubsidized,'expected boolean "feesWereSubsidized"'),e.errorMessage&&(0,aQ.default)("string"==typeof e.errorMessage,'expected string "errorMessage"'),e.fees&&(0,aQ.default)("object"==typeof e.fees,'expected object "fees"'),void 0!==e.hideInHistory&&(0,aQ.default)("boolean"==typeof e.hideInHistory,'expected boolean "hideInHistory"'),null!=e.supportMessage&&(0,aQ.default)("string"==typeof e.supportMessage,'expected string "supportMessage"'),void 0!==e.showedFailureBanner&&(0,aQ.default)("boolean"==typeof e.showedFailureBanner,'expected boolean "showedFailureBanner"')}));var vQ={};Object.defineProperty(vQ,"__esModule",{value:!0}),vQ.default=void 0;var wQ=EQ(Jc),_Q=EQ(qJ);let SQ;function EQ(e){return e&&e.__esModule?e:{default:e}}function kQ(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function AQ(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}const xQ=Symbol("FiatOrderSet");var IQ=new WeakSet,TQ=new WeakSet;SQ=Symbol.iterator;class OQ{constructor({items:e,initSymbol:t}){kQ(this,TQ),kQ(this,IQ),(0,wQ.default)(t===xQ,"please use FiatOrderSet.EMPTY or FiatOrderSet.fromArray()");const r=[...e.values()];r.sort(((e,t)=>t.date-e.date)),this._items=e,this._sortOrder=r.map((e=>e.orderId)),this._txMap=new Map;for(const e of r){if(!e.txId)continue;const t=AQ(this,IQ,PQ).call(this,e.txId);t.includes(String(e))||this._txMap.set(e.txId,[...t,String(e)])}}static fromArray(e){return!e||Array.isArray(e)&&0===e.length?OQ.EMPTY:new OQ({items:new Map(e.map(RQ).map((e=>[String(e),e]))),initSymbol:xQ})}add(e){if(!this.has(e))return OQ.fromArray([...this,e])}clone(){return OQ.fromArray(this.toJSON())}delete(e){if(this.has(e))return OQ.fromArray(this.toJSON().filter((({orderId:t})=>t!==String(e))))}equals(e){if(this.size!==e.size)return!1;for(let t=0;t<this.size;++t)if(AQ(this,TQ,MQ).call(this,t)!==AQ(e,TQ,MQ).call(e,t))return!1;return!0}has(e){return this._items.has(String(e))}get(e){return this._items.get(String(e))}getAt(e){return this.get(AQ(this,TQ,MQ).call(this,e))}getByTxId(e,t=0){const r=AQ(this,IQ,PQ).call(this,e);return this.get(r[t])}getAllByTxId(e){return AQ(this,IQ,PQ).call(this,e).map((e=>this.get(e)))}toJSON(){return[...this].map((e=>e.toJSON()))}[SQ](){return this._items.values()}get size(){return this._items.size}union(e){const t=[...[...this],...[...e]];return OQ.fromArray(t)}update(e){const t=[];for(const r of e){const e=this.get(r);if(e){const n=e.update({...r});e!==n&&t.push(n)}}return 0===t.length?this:OQ.fromArray([...this.toJSON(),...t])}}function PQ(e){return this._txMap.get(e)||[]}function MQ(e){return this._sortOrder[e]}function RQ(e){return e instanceof OQ?e:_Q.default.fromJSON(e)}vQ.default=OQ,function(e,t,r){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(OQ,"EMPTY",new OQ({items:new Map,initSymbol:xQ}));var BQ={};Object.defineProperty(BQ,"__esModule",{value:!0}),BQ.orderToJSONLegacy=BQ.orderFromJSONLegacy=void 0;var UQ=DQ(ck),NQ=DQ(oJ),jQ=DQ(Jc),CQ=Wv,LQ=DQ(iJ);function DQ(e){return e&&e.__esModule?e:{default:e}}BQ.orderFromJSONLegacy=(e,{assets:t})=>{if((0,jQ.default)((0,UQ.default)(e)||(0,NQ.default)(e),"fromJSONLegacy: requires a string or a plain object"),(0,UQ.default)(e)&&(e=JSON.parse(e)),e._version)return LQ.default.fromJSON(e);(0,jQ.default)(t,"fromJSONLegacy(): assets is required to parse legacy Order");const{fromAsset:r,toAsset:n}=e,i=e.fromAmount?FQ({amount:e.fromAmount,asset:t[r]}):void 0,o=e.toAmount?FQ({amount:e.toAmount,asset:t[n]}):void 0;return LQ.default.fromJSON({...e,fromAmount:i,toAmount:o})};BQ.orderToJSONLegacy=e=>{(0,jQ.default)(e&&e instanceof LQ.default,"toJSONLegacy: requires an Order");const t={...e,date:e.date.toISOString()};return t.fromAmount&&(t.fromAmount=t.fromAmount.toDefaultString({unit:!0})),t.toAmount&&(t.toAmount=t.toAmount.toDefaultString({unit:!0})),delete t._version,t};const FQ=({asset:e,amount:t})=>(0,CQ.isNumberUnit)(t)?t:e?e.currency.parse(t):void 0;var WQ={};Object.defineProperty(WQ,"__esModule",{value:!0}),WQ.orderSetToJSONLegacy=WQ.orderSetFromJSONLegacy=void 0;var zQ=ZQ(Jc),qQ=BQ,VQ=ZQ(iJ),KQ=ZQ(UJ);function ZQ(e){return e&&e.__esModule?e:{default:e}}WQ.orderSetFromJSONLegacy=(e,{assets:t})=>null==e?KQ.default.EMPTY:KQ.default.fromArray(e.map((e=>HQ(e,t))));WQ.orderSetToJSONLegacy=e=>((0,zQ.default)(e instanceof KQ.default,"orderSetToJSONLegacy: expecting an OrderSet"),[...e].map((e=>(0,qQ.orderToJSONLegacy)(e))));const HQ=(e,t)=>e instanceof VQ.default?e:(0,qQ.orderFromJSONLegacy)(e,{assets:t});!function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AccountState",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"Address",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"AddressSet",{enumerable:!0,get:function(){return n.default}}),e.FIAT_ORDER=void 0,Object.defineProperty(e,"FiatOrder",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"FiatOrderSet",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"Order",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"OrderSet",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"PersonalNote",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PersonalNoteSet",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Tx",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"TxSet",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"UtxoCollection",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"WalletAccount",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"WalletAccountSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"currenciesForAsset",{enumerable:!0,get:function(){return m.currenciesForAsset}}),Object.defineProperty(e,"ensureCurrencies",{enumerable:!0,get:function(){return m.ensureCurrencies}}),Object.defineProperty(e,"fiatFusionOrderToOrderAdapter",{enumerable:!0,get:function(){return l.fusionOrderToOrderAdapter}}),Object.defineProperty(e,"fiatOrderAdapter",{enumerable:!0,get:function(){return l.adapter}}),Object.defineProperty(e,"normalizeTxJSON",{enumerable:!0,get:function(){return m.normalizeTxJSON}}),Object.defineProperty(e,"normalizeTxsJSON",{enumerable:!0,get:function(){return m.normalizeTxsJSON}}),Object.defineProperty(e,"orderFromJSONLegacy",{enumerable:!0,get:function(){return b.orderFromJSONLegacy}}),Object.defineProperty(e,"orderSetFromJSONLegacy",{enumerable:!0,get:function(){return g.orderSetFromJSONLegacy}}),Object.defineProperty(e,"orderSetToJSONLegacy",{enumerable:!0,get:function(){return g.orderSetToJSONLegacy}}),Object.defineProperty(e,"orderToJSONLegacy",{enumerable:!0,get:function(){return b.orderToJSONLegacy}});var t=_(HZ),r=_(tH),n=_(oH),i=_(CH),o=_(eG),s=_(yG),a=_(mG),c=_(OG),u=_(PG),d=_(iJ),f=_(UJ),l=w(qJ),h=w(VJ);e.FIAT_ORDER=h;var p=_(vQ),y=_(sJ),m=lH,b=BQ,g=WQ;function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function _(e){return e&&e.__esModule?e:{default:e}}}({}),PO("2m"),PO("30s"),PO("30s");const GQ=function(e){const t=Yg.mapValues(e,(e=>({...e})));return(e=>Object.values(e).sort(((e,t)=>+(t.baseAssetName===t.name)-+(e.baseAssetName===e.name))))(t).forEach((e=>oI({assets:t,asset:e}))),t}(Yg.keyBy(kI,(e=>e.name)));new class{constructor({rpcUrl:e,wsUrl:t,assets:r,txsLimit:n}){i(this,"broadcastTransaction",(async(e,t)=>{console.log("Solana broadcasting TX:",e);const r=[e,{encoding:"base64",preflightCommitment:"confirmed",...t}],n=["Blockhash not found"];return MO((async()=>{try{const e=await this.rpcCall("sendTransaction",r,{forceHttp:!0});return console.log(`tx ${JSON.stringify(e)} sent!`),e||null}catch(e){throw e.message&&!n.some((t=>e.message.includes(t)))&&(e.finalError=!0),console.warn("Error broadcasting tx. Retrying...",e),e}}),{delayTimesMs:["6s","6s","8s","10s"]})()})),i(this,"simulateTransaction",(async(e,t)=>{const{value:{accounts:r,unitsConsumed:n,err:i}}=await this.rpcCall("simulateTransaction",[e,t]);return{accounts:r,unitsConsumed:n,err:i}})),i(this,"resolveSimulationSideEffects",(async(e,t)=>{const r=[],n=[],i=e.map((async e=>{const t=await this.getBalance(e.address);return{name:"SOL",symbol:"SOL",balance:TU(e.amount,t),decimal:bU,type:"SOL"}})),o=(e,t)=>async(...r)=>{try{return await e.apply(this,r)}catch(e){if(e.message&&e.message.includes("could not find account"))return t;throw e}},s=o(this.getTokenBalance,"0"),a=o(this.getDecimals,0),c=o(this.getSupply,"0"),u=t.map((async e=>{try{const[t,r,n]=await Promise.all([this.getMetaplexMetadata(e.mint),s(e.address),a(e.mint)]),i=t||{name:null,symbol:null};let o={collectionId:null,collectionName:null,collectionTitle:null,title:null};if(0===n&&"1"===await c(e.mint))try{const{id:t,collectionName:r,collectionTitle:n,title:s}=await yO.api.getNFTByMintAddress(e.mint);o={collectionId:t,collectionTitle:n,collectionName:r,title:s},i.name=i.name||n,i.symbol=i.symbol||r}catch(e){console.warn(e)}return{balance:TU(e.amount,r),decimal:n,nft:o,address:e.address,mint:e.mint,name:i.name,symbol:i.symbol,type:"TOKEN"}}catch(e){return console.warn(e),{balance:null}}}));return(await Promise.all([...i,...u])).forEach((e=>{null!==e.balance&&(e.balance>0?r.push(e):n.push(e))})),{willReceive:r,willSend:n}})),i(this,"simulateUnsignedTransaction",(async({message:e,transactionMessage:t})=>{const{config:r,accountAddresses:n}=function(e){let t=e.indexToProgramIds;const r={encoding:"base64",commitment:"confirmed"},n=new Set;if(e.staticAccountKeys)e.staticAccountKeys.forEach((e=>n.add(e.toString())));else if(e.accountKeys)t||(t=new Map,e.instructions.forEach((r=>t.set(r.programIdIndex,e.accountKeys[r.programIdIndex])))),e.accountKeys.filter(((e,r)=>!t.has(r))).forEach((e=>n.add(e.toString())));else{const t=new Set(e.instructions.map((e=>e.programId.toString())));e.instructions.forEach((e=>{e.keys.forEach((e=>{t.has(e.pubkey.toString())||n.add(e.pubkey.toString())}))}))}return r.accounts={encoding:"base64",addresses:[...n]},{config:r,accountAddresses:[...n]}}(t||e),i=new Array(e.header.numRequiredSignatures||1).fill(null),o=function(e,t){const r=[];!function(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0===r){e.push(t);break}t|=128,e.push(t)}}(r,t.length);const n=r.length+t.length*Nq,i=e.length+n;if(t.length>255)throw new Error(`Too many signatures: ${t.length} > 255`);if(i>zB)throw new Error(`Transaction too large: ${i} > 1232`);const o=Hn.alloc(i);return Hn.from(r).copy(o),t.forEach(((e,t)=>{if(null!==e){if(e.length!==Nq)throw new Error("Invalid signature length");Hn.from(e).copy(o,r.length+t*Nq)}})),e.copy(o,n),o}(Hn.from(e.serialize()),i).toString("base64"),{accounts:s,unitsConsumed:a,err:c}=await this.simulateTransaction(o,{...r,replaceRecentBlockhash:!0,sigVerify:!1});return{accounts:s,accountAddresses:n,unitsConsumed:a,err:c}})),i(this,"simulateAndRetrieveSideEffects",(async(e,t,r)=>{const{accounts:n,accountAddresses:i}=await this.simulateUnsignedTransaction({message:e,transactionMessage:r}),{solAccounts:o,tokenAccounts:s}=function(e,t,r){const n=[],i=[];if(e.length!==t.length)throw new Error("Simulation returning wrong account length");return e.forEach(((e,o)=>{try{const s=t[o];if((e=>"11111111111111111111111111111111"===e)(e.owner.toString()))return void(s.toString()===r.toString()&&n.push({amount:e.lamports,address:r}));const a=Hn.from(e.data[0],"base64"),c=xU.decode(a),u=new LO(c.owner).toString(),d=SU.fromBuffer(c.amount);u===r.toString()&&i.push({amount:d,mint:new LO(c.mint).toString(),owner:u,address:s.toString()})}catch(e){console.warn(e)}})),{solAccounts:n,tokenAccounts:i}}(n,i,t);return this.resolveSimulationSideEffects(o,s)})),this.setServer(e),this.setWsEndpoint(t),this.setTokens(r),this.tokensToSkip={},this.txsLimit=n,this.connections={},this.getSupply=gx.memoize((async e=>{const t=await this.rpcCall("getTokenSupply",[e]);return gx.get(t,"value.amount")}))}setServer(e){this.rpcUrl=e||"https://solana.a.exodus.io",this.api=ZI(this.rpcUrl)}setWsEndpoint(e){this.wsUrl=e||"wss://solana.a.exodus.io/ws"}setTokens(e={}){const t=gx.pickBy(e,(e=>"SOLANA_TOKEN"===e.assetType));this.tokens=new Map(Object.values(t).map((e=>[e.mintAddress,e])))}request(e,t="application/json"){return VI(TZ(this.rpcUrl,e)).headers({"Content-Type":t})}async watchAddress({address:e,tokensAddresses:t=[],onMessage:r,handleAccounts:n,handleTransfers:i,handleReconnect:o,reconnectDelay:s}){if(this.connections[e])return;const a=new ZZ({endpoint:this.wsUrl,address:e,tokensAddresses:t,onMsg:e=>r(e),callback:t=>this.handleUpdates({updates:t,address:e,handleAccounts:n,handleTransfers:i}),reconnectCallback:o,reconnectDelay:s});return this.connections[e]=a,a.start()}async unwatchAddress({address:e}){this.connections[e]&&(await this.connections[e].stop(),delete this.connections[e])}async handleUpdates({updates:e,address:t,handleAccounts:r,handleTransfers:n}){if(n)return n(e)}async rpcCall(e,t=[],{address:r="",forceHttp:n=true}={}){const i=this.connections[r]||gx.sample(Object.values(this.connections));return!gx.get(i,"isOpen")||gx.get(i,"shutdown")||n?this.api.post({method:e,params:t}):i.sendMessage(e,t)}getTokenByAddress(e){return this.tokens.get(e)}isTokenSupported(e){return this.tokens.has(e)}async getEpochInfo(){const{epoch:e}=await this.rpcCall("getEpochInfo");return Number(e)}async getStakeActivation(e){const{state:t}=await this.rpcCall("getStakeActivation",[e]);return t}async getRecentBlockHash(e){const t=await this.rpcCall("getLatestBlockhash",[{commitment:e||"finalized",encoding:"jsonParsed"}],{forceHttp:!0});return gx.get(t,"value.blockhash")}async getTransactionById(e){return this.rpcCall("getTransaction",[e,{encoding:"jsonParsed",maxSupportedTransactionVersion:0}])}async getFee(){const e=await this.rpcCall("getRecentBlockhash",[{commitment:"finalized",encoding:"jsonParsed"}]);return gx.get(e,"value.feeCalculator.lamportsPerSignature")}async getPriorityFee(e){return(await this.rpcCall("getPriorityFeeEstimate",[{transaction:e,options:{recommended:!0}}])).priorityFeeEstimate}async getBalance(e){const t=await this.rpcCall("getBalance",[e,{encoding:"jsonParsed"}],{address:e});return gx.get(t,"value",0)}async getBlockTime(e){return this.rpcCall("getBlockTime",[e])}async getConfirmedSignaturesForAddress(e,{until:t,before:r,limit:n}={}){return t=t||void 0,this.rpcCall("getSignaturesForAddress",[e,{until:t,before:r,limit:n}],{address:e})}async getTransactions(e,{cursor:t,before:r,limit:n,includeUnparsed:i=!1}={}){n=n||this.txsLimit;let o=[];try{const s=t,a=await this.getTokenAccountsByOwner(e),c=a.filter((({tokenName:e})=>"unknown"!==e)).map((({tokenAccountAddress:e})=>e)),u=[e,...c];let d=(await Promise.all(u.map((e=>this.getConfirmedSignaturesForAddress(e,{until:s,before:r,limit:n}))))).flat();d=gx.uniqBy(d,"signature"),(await Promise.all(d.map((e=>this.getTransactionById(e.signature))))).forEach((t=>{if(!t)return;const r=1e3*t.blockTime,n=this.parseTransaction(e,t,a,{includeUnparsed:i});!n.from&&!i||(n.dexTxs&&(n.dexTxs.forEach((e=>{o.push({timestamp:r,date:new Date(r),...e})})),delete n.dexTxs),o.push({timestamp:r,date:new Date(r),...n}))}))}catch(e){throw console.warn("Solana error:",e),e}o=gx.orderBy(o,["timestamp"],["desc"]);const s=o[0]?o[0].id:t;return{transactions:o,newCursor:s}}parseTransaction(e,t,r,{includeUnparsed:n=!1}={}){var i;let{fee:o,preBalances:s,postBalances:a,preTokenBalances:c,postTokenBalances:u,innerInstructions:d}=t.meta;s=s||[],a=a||[],c=c||[],u=u||[],d=d||[];let{instructions:f,accountKeys:l}=t.transaction.message;const h=()=>{const r=l.findIndex((t=>t.pubkey===e)),n=0===r?o:0;return{unparsed:!0,amount:-1===r?0:a[r]-s[r]+n,fee:n,data:{meta:t.meta}}};f=f.filter((e=>e.parsed)).map((e=>({program:e.program,type:e.parsed.type,...e.parsed.info})));let p=gx.find(f,(t=>!![t.source,t.destination].includes(e)&&("system"===t.program&&"transfer"===t.type)));const y=p||null==(i=f.find((({type:t,owner:r,destination:n})=>"closeAccount"===t&&r===e&&n===e)))?void 0:i.account;d=d.reduce(((e,t)=>[...e,...t.instructions]),[]).map((n=>{const i=gx.get(n,"parsed.type");if(!n.parsed||"spl-token"!==n.program||!["transfer","transferChecked","transferCheckedWithFee"].includes(i))return null;const s=gx.get(n,"parsed.info.source"),a=gx.get(n,"parsed.info.destination"),c=Number(gx.get(n,"parsed.info.amount",0)||gx.get(n,"parsed.info.tokenAmount.amount",0)),u=t.transaction.signatures[0];if(y&&a===y){const t=t=>t&&t===y?e:t;return void(p={id:u,from:t(s),to:t(a),amount:c,fee:o})}const d=r.find((({tokenAccountAddress:e})=>[s,a].includes(e)));if(!d)return;const f=r.some((({tokenAccountAddress:e})=>[s].includes(e))),l={id:u,slot:t.slot,owner:f?e:null,from:s,to:a,amount:c,token:d,fee:f?o:0};return d?l:null})).filter((e=>!!e));const m=gx.find(f,{program:"system",type:"createAccountWithSeed"}),b=gx.find(f,{program:"stake",type:"withdraw"}),g=gx.find(f,{program:"stake",type:"deactivate"});let v={};if(p&&0===c.length&&0===u.length){const t=e===p.source;v={owner:p.source,from:p.source,to:p.destination,amount:p.lamports,fee:t?o:0}}else if(m)v={owner:m.base,from:m.base,to:m.base,amount:m.lamports,fee:o,staking:{method:"createAccountWithSeed",seed:m.seed,stakeAddresses:[m.newAccount],stake:m.lamports}};else if(b){const e=gx.map(gx.filter(f,{program:"stake",type:"withdraw"}),"stakeAccount");v={owner:b.withdrawAuthority,from:b.stakeAccount,to:b.destination,amount:b.lamports,fee:o,staking:{method:"withdraw",stakeAddresses:e,stake:b.lamports}}}else if(g){const e=gx.map(gx.filter(f,{program:"stake",type:"deactivate"}),"stakeAccount");v={owner:g.stakeAuthority,from:g.stakeAuthority,to:g.stakeAccount,amount:0,fee:o,staking:{method:"undelegate",stakeAddresses:e}}}else{tU.ok(Array.isArray(r),"tokenAccountsByOwner is required when parsing token tx");const i=gx.filter(f,(({program:e,type:t})=>"spl-token"===e&&["transfer","transferChecked","transferCheckedWithFee"].includes(t))).map((t=>{let n=gx.find(r,{tokenAccountAddress:t.source});const i=!!n;if(i||(n=gx.find(r,{tokenAccountAddress:t.destination})),!n)return null;const s=i?e:null;return delete n.balance,delete n.owner,{owner:s,token:n,from:t.source,to:t.destination,amount:Number(t.amount||gx.get(t,"tokenAmount.amount",0)),fee:i?o:0}}));if(i.length>0)v=i.reduce(((e,t)=>t?e.token?(e.token.ticker===t.token.ticker&&(e.amount+=t.amount),e):t:e),{});else if(c&&u){const i=gx.mapKeys(l,((e,t)=>t));Object.values(i).forEach((t=>{const n=!!gx.find(r,{tokenAccountAddress:t.pubkey});t.owner=n?e:null}));const s=c.filter((t=>i[t.accountIndex].owner===e&&this.isTokenSupported(t.mint))),a=u.filter((t=>i[t.accountIndex].owner===e&&this.isTokenSupported(t.mint)));(s.length>0||a.length>0||p)&&(v={},n&&d.length>0?(v=h(),v.dexTxs=(()=>{const n=c.filter((t=>t.owner===e));return u.filter((t=>t.owner===e)).map((i=>{const o=r.find((e=>e.mintAddress===i.mint)),s=n.find((e=>e.accountIndex===i.accountIndex)),a=new ld(gx.get(s,"uiTokenAmount.amount","0"),10),c=new ld(gx.get(i,"uiTokenAmount.amount","0"),10).sub(a);if(!o||c.isZero())return null;const u=d.find((t=>{const r=c.isNeg()?e:null;return t.token.mintAddress===o.mintAddress&&r===t.owner}));if(!u)return null;const{from:f,to:l,owner:h}=u;return{id:t.transaction.signatures[0],slot:t.slot,owner:h,from:f,to:l,amount:c.abs().toString(),fee:0,token:o,data:{inner:!0}}})).filter((e=>!!e))})()):(p&&(v=p.from&&p.to?p:{owner:p.source,from:p.source,to:p.destination,amount:p.lamports,fee:e===p.source?o:0}),d.length>0&&(v.dexTxs=d,!v.from&&!p&&(v=v.dexTxs[0],v.dexTxs=d.slice(1)))))}}return 0===Object.keys(v).length&&n&&(v=h()),{id:t.transaction.signatures[0],slot:t.slot,error:null!==t.meta.err,...v}}async getWalletTokensList({tokenAccounts:e}){const t=[];for(const r of e){const e=r.mintAddress;if(!this.tokensToSkip[e]&&"0"!==r.balance){if(!this.tokens.has(e)&&"1"===await this.getSupply(e)){this.tokensToSkip[e]=!0;continue}t.push(e)}}return t}async getTokenAccountsByOwner(e,t){const[{value:r},{value:n}]=await Promise.all([this.rpcCall("getTokenAccountsByOwner",[e,{programId:pU.toBase58()},{encoding:"jsonParsed"}],{address:e}),this.rpcCall("getTokenAccountsByOwner",[e,{programId:yU.toBase58()},{encoding:"jsonParsed"}],{address:e})]),i=[...r,...n],o=[];for(const t of i){const{pubkey:r,account:n}=t,i=gx.get(n,"data.parsed.info.mint"),s=this.getTokenByAddress(i)||{name:"unknown",ticker:"UNKNOWN",decimals:0},a=gx.get(n,"data.parsed.info.tokenAmount.amount","0"),c=gx.get(n,"owner",null),{feeBasisPoints:u=0,maximumFee:d=0}=c===yU.toBase58()?await this.getTokenFeeBasisPoints(i):{};o.push({tokenAccountAddress:r,owner:e,tokenName:s.name,ticker:s.ticker,balance:a,mintAddress:i,tokenProgram:c,decimals:s.decimals,feeBasisPoints:u,maximumFee:d})}return t?o.filter((({ticker:e})=>e===t)):o}async getTokensBalance({address:e,filterByTokens:t=[],tokenAccounts:r}){return(r||await this.getTokenAccountsByOwner(e)).reduce(((e,{tokenName:r,balance:n})=>("unknown"===r||t.length>0&&!t.includes(r)||(e[r]?e[r]+=Number(n):e[r]=Number(n)),e)),{})}async isAssociatedTokenAccountActive(e){try{return await this.rpcCall("getTokenAccountBalance",[e]),!0}catch{return!1}}async getTokenBalance(e){const t=await this.rpcCall("getTokenAccountBalance",[e]);return gx.get(t,"value.amount")}async getAccountInfo(e,t="jsonParsed"){const{value:r}=await this.rpcCall("getAccountInfo",[e,{encoding:t,commitment:"single"}],{address:e});return r}async isSpl(e){const{owner:t}=await this.getAccountInfo(e);return[pU.toBase58(),yU.toBase58()].includes(t)}async getTokenFeeBasisPoints(e){const t=await this.getAccountInfo(e),{transferFeeBasisPoints:r,maximumFee:n}=gx.get(t,"data.parsed.info.extensions[0].state.newerTransferFee",{transferFeeBasisPoints:0,maximumFee:0});return{feeBasisPoints:r,maximumFee:n}}async getMetaplexMetadata(e){const t=function(e){return LO.findProgramAddress([Hn.from("metadata"),mU.toBuffer(),new LO(e).toBuffer()],mU)[0].toBase58()}(e),r=await this.getAccountInfo(t,"base64"),n=gx.get(r,"data[0]");return n?function(e){const t=Jh(_U,wU,e),r=new RegExp("\0","g");return t.data.name=t.data.name.replace(r,""),t.data.uri=t.data.uri.replace(r,""),t.data.symbol=t.data.symbol.replace(r,""),t.data}(Hn.from(n,"base64")):null}async getDecimals(e){const t=await this.rpcCall("getTokenSupply",[e]);return gx.get(t,"value.decimals",null)}async getAddressType(e){const t=await this.getAccountInfo(e);if(null===t)return null;t.executable;const r=t.owner;t.lamports;return r===lU.toBase58()?"solana":r===pU.toBase58()?"token":r===yU.toBase58()?"token-2022":null}async getTokenAddressOwner(e){const t=await this.getAccountInfo(e);return gx.get(t,"data.parsed.info.owner",null)}async getAddressMint(e){const t=await this.getAccountInfo(e);return gx.get(t,"data.parsed.info.mint",null)}async isTokenAddress(e){const t=await this.getAddressType(e);return["token","token-2022"].includes(t)}async isSOLaddress(e){return"solana"===await this.getAddressType(e)}async getStakeAccountsInfo(e){const t=[hU.toBase58(),{filters:[{memcmp:{offset:12,bytes:e}}],encoding:"jsonParsed"}],r=await this.rpcCall("getProgramAccounts",t,{address:e}),n={};let i=0,o=0,s=0,a=0,c=0;for(const e of r){const t=e.pubkey,r=gx.get(e,"account.lamports",0),u=gx.get(e,"account.data.parsed.info.stake.delegation",{});n[t]=u,n[t].lamports=r,n[t].activationEpoch=Number(n[t].activationEpoch)||0,n[t].deactivationEpoch=Number(n[t].deactivationEpoch)||0;let d="inactive";u.activationEpoch&&(d=await this.getStakeActivation(t)),n[t].state=d,n[t].isDeactivating="deactivating"===d,n[t].canWithdraw="inactive"===d,n[t].stake=Number(n[t].stake)||0,i+=n[t].stake,o+=["active","activating"].includes(n[t].state)?r:0,s+="activating"===n[t].state?r:0,a+=n[t].canWithdraw?r:0,c+=n[t].isDeactivating?r:0}return{accounts:n,totalStake:i,locked:o,withdrawable:a,pending:c,activating:s}}async getRewards(e=[]){if(0===e.length)return 0;const t=await this.request("rewards").post({addresses:e}).error(500,(()=>({}))).error(400,(()=>({}))).json();return Object.values(t).reduce(((e,t)=>e+t),0)}async getMinimumBalanceForRentExemption(e){return this.rpcCall("getMinimumBalanceForRentExemption",[e])}async getProgramAccounts(e,t){return this.rpcCall("getProgramAccounts",[e,t])}async getMultipleAccounts(e,t){const r=await this.rpcCall("getMultipleAccounts",[e,t]);return r&&r.value?r.value:[]}async getFeeForMessage(e,t){const r=await this.rpcCall("getFeeForMessage",[Hn.from(e.serialize()).toString("base64"),{commitment:t}]);return gx.get(r,"value")}}({assets:GQ});class JQ extends Error{constructor(){super("Versioned transactions are not supported."),this.name="VERSIONED_TRANSACTION_UNSUPPORTED"}}const QQ=new Set(["legacy",0]);function YQ(e){return tY(e)?Hn.from(e.serialize({requireAllSignatures:!1})):Hn.from(e.serialize())}function XQ(e){return YQ(e).toString("base64")}function $Q(e){try{return cb.from(e)}catch{if(!ub)throw new JQ;return ub.deserialize(Uint8Array.from(e))}}function eY(e){return $Q(Hn.from(e,"base64"))}function tY(e){return!Number.isInteger(e.version)}function rY(e,t){e.signatures=t.signatures}var nY,iY,oY,sY;class aY extends xr{constructor({transport:e,accountsObservable:t}){super({transport:e}),a(this,nY,null),a(this,iY,(()=>{if(!this.isConnected)throw new Vg})),a(this,oY,(e=>{var t;const r=new Zm(e[0]);null!=(t=s(this,nY))&&t.equals(r)||(c(this,nY,r),this.emitAndIgnoreErrors("accountChanged",r))})),a(this,sY,(async(e,t=!1)=>{let r="";const n=e.filter(tY);for(const e of n)e.feePayer||(e.feePayer=this.publicKey),!e.signatures.length&&(!e.recentBlockhash||t)&&(r||(r=await this._callRpcMethod("sol_getLatestBlockhash",["finalized"])),e.recentBlockhash=r)})),i(this,"connect",(async({onlyIfTrusted:e=!1}={})=>{const t=function(e){return new Zm(e)}(await this._callRpcMethod("sol_connect",[e]));return c(this,nY,t),this.emitAndIgnoreErrors("connect",t),{publicKey:t}})),i(this,"disconnect",(()=>{s(this,iY).call(this),c(this,nY,null),this.emitAndIgnoreErrors("disconnect")})),i(this,"signTransaction",(async e=>{s(this,iY).call(this);const t=e instanceof Uint8Array,r=t?$Q(e):e;await s(this,sY).call(this,[r]);const n=XQ(r);return rY(r,eY(await this._callRpcMethod("sol_signTransaction",[n]))),t?YQ(r):r})),i(this,"signAllTransactions",(async e=>{s(this,iY).call(this);const t=e[0]instanceof Uint8Array,r=t?e.map((e=>$Q(e))):e;await s(this,sY).call(this,r);const n=r.map((e=>XQ(e))),i=(await this._callRpcMethod("sol_signAllTransactions",[n])).map((e=>eY(e)));return r.forEach(((e,t)=>{rY(e,i[t])})),t?r.map((e=>YQ(e))):r})),i(this,"signAndSendTransaction",(async(e,t={})=>{s(this,iY).call(this);const r=e instanceof Uint8Array,n=r?$Q(e):e;await s(this,sY).call(this,[n],!0);const i=XQ(n),o=await this._callRpcMethod("sol_signAndSendTransaction",[i,t]);return{signature:r?Jg(o):o}})),i(this,"signMessage",(async(e,t="utf8")=>{if(s(this,iY).call(this),!["hex","utf8"].includes(t))throw new Kg;const r=function(e){return Hn.from(e).toString("base64")}(e);return{signature:Qg(await this._callRpcMethod("sol_signMessage",[r,t])),publicKey:this.publicKey}})),i(this,"postMessage",(()=>{throw new qg})),i(this,"request",(e=>{const{method:t,params:r=[]}=e;if("isConnected"===t)return this._callRpcMethod("sol_isConnected",[]);if(!["connect","disconnect","signTransaction","signAllTransactions","signAndSendTransaction","signMessage","postMessage"].includes(t))throw new Zg;return this[t](...r)})),this.on("connect",(()=>{const e=t.observe((e=>{s(this,oY).call(this,e)}));this.on("disconnect",e)}))}get supportedTransactionVersions(){return QQ}get publicKey(){return s(this,nY)}get isConnected(){return!!this.publicKey}}nY=new WeakMap,iY=new WeakMap,oY=new WeakMap,sY=new WeakMap;const cY="solana:signAndSendTransaction",uY="solana:signMessage",dY="solana:signTransaction",fY="standard:connect",lY="standard:disconnect",hY="standard:events",pY=["solana:mainnet"];function yY(e){return pY.includes(e)}const mY=pY,bY=[cY,dY,uY];var gY,vY,wY,_Y,SY,EY;gY=new WeakMap,vY=new WeakMap,wY=new WeakMap,_Y=new WeakMap,SY=new WeakMap,EY=new WeakMap;let kY=class e{constructor({address:t,publicKey:r,label:n,icon:i}){a(this,gY,void 0),a(this,vY,void 0),a(this,wY,void 0),a(this,_Y,void 0),a(this,SY,void 0),a(this,EY,void 0),c(this,gY,t),c(this,vY,r),c(this,wY,mY),c(this,_Y,bY),c(this,SY,n),c(this,EY,i),new.target===e&&Object.freeze(this)}get address(){return s(this,gY)}get publicKey(){return s(this,vY).slice()}get chains(){return s(this,wY).slice()}get features(){return s(this,_Y).slice()}get label(){return s(this,SY)}get icon(){return s(this,EY)}};var AY,xY,IY,TY,OY,PY,MY,RY,BY,UY,NY,jY,CY,LY,DY,FY,WY,zY,qY;class VY extends Ir{constructor({provider:e,name:t,icon:r}){if(super({name:t,icon:r}),a(this,RY),a(this,UY),a(this,AY,Object.create(null)),a(this,xY,"1.0.0"),a(this,IY,void 0),a(this,TY,void 0),a(this,OY,null),a(this,PY,void 0),a(this,MY,((e,t)=>{var r;return null!=(r=s(this,AY)[e])&&r.push(t)||(s(this,AY)[e]=[t]),()=>u(this,UY,NY).call(this,e,t)})),a(this,jY,(()=>{var e;const t=null==(e=s(this,PY).publicKey)?void 0:e.toBase58();if(t){const e=s(this,PY).publicKey.toBytes(),r=s(this,OY);(!r||r.address!==t||!function(e,t){return function(e,t){if(e===t)return!0;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}(e,t)}(r.publicKey,e))&&(c(this,OY,new kY({address:t,publicKey:e})),u(this,RY,BY).call(this,"change",{accounts:this.accounts}))}})),a(this,CY,(()=>{s(this,OY)&&(c(this,OY,null),u(this,RY,BY).call(this,"change",{accounts:this.accounts}))})),a(this,LY,(()=>{s(this,PY).publicKey?s(this,jY).call(this):s(this,CY).call(this)})),a(this,DY,(async({silent:e}={})=>(s(this,OY)||await s(this,PY).connect(e?{onlyIfTrusted:!0}:void 0),s(this,jY).call(this),{accounts:this.accounts}))),a(this,FY,(async()=>{await s(this,PY).disconnect()})),a(this,WY,(async(...e)=>{if(!s(this,OY))throw new Error("not connected");const t=[];if(1===e.length){const{transaction:r,account:n,chain:i,options:o}=e[0],{minContextSlot:a,preflightCommitment:c,skipPreflight:u,maxRetries:d}=o||{};if(n!==s(this,OY))throw new Error("invalid account");if(!yY(i))throw new Error("invalid chain");const{signature:f}=await s(this,PY).signAndSendTransaction(r,{maxRetries:d,minContextSlot:a,preflightCommitment:c,skipPreflight:u});t.push({signature:f})}else if(e.length>1)for(const r of e)t.push(...await s(this,WY).call(this,r));return t})),a(this,zY,(async(...e)=>{if(!s(this,OY))throw new Error("not connected");const t=[];if(1===e.length){const{transaction:r,account:n,chain:i}=e[0];if(n!==s(this,OY))throw new Error("invalid account");if(i&&!yY(i))throw new Error("invalid chain");const o=await s(this,PY).signTransaction(r);t.push({signedTransaction:o})}else if(e.length>1){let r;for(const t of e){if(t.account!==s(this,OY))throw new Error("invalid account");if(t.chain){if(!yY(t.chain))throw new Error("invalid chain");if(r){if(t.chain!==r)throw new Error("conflicting chain")}else r=t.chain}}const n=e.map((({transaction:e})=>e)),i=await s(this,PY).signAllTransactions(n);t.push(...i.map((e=>({signedTransaction:e}))))}return t})),a(this,qY,(async(...e)=>{if(!s(this,OY))throw new Error("not connected");const t=[];if(1===e.length){const{message:r,account:n}=e[0];if(n!==s(this,OY))throw new Error("invalid account");const{signature:i}=await s(this,PY).signMessage(r);t.push({signedMessage:r,signature:i})}else if(e.length>1)for(const r of e)t.push(...await s(this,qY).call(this,r));return t})),!e)throw new Error("Solana Provider is required!");c(this,IY,t),c(this,TY,r),c(this,PY,e),e.on("connect",s(this,jY),this),e.on("disconnect",s(this,CY),this),e.on("accountChanged",s(this,LY),this),s(this,jY).call(this)}get version(){return s(this,xY)}get name(){return s(this,IY)}get icon(){return s(this,TY)}get chains(){return pY.slice()}get features(){const{supportedTransactionVersions:e}=s(this,PY);return{[fY]:{version:"1.0.0",connect:s(this,DY)},[lY]:{version:"1.0.0",disconnect:s(this,FY)},[hY]:{version:"1.0.0",on:s(this,MY)},[cY]:{version:"1.0.0",supportedTransactionVersions:Array.from(e),signAndSendTransaction:s(this,WY)},[dY]:{version:"1.0.0",supportedTransactionVersions:Array.from(e),signTransaction:s(this,zY)},[uY]:{version:"1.0.0",signMessage:s(this,qY)}}}get accounts(){return s(this,OY)?[s(this,OY)]:[]}}AY=new WeakMap,xY=new WeakMap,IY=new WeakMap,TY=new WeakMap,OY=new WeakMap,PY=new WeakMap,MY=new WeakMap,RY=new WeakSet,BY=function(e,...t){var r;null==(r=s(this,AY)[e])||r.forEach((e=>e.apply(null,t)))},UY=new WeakSet,NY=function(e,t){var r;s(this,AY)[e]=null==(r=s(this,AY)[e])?void 0:r.filter((e=>t!==e))},jY=new WeakMap,CY=new WeakMap,LY=new WeakMap,DY=new WeakMap,FY=new WeakMap,WY=new WeakMap,zY=new WeakMap,qY=new WeakMap;const KY=()=>{let e=[];return{notify:function(t){e.forEach((e=>e(t)))},observe:function(t){return e.push(t),()=>{e=e.filter((e=>e!==t))}}}};function ZY(e,t){const{bitcoin:r,ethereum:n,solana:i}=t;let o,s,a;if(r){const t=KY();o=(({accountsObservable:e,transport:t,injectWindow:r=!1,walletStandard:n=!0})=>{let i=new Tr({accountsObservable:e,transport:t});return i.defineFlag(rr),sr(i,nr,rr),n&&jr(new Ur({name:ir,icon:or,provider:i})),r&&(window.BitcoinProvider=i),i})({accountsObservable:t,transport:e,injectWindow:r.dangerouslyInjectWindow,walletStandard:r.walletStandard}),window.addEventListener("message",(e=>{"wallet:locked"===e.data&&t.notify([])}))}if(n){const t=KY();s=(({transport:e,accountsObservable:t,injectWindow:r=!1,eip6963:n=!0})=>{let i=new Un({transport:e,accountsObservable:t,storage:window.localStorage,storageKeyPrefix:"passkey"});return i.defineFlag(rr),sr(i,nr,rr),n&&Nn(i,{name:ir,icon:or,rdns:"network.passkeys",uuid:"165de3e5-9b1b-4312-aaf8-364facf4b82d"}),r&&(window.ethereum=i),i})({transport:e,accountsObservable:t,injectWindow:n.dangerouslyInjectWindow,eip6963:n.eip6963}),window.addEventListener("message",(e=>{"wallet:locked"===e.data&&t.notify([])}))}if(i){const t=KY();a=(({transport:e,accountsObservable:t,injectWindow:r=!1,walletStandard:n=!0})=>{let i=new aY({transport:e,accountsObservable:t});return i.defineFlag(rr),sr(i,nr,rr),n&&jr(new VY({name:ir,icon:or,provider:i})),r&&(window.solana=i),i})({transport:e,accountsObservable:t,injectWindow:i.dangerouslyInjectWindow,walletStandard:i.walletStandard}),window.addEventListener("message",(e=>{"wallet:locked"===e.data&&t.notify([])}))}return{bitcoin:o,ethereum:s,solana:a}}const HY="requests",GY=new RegExp(["0x[0-9a-fA-F]+_eth_accounts"].join("|"),"g"),JY=()=>({saveResponse:(e,t)=>{GY.test(e)&&((e,t)=>{localStorage.setItem(`${HY}:${e}`,JSON.stringify(t))})(e,t)},fetchResponse:e=>(e=>{const t=localStorage.getItem(`${HY}:${e}`);if(!t)return t;let r=t;try{r=JSON.parse(t)}catch{}return r})(e),clear:()=>{Object.keys(localStorage).filter((e=>e.startsWith(`${HY}:`))).forEach((e=>localStorage.removeItem(e)))}});function QY(e){const t=document.createElement("iframe"),r=function(e){return e?`${er}?appId=${e}`:er}(e);return t.setAttribute("src",r),t.style.width="100%",t.style.height="100%",t.style.display="none",t.style.border="none",t.style.colorScheme="normal",t.allow="clipboard-write; publickey-credentials-get *",t}const YY=e=>null!=e&&"object"==typeof e,XY=(e,t)=>{if(!YY(e)||!YY(t))return e===t;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const n of r){const r=e[n],i=t[n],o=YY(r)&&YY(i);if(o&&!XY(r,i)||!o&&r!==i)return!1}return!0},$Y=!!(typeof window<"u")&&/\(.*Win.*\)/.test(navigator.userAgent)?456:424;function eX(){const e=document.querySelector('head > meta[property="og:site_name"]');if(e)return e.content;const t=document.querySelector('head > meta[name="title"]');return t?t.content:document.title}const tX=new(typeof window>"u"?class{constructor(){i(this,"parseFromString",(()=>""))}}:DOMParser);function rX(e){return tX.parseFromString(e,"image/svg+xml").firstChild}const nX={popup:rX('<svg width="104" height="113" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="3" width="98" height="98" rx="49" fill="url(#passkeys-a)" style="mix-blend-mode:darken"/><g filter="url(#passkeys-b)"><rect x="12" y="9" width="80" height="80" rx="40" fill="#fff" shape-rendering="crispEdges"/><rect x="12.5" y="9.5" width="79" height="79" rx="39.5" stroke="url(#passkeys-c)" stroke-opacity=".09" shape-rendering="crispEdges"/><g clip-path="url(#passkeys-d)"><g filter="url(#passkeys-e)"><rect x="35" y="32" width="34" height="32" rx="9" fill="#181818"/><rect x="35.4" y="32.4" width="33.2" height="31.2" rx="8.6" stroke="url(#passkeys-f)" stroke-opacity=".09" stroke-width=".8"/></g><rect x="51" y="38" width="12" height="11" rx="3" fill="#fff"/></g></g><defs><linearGradient id="passkeys-a" x1="82.625" y1="40.425" x2="-2.155" y2="77.7" gradientUnits="userSpaceOnUse"><stop stop-color="#D3DD6C"/><stop offset=".088" stop-color="#CEBFA2"/><stop offset=".286" stop-color="#CEB0C8" stop-opacity=".5"/><stop offset=".583" stop-color="#CFCAC6" stop-opacity="0"/></linearGradient><linearGradient id="passkeys-c" x1="52" y1="9" x2="52" y2="89" gradientUnits="userSpaceOnUse"><stop stop-color="#151515" stop-opacity="0"/><stop offset=".681" stop-color="#151515"/></linearGradient><linearGradient id="passkeys-f" x1="52" y1="32" x2="52" y2="64" gradientUnits="userSpaceOnUse"><stop stop-color="#151515" stop-opacity="0"/><stop offset=".681" stop-color="#151515"/></linearGradient><filter id="passkeys-b" x="0" y="7" width="104" height="106" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius="2" in="SourceAlpha" result="effect1_dropShadow_2288_4118"/><feOffset dy="2"/><feGaussianBlur stdDeviation="2"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.06 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_2288_4118"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius="2" in="SourceAlpha" result="effect2_dropShadow_2288_4118"/><feOffset dy="4"/><feGaussianBlur stdDeviation="4"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.1 0"/><feBlend in2="effect1_dropShadow_2288_4118" result="effect2_dropShadow_2288_4118"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius=".635" in="SourceAlpha" result="effect3_dropShadow_2288_4118"/><feOffset dy=".635"/><feGaussianBlur stdDeviation=".635"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.06 0"/><feBlend in2="effect2_dropShadow_2288_4118" result="effect3_dropShadow_2288_4118"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius=".635" in="SourceAlpha" result="effect4_dropShadow_2288_4118"/><feOffset dy="1.27"/><feGaussianBlur stdDeviation="1.27"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.1 0"/><feBlend in2="effect3_dropShadow_2288_4118" result="effect4_dropShadow_2288_4118"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius="2" in="SourceAlpha" result="effect5_dropShadow_2288_4118"/><feOffset dy="4"/><feGaussianBlur stdDeviation="3"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.03 0"/><feBlend in2="effect4_dropShadow_2288_4118" result="effect5_dropShadow_2288_4118"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius="4" in="SourceAlpha" result="effect6_dropShadow_2288_4118"/><feOffset dy="12"/><feGaussianBlur stdDeviation="8"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.06 0"/><feBlend in2="effect5_dropShadow_2288_4118" result="effect6_dropShadow_2288_4118"/><feBlend in="SourceGraphic" in2="effect6_dropShadow_2288_4118" result="shape"/></filter><filter id="passkeys-e" x="30.2" y="30.4" width="43.6" height="41.6" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius="1.6" in="SourceAlpha" result="effect1_dropShadow_2288_4118"/><feOffset dy="1.6"/><feGaussianBlur stdDeviation="1.6"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.06 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_2288_4118"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius="1.6" in="SourceAlpha" result="effect2_dropShadow_2288_4118"/><feOffset dy="3.2"/><feGaussianBlur stdDeviation="3.2"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.1 0"/><feBlend in2="effect1_dropShadow_2288_4118" result="effect2_dropShadow_2288_4118"/><feBlend in="SourceGraphic" in2="effect2_dropShadow_2288_4118" result="shape"/></filter><clipPath id="passkeys-d"><path fill="#fff" transform="translate(32 29)" d="M0 0h40v40H0z"/></clipPath></defs></svg>'),private:rX('<svg width="104" height="112" viewBox="0 0 104 112" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="52" cy="48" r="48" fill="url(#paint0_linear_7014_172)" style="mix-blend-mode:darken"/><g filter="url(#filter0_dddddd_7014_172)"><circle cx="52" cy="48" r="40" fill="#181818"/><circle cx="52" cy="48" r="39.5" stroke="url(#paint1_linear_7014_172)" stroke-opacity="0.09"/></g><ellipse cx="41.6512" cy="47.6512" rx="7.65123" ry="7.65123" fill="white"/><ellipse cx="62.349" cy="47.6512" rx="7.65123" ry="7.65123" fill="white"/><ellipse cx="1.69244" cy="1.69244" rx="1.69244" ry="1.69244" transform="matrix(1 0 0 -1 64.335 50.4112)" fill="#181818"/><ellipse cx="1.69244" cy="1.69244" rx="1.69244" ry="1.69244" transform="matrix(1 0 0 -1 42.8979 50.4112)" fill="#181818"/><ellipse cx="10" cy="10" rx="10" ry="10" transform="matrix(1 0 0 -1 52.437 40)" fill="#181818"/><ellipse cx="10" cy="10" rx="10" ry="10" transform="matrix(1 0 0 -1 31 40)" fill="#181818"/><defs><filter id="filter0_dddddd_7014_172" x="0" y="6" width="104" height="106" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius="2" operator="erode" in="SourceAlpha" result="effect1_dropShadow_7014_172"/><feOffset dy="2"/><feGaussianBlur stdDeviation="2"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix type="matrix" values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.06 0"/><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_7014_172"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius="2" operator="erode" in="SourceAlpha" result="effect2_dropShadow_7014_172"/><feOffset dy="4"/><feGaussianBlur stdDeviation="4"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix type="matrix" values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.1 0"/><feBlend mode="normal" in2="effect1_dropShadow_7014_172" result="effect2_dropShadow_7014_172"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius="0.635" operator="erode" in="SourceAlpha" result="effect3_dropShadow_7014_172"/><feOffset dy="0.635"/><feGaussianBlur stdDeviation="0.635"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix type="matrix" values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.06 0"/><feBlend mode="normal" in2="effect2_dropShadow_7014_172" result="effect3_dropShadow_7014_172"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius="0.635" operator="erode" in="SourceAlpha" result="effect4_dropShadow_7014_172"/><feOffset dy="1.27"/><feGaussianBlur stdDeviation="1.27"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix type="matrix" values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.1 0"/><feBlend mode="normal" in2="effect3_dropShadow_7014_172" result="effect4_dropShadow_7014_172"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius="2" operator="erode" in="SourceAlpha" result="effect5_dropShadow_7014_172"/><feOffset dy="4"/><feGaussianBlur stdDeviation="3"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix type="matrix" values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.03 0"/><feBlend mode="normal" in2="effect4_dropShadow_7014_172" result="effect5_dropShadow_7014_172"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feMorphology radius="4" operator="erode" in="SourceAlpha" result="effect6_dropShadow_7014_172"/><feOffset dy="12"/><feGaussianBlur stdDeviation="8"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix type="matrix" values="0 0 0 0 0.0627451 0 0 0 0 0.0941176 0 0 0 0 0.156863 0 0 0 0.06 0"/><feBlend mode="normal" in2="effect5_dropShadow_7014_172" result="effect6_dropShadow_7014_172"/><feBlend mode="normal" in="SourceGraphic" in2="effect6_dropShadow_7014_172" result="shape"/></filter><linearGradient id="paint0_linear_7014_172" x1="82" y1="39.6" x2="-1.05" y2="76.1139" gradientUnits="userSpaceOnUse"><stop stop-color="#D3DD6C"/><stop offset="0.0877097" stop-color="#CEBFA2"/><stop offset="0.285812" stop-color="#CEB0C8" stop-opacity="0.5"/><stop offset="0.582843" stop-color="#CFCAC6" stop-opacity="0"/></linearGradient><linearGradient id="paint1_linear_7014_172" x1="52" y1="8" x2="52" y2="88" gradientUnits="userSpaceOnUse"><stop stop-color="#151515" stop-opacity="0"/><stop offset="0.681179" stop-color="#151515"/></linearGradient></defs></svg>')};function iX({element:e,style:t}){Object.assign(e.style,t)}function oX(e){const{element:t}=e;t.style.cssText="",iX(e)}const sX={primary:{background:"#181818",color:"#fff",padding:"14px",border:"none",borderRadius:"12px",width:"100%"},secondary:{border:"none",color:"#181818",background:"none"}};function aX({value:e,size:t=18,color:r="#000"}){const n=document.createElement("p");return n.textContent=e,n.style.color=r,n.style.fontSize=`${t}px`,n.style.lineHeight="110%",n.style.textAlign="center",n}function cX({value:e,variant:t="primary"}){const r=document.createElement("button"),n=sX[t]||{};return r.textContent=e,r.style.cursor="pointer",r.style.fontSize="16px",Object.assign(r.style,n),r}function uX({title:e,message:t,icon:r="popup",acceptText:n="Continue",cancelText:i="Cancel"}){const{registerStyles:o,removeResponsiveListeners:s}=function(){const e={default:[],fullScreen:[]},t=window.matchMedia("(max-width: 540px)"),r=()=>{t.matches?e.fullScreen.forEach(iX):e.default.forEach(oX)};return t.addEventListener("change",r),{registerStyles:(r,n)=>{Object.entries(n).forEach((([t,n])=>e[t].push({element:r,style:n}))),oX({element:r,style:n.default}),t.matches&&iX({element:r,style:n.fullScreen})},removeResponsiveListeners:()=>{t.removeEventListener("change",r)}}}(),a=function(){const e=document.createElement("div");return e.style.background="rgba(0, 0, 0, 0.5)",e.style.bottom="0",e.style.left="0",e.style.opacity="0",e.style.overflow="auto",e.style.position="fixed",e.style.display="flex",e.style.alignItems="flex-start",e.style.right="0",e.style.top="0",e.style.transition="opacity 0.3s ease-in-out",e.style.zIndex="999999999",setTimeout((()=>e.style.opacity="1"),100),e}(),c=function({width:e=400,height:t=430,registerStyles:r}){const n=document.createElement("div");return n.ariaModal="true",n.role="dialog",n.tabIndex=-1,n.dataset.clickOutsideContext="wallet-widget",r(n,{default:{boxSizing:"border-box",alignItems:"center",background:"linear-gradient(193deg, rgba(211, 221, 108, 0.15) 8.94%, rgba(211, 221, 108, 0.00) 24.81%, rgba(217, 177, 216, 0.00) 63.19%, rgba(217, 177, 216, 0.28) 93.8%), linear-gradient(180deg, #FFF 62.19%, #F5F5F5 91%)",borderRadius:"32px",color:"black",display:"flex",flexDirection:"column",fontWeight:"500",gap:"16px",margin:"10vh auto",minHeight:`${t}px`,outline:"none",padding:"40px",position:"relative",width:`${e}px`},fullScreen:{alignSelf:"flex-end",width:"100%",maxHeight:"85vh",margin:"0",padding:"40px 24px 24px",borderBottomLeftRadius:"0",borderBottomRightRadius:"0"}}),n}({registerStyles:o}),u=function({title:e,message:t}){const r=document.createElement("div");r.style.alignItems="center",r.style.display="flex",r.style.flex="1",r.style.flexDirection="column",r.style.gap="16px";const n=aX({value:e,size:24}),i=aX({value:t,size:18,color:"#737373"});return r.append(n),r.append(i),r}({title:e,message:t}),d=cX({value:n,variant:"primary"}),f=cX({value:i,variant:"secondary"});return nX[r]&&c.append(nX[r]||void 0),c.append(u),c.append(d),i&&c.append(f),a.append(c),document.body.append(a),new Promise((e=>{const t=t=>()=>{s(),a.remove(),e(t)};d.addEventListener("click",t(!0)),i&&f.addEventListener("click",t(!1))}))}const dX=(e,t)=>JSON.stringify({jsonrpc:"2.0",id:e,result:t}),fX=(e,t,r)=>JSON.stringify({jsonrpc:"2.0",id:e,method:t,params:r}),lX=({getIframe:e})=>{let t,r,n;const i=async function(){return{title:eX()}}();let o;i.then((e=>{o=e}));const s=async({target:e})=>((!t||null!=t&&t.closed)&&(n=void 0),n?n.then((e=>(t.focus(),e))):(r=e,t=await(async({target:e})=>new Promise((t=>{const r=window.screen.width/2-$Y/2,n=window.screen.height/2-332,i=window.open(e,"popup",`toolbar=no,location=no,status=no,menubar=no,resizable=no,scrollbars=no,width=${$Y},height=664,top=${n},left=${r},`);if(!i)return void t(null);const o=e=>{"rpc:ready"===e.data&&(window.removeEventListener("message",o),t(i))};window.addEventListener("message",o),i.focus()})))({target:e}),t?{success:!0,error:null}:{success:!1,error:"popup blocked"})),a=({id:t,response:r})=>{const n=dX(t,r),i={type:tr,input:n},{element:o,url:s}=e();o.contentWindow.postMessage(i,s)},c=async({id:e,method:c,params:u})=>{const{target:d,...f}=u,l=await s({target:d});if(!l.success)return a({id:e,response:l});await n,await i;const h={type:tr,input:fX(e,c,{...f,metadata:o})};t.postMessage(h,r)},u={confirm:async({id:e,params:t})=>{const r=await uX(t);return a({id:e,response:r})},notify:async({id:e,params:t})=>(await uX({cancelText:null,acceptText:"Close",...t}),a({id:e,response:!0}))};return{handleRequest:async e=>{const{id:t,method:r,params:n}=JSON.parse(e.data.input);return(u[r]||c)({id:t,method:r,params:n})},handleResponse:i=>{const{element:o,url:s}=e();o.contentWindow.postMessage(i.data,s),(async()=>{await n,n=void 0,r=void 0,null==t||t.close()})()}}},hX=typeof window<"u",pX={providers:{},renderWidget:async()=>{throw new Error("`renderWidget` is not available in non-browser environments.")},setWidgetConfig:async()=>{throw new Error("`setWidgetConfig` is not available in non-browser environments.")},experimental_expand:()=>{throw new Error("`experimental_expand` is not available in non-browser environments.")},experimental_destroyWidget:()=>{throw new Error("`experimental_destroyWidget` is not available in non-browser environments.")}},yX="test"===I.env.NODE_ENV;let mX=null;const bX=e=>{if(!hX)return pX;if(mX&&!yX)return console.warn("@passkeys/core: 'createWallet' was called more than once. This is not supported."),mX;const{appId:t,providers:r,networks:n}=function(e){return $t.parse(e)}(e),i=QY(t),o=JY(),s=new Map,{awaitReady:a,isReady:c,setReady:u,resetReady:d}=(()=>{let e=T();return e.resolved=!1,{awaitReady:()=>e.promise,isReady:()=>!!e.resolved,setReady:()=>{e.resolve(),e.resolved=!0},resetReady:()=>{e=T(),e.resolved=!1}}})(),f=e=>{"wallet:ready"===e.data&&u()};window.addEventListener("message",f);const l=e=>{"wallet:locked"===e.data&&o.clear()};window.addEventListener("message",l);const{handleRequest:h,handleResponse:p}=lX({getIframe:()=>({element:i,url:er})}),y=async e=>{e.data.type===tr&&(JSON.parse(e.data.input).method?await h(e):await p(e))};window.addEventListener("message",y);const m=async e=>{const t=JSON.parse(e);if(s.set(t.id,{input:e,payload:t,deferred:T()}),!c()){const e=t.method,r=o.fetchResponse(e);if(r)return void window.postMessage({type:"provider:response",input:dX(t.id,r),fromCache:!0})}await a(),i.contentWindow.postMessage({type:"provider:request",input:e},er)},b=new Set,g={write:m,on:(e,t)=>{const r=e=>{if(!((e,t)=>{const{data:r,origin:n}=e;return!(!t.includes(n)||"object"!=typeof r||"provider:response"!==r.type)})(e,[er,location.origin]))return;const r=JSON.parse(e.data.input),n=s.get(r.id);if(n){const{method:e}=n.payload,t=r.result;o.saveResponse(e,t),n.deferred.resolve(),s.delete(r.id)}t(e.data.input)};b.add(r),window.addEventListener("message",r)}};let v;const w=e=>{i.contentWindow.postMessage({type:"wallet:widget:config",config:e},er)};let _=Promise.resolve();const S=async e=>{await _,i.parentElement!==e&&(await a(),d(),await Promise.allSettled([...s.values()].map((({deferred:e})=>e.promise))),i.style.display="initial",i.src=((e,t,r)=>{const n=new URL(e);return n.searchParams.append(t,r),n.toString()})(i.src,"theme",JSON.stringify((null==v?void 0:v.theme)||{})),e.append(i),await a(),v&&w(v))};document.body.append(i);let E=r;return n&&(E=n,console.warn("`networks` option is deprecated, use `providers` instead.")),mX={providers:ZY(g,E),renderWidget:async e=>e?(_=S(e),_):(_=Promise.resolve(),d(),document.body.append(i),i.style.display="none",void s.forEach((({input:e})=>m(e)))),setWidgetConfig:e=>{!e||XY(e,v)||(v=e,c()&&w(e))},experimental_expand:async({path:e}={})=>{await a(),e&&i.contentWindow.postMessage({type:"wallet:navigate",path:e},er),window.postMessage({type:"wallet:resize",expanded:!0})},experimental_destroyWidget:()=>{[...b,f,l,y].forEach((e=>window.removeEventListener("message",e))),b.clear(),s.clear(),o.clear(),i.remove(),mX=null}},mX};hX&&Object.defineProperty(window,"__passkeys-core-version__",{value:"3.3.4",writable:!1,enumerable:!1})}}]);
//# sourceMappingURL=6331-2621ef5f2d3f3f61.js.map