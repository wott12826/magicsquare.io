"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9428],{33970:function(e,t,n){n.d(t,{i:function(){return m}});var a=n(93805),r=n(62631),s=n(59540),o=n(41543),i=n(35566),c=n(12277),u=n(18715);const m={fees:{estimateFeesPerGas:d,async maxPriorityFeePerGas({block:e,client:t,request:n}){const a=await d({block:e,client:t,multiply:e=>e,request:n,type:"eip1559"});return a?.maxPriorityFeePerGas?a.maxPriorityFeePerGas:null}}};async function d({client:e,multiply:t,request:n,type:m}){try{const d=await async function(e,t){const{account:n=e.account}=t;if(!n)throw new r.o;const m=(0,a.T)(n);try{const{accessList:n,blockNumber:a,blockTag:r,data:o,gas:d,gasPrice:y,maxFeePerGas:l,maxPriorityFeePerGas:x,nonce:f,to:p,value:h,...g}=t,P=(a?(0,s.eC)(a):void 0)||r;(0,u.F)(t);const b=e.chain?.formatters?.transactionRequest?.format,w=(b||c.tG)({...(0,i.K)(g,{format:b}),from:m?.address,accessList:n,data:o,gas:d,gasPrice:y,maxFeePerGas:l,maxPriorityFeePerGas:x,nonce:f,to:p,value:h}),{baseFeePerGas:N,gasLimit:v,priorityFeePerGas:G}=await e.request({method:"linea_estimateGas",params:P?[w,P]:[w]});return{baseFeePerGas:BigInt(N),gasLimit:BigInt(v),priorityFeePerGas:BigInt(G)}}catch(n){throw(0,o.P)(n,{...t,account:m,chain:e.chain})}}(e,{...n,account:n?.account}),{priorityFeePerGas:y}=d,l=t(BigInt(d.baseFeePerGas))+y;return"legacy"===m?{gasPrice:l}:{maxFeePerGas:l,maxPriorityFeePerGas:y}}catch{return null}}},83902:function(e,t,n){n.d(t,{i:function(){return o}});var a=n(6812),r=n(94455),s=n(66962);const o={contracts:a.r,formatters:r.$,serializers:s.fE}},6812:function(e,t,n){n.d(t,{r:function(){return a}});const a={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}}},94455:function(e,t,n){n.d(t,{$:function(){return i}});var a=n(56704),r=n(87929),s=n(68062),o=n(9811);const i={block:(0,r.G)({format(e){const t=e.transactions?.map((e=>{if("string"==typeof e)return e;const t=(0,s.Tr)(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,a.y_)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}));return{transactions:t,stateRoot:e.stateRoot}}}),transaction:(0,s.y_)({format(e){const t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,a.y_)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:(0,o.dI)({format(e){return{l1GasPrice:e.l1GasPrice?(0,a.y_)(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?(0,a.y_)(e.l1GasUsed):null,l1Fee:e.l1Fee?(0,a.y_)(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})}},66962:function(e,t,n){n.d(t,{DO:function(){return u},fE:function(){return m}});var a=n(71895),r=n(58017),s=n(21532),o=n(59540),i=n(28254),c=n(54353);function u(e,t){return function(e){return"deposit"===e.type||void 0!==e.sourceHash}(e)?function(e){!function(e){const{from:t,to:n}=e;if(t&&!(0,r.U)(t))throw new a.b({address:t});if(n&&!(0,r.U)(n))throw new a.b({address:n})}(e);const{sourceHash:t,data:n,from:c,gas:u,isSystemTx:m,mint:d,to:y,value:l}=e,x=[t,c,y??"0x",d?(0,o.NC)(d):"0x",l?(0,o.NC)(l):"0x",u?(0,o.NC)(u):"0x",m?"0x1":"0x",n??"0x"];return(0,s.SM)(["0x7e",(0,i.LV)(x)])}(e):(0,c.D)(e,t)}const m={transaction:u}},6203:function(e,t,n){n.d(t,{g:function(){return o}});var a=n(71895),r=n(36398),s=n(58017);function o(e){if(!e||0===e.length)return[];const t=[];for(let n=0;n<e.length;n++){const{address:o,storageKeys:i}=e[n];for(let e=0;e<i.length;e++)if(i[e].length-2!=64)throw new r.JC({storageKey:i[e]});if(!(0,s.U)(o,{strict:!1}))throw new a.b({address:o});t.push([o,i])}return t}},54353:function(e,t,n){n.d(t,{D:function(){return C},d:function(){return F}});var a=n(36398),r=n(18713),s=n(3975),o=n(4083),i=n(48627),c=n(21532),u=n(44007),m=n(59540),d=n(28254);var y=n(48888),l=n(37569),x=n(71895),f=n(73926),p=n(329),h=n(27418),g=n(59316),P=n(58017),b=n(17769),w=n(85380),N=n(56704);function v(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:a,to:r}=e;if(t<=0)throw new h.hJ({chainId:t});if(r&&!(0,P.U)(r))throw new x.b({address:r});if(a&&a>l.zL)throw new g.Hh({maxFeePerGas:a});if(n&&a&&n>a)throw new g.cs({maxFeePerGas:a,maxPriorityFeePerGas:n})}var G=n(4052),I=n(6203);function C(e,t){const n=(0,G.l)(e);return"eip1559"===n?function(e,t){const{chainId:n,gas:a,nonce:r,to:s,value:o,maxFeePerGas:i,maxPriorityFeePerGas:u,accessList:y,data:l}=e;v(e);const x=(0,I.g)(y),f=[(0,m.NC)(n),r?(0,m.NC)(r):"0x",u?(0,m.NC)(u):"0x",i?(0,m.NC)(i):"0x",a?(0,m.NC)(a):"0x",s??"0x",o?(0,m.NC)(o):"0x",l??"0x",x,...F(e,t)];return(0,c.SM)(["0x02",(0,d.LV)(f)])}(e,t):"eip2930"===n?function(e,t){const{chainId:n,gas:a,data:r,nonce:s,to:o,value:i,accessList:u,gasPrice:y}=e;!function(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:a,maxFeePerGas:r,to:s}=e;if(t<=0)throw new h.hJ({chainId:t});if(s&&!(0,P.U)(s))throw new x.b({address:s});if(n||r)throw new f.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(a&&a>l.zL)throw new g.Hh({maxFeePerGas:a})}(e);const p=(0,I.g)(u),b=[(0,m.NC)(n),s?(0,m.NC)(s):"0x",y?(0,m.NC)(y):"0x",a?(0,m.NC)(a):"0x",o??"0x",i?(0,m.NC)(i):"0x",r??"0x",p,...F(e,t)];return(0,c.SM)(["0x01",(0,d.LV)(b)])}(e,t):"eip4844"===n?function(e,t){const{chainId:n,gas:a,nonce:u,to:l,value:x,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:g,accessList:P,data:G}=e;!function(e){const{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new p.RX;for(const e of t){const t=(0,b.d)(e),n=(0,N.ly)((0,w.tP)(e,0,1));if(32!==t)throw new p.xd({hash:e,size:t});if(n!==y.l)throw new p.cJ({hash:e,version:n})}}v(e)}(e);let C=e.blobVersionedHashes,B=e.sidecars;if(e.blobs&&(void 0===C||void 0===B)){const t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map((e=>(0,m.ci)(e))),n=e.kzg,a=(0,r.P)({blobs:t,kzg:n});if(void 0===C&&(C=(0,o.C)({commitments:a})),void 0===B){const e=(0,s.y)({blobs:t,commitments:a,kzg:n});B=(0,i.j)({blobs:t,commitments:a,proofs:e})}}const L=(0,I.g)(P),T=[(0,m.NC)(n),u?(0,m.NC)(u):"0x",g?(0,m.NC)(g):"0x",h?(0,m.NC)(h):"0x",a?(0,m.NC)(a):"0x",l??"0x",x?(0,m.NC)(x):"0x",G??"0x",L,f?(0,m.NC)(f):"0x",C??[],...F(e,t)],S=[],_=[],k=[];if(B)for(let e=0;e<B.length;e++){const{blob:t,commitment:n,proof:a}=B[e];S.push(t),_.push(n),k.push(a)}return(0,c.SM)(["0x03",B?(0,d.LV)([T,S,_,k]):(0,d.LV)(T)])}(e,t):"eip7702"===n?function(e,t){const{authorizationList:n,chainId:a,gas:r,nonce:s,to:o,value:i,maxFeePerGas:u,maxPriorityFeePerGas:y,accessList:l,data:f}=e;!function(e){const{authorizationList:t}=e;if(t)for(const e of t){const{contractAddress:t,chainId:n}=e;if(!(0,P.U)(t))throw new x.b({address:t});if(n<0)throw new h.hJ({chainId:n})}v(e)}(e);const p=(0,I.g)(l),g=function(e){if(!e||0===e.length)return[];const t=[];for(const n of e){const{contractAddress:e,chainId:a,nonce:r,...s}=n;t.push([a?(0,m.NC)(a):"0x",e,r?(0,m.NC)(r):"0x",...F({},s)])}return t}(n);return(0,c.SM)(["0x04",(0,d.LV)([(0,m.NC)(a),s?(0,m.NC)(s):"0x",y?(0,m.NC)(y):"0x",u?(0,m.NC)(u):"0x",r?(0,m.NC)(r):"0x",o??"0x",i?(0,m.NC)(i):"0x",f??"0x",p,g,...F(e,t)])])}(e,t):function(e,t){const{chainId:n=0,gas:r,data:s,nonce:o,to:i,value:c,gasPrice:y}=e;!function(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:a,maxFeePerGas:r,to:s}=e;if(s&&!(0,P.U)(s))throw new x.b({address:s});if(void 0!==t&&t<=0)throw new h.hJ({chainId:t});if(n||r)throw new f.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(a&&a>l.zL)throw new g.Hh({maxFeePerGas:a})}(e);let p=[o?(0,m.NC)(o):"0x",y?(0,m.NC)(y):"0x",r?(0,m.NC)(r):"0x",i??"0x",c?(0,m.NC)(c):"0x",s??"0x"];if(t){const e=(()=>{if(t.v>=35n){return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n)}if(n>0)return BigInt(2*n)+BigInt(35n+t.v-27n);const e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new a.vl({v:t.v});return e})(),r=(0,u.f)(t.r),s=(0,u.f)(t.s);p=[...p,(0,m.NC)(e),"0x00"===r?"0x":r,"0x00"===s?"0x":s]}else n>0&&(p=[...p,(0,m.NC)(n),"0x","0x"]);return(0,d.LV)(p)}(e,t)}function F(e,t){const n=t??e,{v:a,yParity:r}=n;if(void 0===n.r)return[];if(void 0===n.s)return[];if(void 0===a&&void 0===r)return[];const s=(0,u.f)(n.r),o=(0,u.f)(n.s);return["number"==typeof r?r?(0,m.NC)(1):"0x":0n===a?"0x":1n===a?(0,m.NC)(1):27n===a?"0x":(0,m.NC)(1),"0x00"===s?"0x":s,"0x00"===o?"0x":o]}},10945:function(e,t,n){n.d(t,{i:function(){return S}});var a=n(56704),r=n(97420),s=n(59540),o=n(87929),i=n(61735),c=n(68062),u=n(9811),m=n(12277),d=n(37569);const y=50000n,l=32n*d.rU,x={block:(0,o.G)({format(e){const t=e.transactions?.map((e=>{if("string"==typeof e)return e;const t=x.transaction?.format(e);return"0x71"===t.typeHex?t.type="eip712":"0xff"===t.typeHex&&(t.type="priority"),t}));return{l1BatchNumber:e.l1BatchNumber?(0,a.y_)(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?(0,a.y_)(e.l1BatchTimestamp):null,transactions:t}}}),transaction:(0,c.y_)({format(e){const t={};return"0x71"===e.type?t.type="eip712":"0xff"===e.type&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?(0,a.y_)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,a.y_)(e.l1BatchTxIndex):null}}}),transactionReceipt:(0,u.dI)({format(e){return{l1BatchNumber:e.l1BatchNumber?(0,a.y_)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,a.y_)(e.l1BatchTxIndex):null,logs:e.logs.map((e=>({...(0,i.U)(e),l1BatchNumber:e.l1BatchNumber?(0,a.y_)(e.l1BatchNumber):null,transactionLogIndex:(0,a.ly)(e.transactionLogIndex),logType:e.logType}))),l2ToL1Logs:e.l2ToL1Logs.map((e=>({blockNumber:(0,a.y_)(e.blockHash),blockHash:e.blockHash,l1BatchNumber:(0,a.y_)(e.l1BatchNumber),transactionIndex:(0,a.y_)(e.transactionIndex),shardId:(0,a.y_)(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:(0,a.y_)(e.logIndex)})))}}}),transactionRequest:(0,m.iy)({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:(0,s.NC)(e.gasPerPubdata)}:{gasPerPubdata:(0,s.NC)(y)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from((0,r.nr)(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map((e=>Array.from((0,r.nr)(e))))}:{},...e.customSignature?{customSignature:Array.from((0,r.nr)(e.customSignature))}:{}},type:"0x71"}:{}}})};var f=n(21532),p=n(28254),h=n(54353),g=n(71895),P=n(73926),b=n(27418),w=n(58017);class N extends P.G{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join("\n"),{name:"InvalidEip712TransactionError"})}}function v(e){return"eip712"===e.type||!!("customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&"bigint"==typeof e.gasPerPubdata||"factoryDeps"in e&&e.factoryDeps)}function G(e){const{chainId:t,to:n,from:a,paymaster:r,paymasterInput:s}=e;if(!v(e))throw new N;if(!t||t<=0)throw new b.hJ({chainId:t});if(n&&!(0,w.U)(n))throw new g.b({address:n});if(a&&!(0,w.U)(a))throw new g.b({address:a});if(r&&!(0,w.U)(r))throw new g.b({address:r});if(r&&!s)throw new P.G("`paymasterInput` must be provided when `paymaster` is defined");if(!r&&s)throw new P.G("`paymaster` must be provided when `paymasterInput` is defined")}const I={transaction:function(e,t){return v(e)?function(e){const{chainId:t,gas:n,nonce:a,to:r,from:o,value:i,maxFeePerGas:c,maxPriorityFeePerGas:u,customSignature:m,factoryDeps:d,paymaster:l,paymasterInput:x,gasPerPubdata:h,data:g}=e;G(e);const P=[a?(0,s.NC)(a):"0x",u?(0,s.NC)(u):"0x",c?(0,s.NC)(c):"0x",n?(0,s.NC)(n):"0x",r??"0x",i?(0,s.NC)(i):"0x",g??"0x0",(0,s.NC)(t),(0,s.NC)(""),(0,s.NC)(""),(0,s.NC)(t),o??"0x",h?(0,s.NC)(h):(0,s.NC)(y),d??[],m??"0x",l&&x?[l,x]:[]];return(0,f.SM)(["0x71",(0,p.LV)(P)])}(e):(0,h.D)(e,t)}};var C=n(41417),F=n(22119);class B extends P.G{constructor({givenLength:e,maxBytecodeSize:t}){super(`Bytecode cannot be longer than ${t} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class L extends P.G{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class T extends P.G{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}const S={formatters:x,serializers:I,custom:{getEip712Domain:e=>{G(e);const t=function(e){const{gas:t,nonce:n,to:a,from:o,value:i,maxFeePerGas:c,maxPriorityFeePerGas:u,factoryDeps:m,paymaster:d,paymasterInput:x,gasPerPubdata:f,data:p}=e;return{txType:113n,from:BigInt(o),to:a?BigInt(a):0n,gasLimit:t??0n,gasPerPubdataByteLimit:f??y,maxFeePerGas:c??0n,maxPriorityFeePerGas:u??0n,paymaster:d?BigInt(d):0n,nonce:n?BigInt(n):0n,value:i??0n,data:p||"0x0",factoryDeps:m?.map((e=>(0,s.NC)(function(e){const t=(0,r.O0)(e);if(t.length%32!=0)throw new T({givenLength:t.length});if(t.length>l)throw new B({givenLength:t.length,maxBytecodeSize:l});const n=(0,F.J)(t),a=(0,r.O0)(n),s=t.length/32;if(s%2==0)throw new L({givenLengthInWords:s});const o=(0,r.O0)(s),i=(0,C.vk)(o,{size:2}),c=new Uint8Array([1,0]);return a.set(c,0),a.set(i,2),a}(e))))??[],paymasterInput:x||"0x"}}(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}}}}}}]);
//# sourceMappingURL=9428-1c7b1559811f9782.js.map