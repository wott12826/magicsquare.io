"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4153],{44153:function(t,e,s){s.d(e,{f:function(){return c}});s(39804);var n=s(93889),o=(s(47177),s(12424),s(18635),s(43519)),r=s(29759),a=(s(38232),s(64042)),i=s(40248);s(57272);const c=()=>{const{logout:t}=(0,o.useAuth)(),{mutateAsync:e,isPending:s}=(0,a.Z)({onLogout:t}),{triggerAuthEvent:c}=(0,r.F)(),l=(0,i.e)();return{login:(0,n.useCallback)((async()=>{const t=await e({signProps:{walletType:"WalletConnect2",signType:"SIWE",message:"Confirm authorization in Magic Staking Platform with your wallet",shouldVerifyChain:!0}});t&&t.isNewUser&&(c(t.user.id,{isNewUser:!0}),l({loginMethod:"WalletConnect2"}))}),[e,c,l]),isLoading:s}}},57272:function(t,e,s){s.d(e,{Ez:function(){return n},_n:function(){return o}});s(9910);const n="https://docs.magicsquare.io/sqr-token/sqr-token/staking-usdsqr-tokens-with-magic-square",o=new URL("/staking","https://magicsquare.io")},29759:function(t,e,s){s.d(e,{default:function(){return p},F:function(){return d}});var n=s(39804),o=s(93889),r=s(56693),a=s.n(r),i=s(67781);const c={gtmId:"GTM-TL93LVD"};var l=s(85241);const u=(0,l.Rk)(),d=()=>(0,l.iN)(u),g=t=>i.Z.set("lastCampaign",t,{expires:365});var p=t=>{let{children:e}=t;(0,o.useEffect)((()=>{const t=new URLSearchParams(window.location.search),e=t.get("utm_campaign")||t.get("campaign");e&&g(e),c.gtmId&&a().initialize({gtmId:c.gtmId})}),[]);const s=(0,o.useCallback)(((t,e)=>{let{isNewUser:s}=e;const n=i.Z.get("lastCampaign");let o=null;s?o=n?"gtm.createAccountFromCampaign":"gtm.createAccount":n&&(o="gtm.loginFromCampaign"),o&&(a().dataLayer({dataLayer:{event:o,url:window.location.href,userId:t,...n?{campaignName:n}:{}}}),g(""))}),[]),r=(0,o.useMemo)((()=>({tagManager:a(),triggerAuthEvent:s})),[s]);return(0,n.jsx)(u.Provider,{value:r,children:e})}},38232:function(t,e,s){s.d(e,{H:function(){return r}});var n=s(39804),o=s(93889);var r=t=>{const e=(0,o.useId)(),s=Array.from({length:5},((t,s)=>"".concat(e,"-").concat(s)));return(0,n.jsxs)("svg",{viewBox:"0 0 70 70.5",fill:"none",...t,children:[(0,n.jsx)("path",{fill:"url(#".concat(s[0],")"),d:"M38.617 2.623c-2.933-2.83-7.691-2.83-10.626 0-2.935 2.83-2.935 7.416 0 10.246l20.102 19.384 4.726-4.558c3.259-3.141 3.259-8.237 0-11.38L38.617 2.623Z"}),(0,n.jsx)("path",{fill:"url(#".concat(s[1],")"),d:"m20.412 11.325 39.272 38.463-10.832 10.609L9.579 21.934l10.832-10.61Z"}),(0,n.jsx)("path",{fill:"url(#".concat(s[2],")"),d:"m20.426 38.747 20.112 18.99a7.455 7.455 0 0 1 0 10.573c-2.93 2.92-7.683 2.92-10.615 0L15.705 53.995c-3.256-3.243-3.256-7.302 0-10.545l4.721-4.703Z"}),(0,n.jsx)("path",{fill:"url(#".concat(s[3],")"),d:"M67.843 29.39a7.299 7.299 0 0 0-10.422 0c-2.877 2.918-2.877 7.648 0 10.567l5.21 5.285 5.212-5.285c2.876-2.919 2.876-7.649 0-10.568Z"}),(0,n.jsx)("path",{fill:"url(#".concat(s[4],")"),d:"m7.369 25.758 5.21 5.283c2.877 2.92 2.877 7.65 0 10.569a7.295 7.295 0 0 1-10.421 0c-2.877-2.92-2.877-7.65 0-10.569l5.21-5.283Z"}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:s[0],x1:"49.918",x2:"14.217",y1:"13.484",y2:"53.901",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#F170A8"}),(0,n.jsx)("stop",{offset:".474",stopColor:"#D561CE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#6EBFFA"})]}),(0,n.jsxs)("linearGradient",{id:s[1],x1:"49.918",x2:"14.217",y1:"13.484",y2:"53.901",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#F170A8"}),(0,n.jsx)("stop",{offset:".474",stopColor:"#D561CE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#6EBFFA"})]}),(0,n.jsxs)("linearGradient",{id:s[2],x1:"49.918",x2:"14.217",y1:"13.484",y2:"53.901",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#F170A8"}),(0,n.jsx)("stop",{offset:".474",stopColor:"#D561CE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#6EBFFA"})]}),(0,n.jsxs)("linearGradient",{id:s[3],x1:"49.918",x2:"14.217",y1:"13.484",y2:"53.901",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#F170A8"}),(0,n.jsx)("stop",{offset:".474",stopColor:"#D561CE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#6EBFFA"})]}),(0,n.jsxs)("linearGradient",{id:s[4],x1:"49.918",x2:"14.217",y1:"13.484",y2:"53.901",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#F170A8"}),(0,n.jsx)("stop",{offset:".474",stopColor:"#D561CE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#6EBFFA"})]})]})]})}},64042:function(t,e,s){var n=s(6843),o=s(30121),r=s(67781),a=s(53321),i=s(67330),c=s(61238),l=s(35276),u=s(97466);e.Z=t=>{let{onLogout:e}=t;const{requestSign:s,isLoading:d,setIsLoading:g}=(0,u.default)(),{mutateAsync:p}=(0,a.lM2)();return(0,o.useMutation)({mutationFn:async t=>{let{signResults:o,signProps:a,selfRequestSign:u=!0}=t;if(d)return;const f=(new Date).getTime();try{if(g(!0),n.toast.loading("Loading...",{toastId:f,style:{borderRadius:"8px",background:"#130e3a",color:"#fff"},closeOnClick:!0}),!o&&u&&(o=await s(a)),o&&Object.keys(o).length){const{signature:t,message:e,address:s,walletType:n,network:r,v2:a}=o;return await p({signature:t,message:e,address:s,walletType:n,network:r,v2:a})}r.Z.remove(i.mJ.REFERRAL),r.Z.remove(i.mJ.LOGGED_INTO_MAGIC_BOOST)}catch(t){const s=(0,c.S)(t);if(s.message===i.dT.SIGNATURE_VERIFICATION_HAS_FAILED)throw s;(0,l.Z)({error:t}),e()}finally{n.toast.dismiss(f),g(!1)}}})}},40248:function(t,e,s){s.d(e,{e:function(){return a}});var n=s(83737),o=s(6831),r=s.n(o);const a=()=>{const t=(0,n.useRouter)(),e=(0,n.usePathname)();return s=>{let{pathname:n=e,query:o={},loginMethod:a}=s;const i=new URLSearchParams;r()(o)||Object.entries(o).forEach((t=>{let[e,s]=t;i.set(e,String(s))})),i.set("utm_register_method",a);const c="".concat(n,"?").concat(i.toString());t.replace(c)}}}}]);