"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7240],{6250:function(e,t,n){function r(){return(null===n.g||void 0===n.g?void 0:n.g.crypto)||(null===n.g||void 0===n.g?void 0:n.g.msCrypto)||{}}function o(){const e=r();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=r,t.getSubtleCrypto=o,t.isBrowserCryptoAvailable=function(){return!!r()&&!!o()}},10587:function(e,t,n){var r=n(1323);function o(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function s(){return void 0!==r&&void 0!==r.versions&&void 0!==r.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=o,t.isNode=s,t.isBrowser=function(){return!o()&&!s()}},25560:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(45451);r.__exportStar(n(6250),t),r.__exportStar(n(10587),t)},26037:function(e,t,n){n.d(t,{q:function(){return r}});class r{}},70298:function(e,t,n){n.d(t,{C$:function(){return a},Lx:function(){return u}});var r=n(25788),o=n(2621),s=n(26037);class i extends s.q{constructor(e){super()}}const c=o.FIVE_SECONDS,u={pulse:"heartbeat_pulse"};class a extends i{constructor(e){super(e),this.events=new r.EventEmitter,this.interval=c,this.interval=e?.interval||c}static async init(e){const t=new a(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval((()=>this.pulse()),(0,o.toMiliseconds)(this.interval))}pulse(){this.events.emit(u.pulse)}}},98912:function(e,t,n){n.d(t,{Z:function(){return y},k:function(){return y}});var r=n(25788),o=n(5170),s=n.n(o),i=n(73633),c=n(78186),u=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))d.call(t,n)&&f(e,n,t[n]);if(h)for(var n of h(t))p.call(t,n)&&f(e,n,t[n]);return e},v=(e,t)=>a(e,l(t));const R={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class y{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new r.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,c.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=(0,i.u)(e),n=await(await s()(this.url,v(g({},R),{body:t}))).json();this.onPayload({data:n})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!(0,c.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(new Error("HTTP connection is missing or invalid"));e()}))}))}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=(0,i.u)({id:1,jsonrpc:"2.0",method:"test",params:[]});await s()(e,v(g({},R),{body:t}))}this.onOpen()}catch(e){const t=this.parseError(e);throw this.events.emit("register_error",t),this.onClose(),t}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,i.D)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=n.message||n.toString(),o=(0,c.formatJsonRpcError)(e,r);this.events.emit("payload",o)}parseError(e,t=this.url){return(0,c.parseConnectionError)(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}},11632:function(e,t,n){n.d(t,{r:function(){return s}});var r=n(25788),o=n(78186);class s extends o.IJsonRpcProvider{constructor(e){super(e),this.events=new r.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,o.formatJsonRpcRequest)(e.method,e.params||[],e.id||(0,o.getBigIntRpcId)().toString()),t)}async requestStrict(e,t){return new Promise((async(n,r)=>{if(!this.connection.connected)try{await this.open()}catch(e){r(e)}this.events.on(`${e.id}`,(e=>{(0,o.isJsonRpcError)(e)?r(e.error):n(e.result)}));try{await this.connection.send(e,t)}catch(e){r(e)}}))}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,o.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(e=>this.onPayload(e))),this.connection.on("close",(e=>this.onClose(e))),this.connection.on("error",(e=>this.events.emit("error",e))),this.connection.on("register_error",(e=>this.onClose())),this.hasRegisteredEventListeners=!0)}}},12358:function(e,t,n){n.d(t,{CA:function(){return u},JV:function(){return h},O4:function(){return c},dQ:function(){return a},xK:function(){return l}});const r="PARSE_ERROR",o="INVALID_REQUEST",s="METHOD_NOT_FOUND",i="INVALID_PARAMS",c="INTERNAL_ERROR",u="SERVER_ERROR",a=[-32700,-32600,-32601,-32602,-32603],l={[r]:{code:-32700,message:"Parse error"},[o]:{code:-32600,message:"Invalid Request"},[s]:{code:-32601,message:"Method not found"},[i]:{code:-32602,message:"Invalid params"},[c]:{code:-32603,message:"Internal error"},[u]:{code:-32e3,message:"Server error"}},h=u},48552:function(e,t,n){var r=n(25560);n.o(r,"IJsonRpcProvider")&&n.d(t,{IJsonRpcProvider:function(){return r.IJsonRpcProvider}}),n.o(r,"formatJsonRpcError")&&n.d(t,{formatJsonRpcError:function(){return r.formatJsonRpcError}}),n.o(r,"formatJsonRpcRequest")&&n.d(t,{formatJsonRpcRequest:function(){return r.formatJsonRpcRequest}}),n.o(r,"formatJsonRpcResult")&&n.d(t,{formatJsonRpcResult:function(){return r.formatJsonRpcResult}}),n.o(r,"getBigIntRpcId")&&n.d(t,{getBigIntRpcId:function(){return r.getBigIntRpcId}}),n.o(r,"isHttpUrl")&&n.d(t,{isHttpUrl:function(){return r.isHttpUrl}}),n.o(r,"isJsonRpcError")&&n.d(t,{isJsonRpcError:function(){return r.isJsonRpcError}}),n.o(r,"isJsonRpcRequest")&&n.d(t,{isJsonRpcRequest:function(){return r.isJsonRpcRequest}}),n.o(r,"isJsonRpcResponse")&&n.d(t,{isJsonRpcResponse:function(){return r.isJsonRpcResponse}}),n.o(r,"isJsonRpcResult")&&n.d(t,{isJsonRpcResult:function(){return r.isJsonRpcResult}}),n.o(r,"isLocalhostUrl")&&n.d(t,{isLocalhostUrl:function(){return r.isLocalhostUrl}}),n.o(r,"isReactNative")&&n.d(t,{isReactNative:function(){return r.isReactNative}}),n.o(r,"isWsUrl")&&n.d(t,{isWsUrl:function(){return r.isWsUrl}}),n.o(r,"payloadId")&&n.d(t,{payloadId:function(){return r.payloadId}})},49448:function(e,t,n){n.d(t,{CX:function(){return c},L2:function(){return i},by:function(){return s},i5:function(){return o}});var r=n(12358);function o(e){return r.dQ.includes(e)}function s(e){return Object.keys(r.xK).includes(e)?r.xK[e]:r.xK[r.JV]}function i(e){const t=Object.values(r.xK).find((t=>t.code===e));return t||r.xK[r.JV]}function c(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}},93468:function(e,t,n){n.d(t,{CS:function(){return i},RI:function(){return a},o0:function(){return s},sT:function(){return c},tm:function(){return u}});var r=n(49448),o=n(12358);function s(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function i(e=6){return BigInt(s(e))}function c(e,t,n){return{id:n||s(),jsonrpc:"2.0",method:e,params:t}}function u(e,t){return{id:e,jsonrpc:"2.0",result:t}}function a(e,t,n){return{id:e,jsonrpc:"2.0",error:l(t,n)}}function l(e,t){return void 0===e?(0,r.by)(o.O4):("string"==typeof e&&(e=Object.assign(Object.assign({},(0,r.by)(o.CA)),{message:e})),void 0!==t&&(e.data=t),(0,r.i5)(e.code)&&(e=(0,r.L2)(e.code)),e)}},78186:function(e,t,n){n.d(t,{IJsonRpcProvider:function(){return i.x0},formatJsonRpcError:function(){return s.RI},formatJsonRpcRequest:function(){return s.sT},formatJsonRpcResult:function(){return s.tm},getBigIntRpcId:function(){return s.CS},isHttpUrl:function(){return c.jK},isJsonRpcError:function(){return u.jg},isJsonRpcRequest:function(){return u.DW},isJsonRpcResponse:function(){return u.u},isJsonRpcResult:function(){return u.k4},isLocalhostUrl:function(){return c.JF},isWsUrl:function(){return c.UZ},parseConnectionError:function(){return r.CX},payloadId:function(){return s.o0}});n(12358);var r=n(49448),o=n(48552);n.o(o,"IJsonRpcProvider")&&n.d(t,{IJsonRpcProvider:function(){return o.IJsonRpcProvider}}),n.o(o,"formatJsonRpcError")&&n.d(t,{formatJsonRpcError:function(){return o.formatJsonRpcError}}),n.o(o,"formatJsonRpcRequest")&&n.d(t,{formatJsonRpcRequest:function(){return o.formatJsonRpcRequest}}),n.o(o,"formatJsonRpcResult")&&n.d(t,{formatJsonRpcResult:function(){return o.formatJsonRpcResult}}),n.o(o,"getBigIntRpcId")&&n.d(t,{getBigIntRpcId:function(){return o.getBigIntRpcId}}),n.o(o,"isHttpUrl")&&n.d(t,{isHttpUrl:function(){return o.isHttpUrl}}),n.o(o,"isJsonRpcError")&&n.d(t,{isJsonRpcError:function(){return o.isJsonRpcError}}),n.o(o,"isJsonRpcRequest")&&n.d(t,{isJsonRpcRequest:function(){return o.isJsonRpcRequest}}),n.o(o,"isJsonRpcResponse")&&n.d(t,{isJsonRpcResponse:function(){return o.isJsonRpcResponse}}),n.o(o,"isJsonRpcResult")&&n.d(t,{isJsonRpcResult:function(){return o.isJsonRpcResult}}),n.o(o,"isLocalhostUrl")&&n.d(t,{isLocalhostUrl:function(){return o.isLocalhostUrl}}),n.o(o,"isReactNative")&&n.d(t,{isReactNative:function(){return o.isReactNative}}),n.o(o,"isWsUrl")&&n.d(t,{isWsUrl:function(){return o.isWsUrl}}),n.o(o,"payloadId")&&n.d(t,{payloadId:function(){return o.payloadId}});var s=n(93468),i=n(71745),c=n(37814),u=n(87644)},71745:function(e,t,n){n.d(t,{x0:function(){return s}});class r{}class o extends r{constructor(){super()}}class s extends o{constructor(e){super()}}},37814:function(e,t,n){n.d(t,{JF:function(){return u},UZ:function(){return c},jK:function(){return i}});const r="^https?:",o="^wss?:";function s(e,t){const n=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==n&&new RegExp(t).test(n)}function i(e){return s(e,r)}function c(e){return s(e,o)}function u(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}},87644:function(e,t,n){function r(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function o(e){return r(e)&&"method"in e}function s(e){return r(e)&&(i(e)||c(e))}function i(e){return"result"in e}function c(e){return"error"in e}n.d(t,{DW:function(){return o},jg:function(){return c},k4:function(){return i},u:function(){return s}})},63283:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(25788),o=n(73633),s=n(78186);const i=e=>e.split("?")[0],c=typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:n(80324);class u{constructor(e){if(this.url=e,this.events=new r.EventEmitter,this.registering=!1,!(0,s.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise(((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())}))}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,o.u)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!(0,s.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)}))}))}return this.url=e,this.registering=!0,new Promise(((t,r)=>{const o=new URLSearchParams(e).get("origin"),i=(0,s.isReactNative)()?{headers:{origin:o}}:{rejectUnauthorized:!(0,s.isLocalhostUrl)(e)},u=new c(e,[],i);typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?u.onerror=e=>{const t=e;r(this.emitError(t.error))}:u.on("error",(e=>{r(this.emitError(e))})),u.onopen=()=>{this.onOpen(u),t(u)}}))}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,o.D)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=n.message||n.toString(),o=(0,s.formatJsonRpcError)(e,r);this.events.emit("payload",o)}parseError(e,t=this.url){return(0,s.parseConnectionError)(e,i(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${i(this.url)}`));return this.events.emit("register_error",t),t}}},11899:function(e,t,n){n.d(t,{Ep:function(){return J},Fd:function(){return I},Rt:function(){return C},gw:function(){return o.a},jI:function(){return L}});var r=n(8281),o=n.n(r),s=n(73633);const i={level:"info"},c="custom_context",u=1024e3;class a{constructor(e){this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class l{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new a(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}class h{constructor(e,t=u){this.level=e??"error",this.levelValue=r.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new l(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===r.levels.values.error?console.error(e):t===r.levels.values.warn?console.warn(e):t===r.levels.values.debug?console.debug(e):t===r.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,s.u)({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new l(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push((0,s.u)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}class d{constructor(e,t=u){this.baseChunkLogger=new h(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download=`walletconnect-logs-${(new Date).toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}class p{constructor(e,t=u){this.baseChunkLogger=new h(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var f=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&w(e,n,t[n]);if(R)for(var n of R(t))m.call(t,n)&&w(e,n,t[n]);return e},E=(e,t)=>g(e,v(t));function L(e){return E(b({},e),{level:e?.level||i.level})}function I(e,t=c){let n="";return n=typeof e.bindings>"u"?function(e,t=c){return e[t]||""}(e,t):e.bindings().context||"",n}function J(e,t,n=c){const r=function(e,t,n=c){const r=I(e,n);return r.trim()?`${r}/${t}`:t}(e,t,n);return function(e,t,n=c){return e[n]=t,e}(e.child({context:r}),r,n)}function C(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n;const r=new d(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:o()(E(b({},e.opts),{level:"trace",browser:E(b({},null==(n=e.opts)?void 0:n.browser),{write:e=>r.write(e)})})),chunkLoggerController:r}}(e):function(e){var t;const n=new p(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:o()(E(b({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}(e)}}}]);