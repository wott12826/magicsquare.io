"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7724],{47806:function(e,t,a){a.d(t,{Z:function(){return re},L:function(){return le}});var s=a(39804),n=a(93889),l=a(35734),r=a(6843),o=a(47177),i=a.n(o),c=a(97128),d=a(27779),m=a(43519),u=a(29759),x=a(35276),p=a(17753),h=a(44153),f=a(44972),g=a(71287),b=a(94619),j=a(94095),v=a(42103),N=a(84503),k=a(67330),y=a(85385),S=a(61912),A=a(7253);const w=()=>{const{isAuth:e}=(0,m.useAuth)(),{setValue:t,formState:a}=le(),{data:l}=(0,g.Z)(),{updateReceiveAmount:r,updateSqrpAmount:o}=(0,A.Z)(),c=(0,n.useMemo)((()=>!e||a.disabled),[e,a.disabled]);return(0,s.jsxs)("span",{className:"inline-flex gap-1 item-center font-medium",children:[(0,s.jsxs)("span",{className:"inline-flex whitespace-nowrap items-center gap-1",children:[l?null==l?void 0:l.formatted:"0"," $SQR",(0,s.jsx)(N.Z,{content:"Available $SQR in your wallet for staking"})]}),(0,s.jsx)("button",{type:"button",disabled:c,onClick:()=>{const e=(null==l?void 0:l.formatted)||"0";t("amount",e),r({amount:e}),o({amount:e})},className:i()({"text-primary-700":e&&!a.disabled,"text-neutral-400 cursor-not-allowed":!e||a.disabled}),children:"MAX"})]})},R=1e9;var T=e=>{let{className:t,disabled:a}=e;const{control:n}=le(),r=(0,S.Z)(),{updateReceiveAmount:o,updateSqrpAmount:c}=(0,A.Z)(),{data:d}=(0,g.Z)(),{minStake:m=y.Tw,maxStake:u=y.Te}=r||{};return(0,s.jsxs)("div",{className:i()("flex flex-col gap-1",t),children:[(0,s.jsxs)("div",{className:"flex justify-between items-baseline gap-2.5 max-md:text-xs font-medium leading-7",children:[(0,s.jsx)("label",{htmlFor:"staking-amount",children:(0,s.jsx)("span",{className:"inline-block",children:"Select Your $SQR Staking Amount"})}),(0,s.jsx)("div",{className:"inline-block",children:(0,s.jsx)(w,{})})]}),(0,s.jsx)(l.Qr,{control:n,name:"amount",disabled:a,rules:{validate:{isRequired:e=>{if(!e)return"Field is required"},isGreaterThanZero:e=>{if(0===Number(e))return"Should be greater than 0"},isGreaterThanMin:e=>{if(0!==m)return Number(e)<m?"Should be greater than or equal to ".concat(m):void 0},isLessOrEqualToBalance:e=>{if(d&&Number(e)>Number(d.formatted))return"You don’t have enough tokens"},isLessOrEqualToMax:e=>{if(0!==u)return Number(e)>u?"Should be less than or equal to ".concat(u):void 0}}},render:e=>{let{field:{value:t,ref:a,onChange:n,...l},fieldState:r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.h3,{getInputRef:a,className:i()("rounded-full text-field max-md:text-base text-sm",{"text-field-error":r.error}),id:"staking-amount",allowNegative:!1,decimalScale:k.Yv.decimals,thousandSeparator:!0,isAllowed:e=>!e.floatValue||0===u||e.floatValue<=R,value:t,onValueChange:(e,t)=>{"prop"!==t.source&&(n(e.value),(e=>{o({amount:e}),c({amount:e})})(e.value))},placeholder:"0.00",...l}),!!r.error&&(0,s.jsx)("p",{className:"form-control-helper-text form-control-helper-text-error",children:r.error.message})]})}})]})},Z=a(81815),Q=a(40207);var C=e=>{let{className:t}=e;const{control:a}=le(),r=(0,S.Z)(),{updateAmount:o,updateSqrpAmount:c,updateAmountBasedOnSqrp:d,updateReceiveAmount:m}=(0,A.Z)(),{maxReceiveAmount:u,maxSqrp:x}=(0,n.useMemo)((()=>r?{maxReceiveAmount:(0,y.CW)({amount:R,stakingType:r}),maxSqrp:(0,y.eo)({amount:R,stakingType:r})}:{maxReceiveAmount:Z.O$.from(0),maxSqrp:Z.O$.from(0)}),[r]);return(0,s.jsxs)("div",{className:i()("flex flex-col gap-1",t),children:[(0,s.jsx)("div",{className:"flex justify-between",children:(0,s.jsxs)("label",{htmlFor:"staking-result",className:"font-medium inline-flex leading-7 items-center gap-1",children:["Your $SQR and SQRp Earnings",(0,s.jsx)(N.Z,{content:"Earnings based on chosen $SQR stake amount and staking duration."})]})}),(0,s.jsxs)("div",{className:"flex max-sm:flex-col gap-4",children:[(0,s.jsx)(l.Qr,{control:a,name:"receiveAmount",render:e=>{let{field:{onChange:t,value:a,ref:n,...l}}=e;return(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)(v.h3,{getInputRef:n,className:"rounded-full text-field-base bg-[#ffeff6] border-0 text-neutral-600 pr-16 text-sm",id:"staking-result",allowNegative:!1,decimalScale:k.Yv.decimals,thousandSeparator:!0,value:a||"0",readOnly:!0,isAllowed:e=>{return!(e.floatValue&&!u.isZero())||(t=e.value,!Q.parseUnits(t||"0",k.Yv.decimals).gt(u));var t},onValueChange:(e,a)=>{"prop"!==a.source&&(t(e.value),(e=>{const t=o({receiveAmount:e});c({amount:t})})(e.value))},placeholder:"0.00",...l}),(0,s.jsx)("span",{className:"flex items-center justify-center absolute right-2 top-0 bottom-0 m-auto text-sm text-neutral-400 font-medium",children:"$SQR"})]})}}),(0,s.jsx)(l.Qr,{control:a,name:"sqrpAmount",render:e=>{let{field:{onChange:t,value:a,ref:n,...l}}=e;return(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)(v.h3,{getInputRef:n,className:"rounded-full text-field-base bg-[#ffeff6] text-neutral-600 border-0 pr-16 text-sm",allowNegative:!1,decimalScale:k.Yv.decimals,thousandSeparator:!0,readOnly:!0,value:a||"0",isAllowed:e=>{return!(e.floatValue&&!u.isZero())||(t=e.value,!Q.parseUnits(t||"0",k.Yv.decimals).gt(x));var t},onValueChange:(e,a)=>{"prop"!==a.source&&(t(e.value),(e=>{const t=d({sqrp:e});m({amount:t||""})})(e.value))},placeholder:"0.00",...l}),(0,s.jsx)("span",{className:"flex items-center justify-center absolute right-2 top-0 bottom-0 m-auto text-sm text-neutral-400 font-medium",children:"SQRp"})]})}})]})]})},q=a(71122),F=a(90241);var P=e=>{let{className:t}=e;const{control:a}=le(),n=(0,l.qo)({control:a}),r=(0,S.Z)(),o=[{label:"You are going to stake",content:n.amount?"".concat((0,d.w)(+n.amount)):"—"},{label:"Locked for",content:r?"".concat(r.lockPeriodInSeconds/F.gM," days"):"—"},{label:(0,s.jsxs)(s.Fragment,{children:["You’ll receive",(0,s.jsx)(N.Z,{className:"align-middle",content:"Amount reflects your initial stake plus yield, claimable at period end."})]}),content:n.receiveAmount?"".concat((0,d.w)(+n.receiveAmount)):"—"}];return(0,s.jsx)("ul",{className:i()("flex flex-col gap-2",t),children:o.map(((e,t)=>(0,s.jsxs)("li",{className:"flex justify-between gap-2 items-center text-sm",children:[(0,s.jsx)("span",{className:"font-bold text-neutral-600",children:e.label}),(0,s.jsx)("span",{className:"font-medium text-neutral-500",children:e.content})]},t)))})},$=a(53321),V=a(12424),Y=a(78637),E=a(74683),I=a(14570),L=a(12651),M=a(8025),O=a(94490);var U=e=>{let{className:t}=e;const{data:a,isLoading:n}=(0,$.SSU)(),l=(0,M.G0)(),{userEvmWallet:r}=(0,m.useAuth)(),o=O.K.map((e=>{let{Icon:t}=e;return t}));return(0,s.jsxs)("div",{className:i()("flex gap-2 max-sm:flex-col",t),children:[(0,s.jsx)(V.L,{trigger:e=>{let{triggerProps:{onClick:t,...a}}=e;return(0,s.jsxs)("button",{type:"button",onClick:e=>{t&&"function"==typeof t&&t(e)},className:"flex-1 text-sm flex justify-center items-center w-full bg-primary-100 rounded-lg py-3 px-2 gap-2 hover:bg-primary-200 transition-colors",...a,children:[(0,s.jsx)(L.Z,{disabled:n,icons:o,className:"size-6",iconContainerClassName:"rounded-full bg-neutral-50 p-1"}),(0,s.jsx)("span",{className:"flex flex-col",children:(0,s.jsx)("span",{className:"font-semibold",children:"Buy $SQR with Crypto"})})]})},children:O.K.map((e=>{let{label:t,Icon:a,href:n}=e;return(0,s.jsxs)(V.h,{Component:Y.Z,className:"flex items-center gap-2",label:t,href:n,children:[(0,s.jsx)(a,{className:"icon"}),t]},t)}))}),(null==a?void 0:a.banxaSqrTokenSource)&&(0,s.jsxs)("button",{type:"button",className:"flex-1 text-sm flex justify-center items-center w-full bg-primary-100 rounded-lg py-3 px-2 gap-2 hover:bg-primary-200 transition-colors",onClick:()=>{l.open({walletAddress:null==r?void 0:r.attributes.address,productName:"Magic Staking"})},children:[(0,s.jsx)(L.Z,{icons:[I.C,E.X],className:"size-6",iconContainerClassName:"rounded-full bg-neutral-50 p-1"}),(0,s.jsx)("span",{className:"flex flex-col",children:(0,s.jsx)("span",{className:"font-semibold",children:"Buy $SQR with Card"})})]})]})},B=a(94173),_=a(23026);var z=e=>{let{className:t}=e;const{user:a}=(0,m.useAuth)(),{data:n,isLoading:l}=(0,$.ckX)(),{data:r,isLoading:o}=(0,_.Z)(),{data:i,isLoading:u}=(0,B.Z)(),x=[{label:"SQRv Balance",tooltip:(0,s.jsxs)(s.Fragment,{children:["This is your Total Voting Power (TVP), expressed in ",(0,s.jsx)("b",{children:"SQRv points"}),", calculated as"," ",(0,s.jsx)("b",{children:"TVP = BVP + TSVP"}),". ",(0,s.jsx)("b",{children:"BVP"})," is the number of SQR tokens you hold, and ",(0,s.jsx)("b",{children:"TSVP"})," ","depends on how many SQR tokens you stake and the duration of your stake (Not real-time, 1-hour delay)."]}),content:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{amount:(null==n?void 0:n.score)||0})," $SQRv"]})},{label:"Membership",tooltip:"Amount of SQR you locked to get Membership on MagicStore",content:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{amount:(null==i?void 0:i.data.attributes.membership)||0})," $SQR"]})},{label:"Staking",tooltip:"Amount of tokens you locked in Staking Pools",content:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{amount:r||0})," $SQR"]})}],p=l||o||u;return(0,s.jsx)(c.UO,{isOpen:!!a&&!p,children:(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:"My Total Staked"}),(0,s.jsx)("ul",{className:"flex max-sm:flex-col max-sm:gap-2 gap-4",children:x.map(((e,t)=>(0,s.jsxs)("li",{className:"min-w-0 flex flex-col gap-1 shrink-1 rounded-lg p-4 flex-1 bg-primary-50",children:[(0,s.jsxs)("span",{className:"inline-flex flex-row gap-1 text-neutral-500 font-medium whitespace-nowrap",children:[(0,s.jsx)("span",{className:"block overflow-hidden text-ellipsis",children:e.label}),(0,s.jsx)(N.Z,{title:e.label,content:e.tooltip})]}),(0,s.jsx)("span",{className:"text-sm font-bold whitespace-nowrap overflow-hidden text-ellipsis",children:e.content})]},t)))})]})})},D=a(15725),G=a(4652),W=a(91204),H=a(15452),X=a(36172);const K={lockPeriod:{label:"Lock Period",tooltip:"Duration in days your $SQR tokens are locked",render:e=>{let{stakingType:t}=e;return t.lockPeriodInSeconds/F.gM}},apr:{label:"APR",tooltip:"Yearly earnings rate on staked tokens, as a percentage.",render:e=>{let{stakingType:t}=e;return(0,y.Q1)(t.apr)}},poolSize:{label:"Pool Size",render:e=>{let{stakingType:t,isAuth:a}=e;return t.contractAddress?(0,s.jsxs)(s.Fragment,{children:[(0,X.FO)(t.totalStaked),"/",(0,X.FO)(t.limit),(0,s.jsx)(N.Z,{content:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"text-nowrap",children:["Current stakes amount: ",(0,y.As)(t.totalStaked)," SQR"]}),(0,s.jsxs)("p",{className:"text-nowrap",children:["Max stakes amount: ",(0,y.As)(t.limit)," SQR"]}),(0,s.jsxs)("p",{className:"text-nowrap",children:["Max stake size ",(0,y.As)(t.maxStake)," SQR per wallet"]}),a&&(0,s.jsxs)("p",{className:"text-nowrap",children:["You staked ",(0,y.As)(t.userStaked)," SQR so far"]})]})})]}):(0,s.jsx)(s.Fragment,{children:"TBA"})}},sqrp:{label:"SQRp",tooltip:"Percentage of launchpad allocation points you earn, based on $SQR staked and staking duration.",render:e=>{let{stakingType:t}=e;return t.contractAddress?(0,y.Q1)(t.aprSqrp):"TBA"}}},J=e=>{let{className:t}=e;return(0,s.jsxs)("span",{className:i()("min-h-4 px-1 inline-flex gap-1 items-center rounded-[0.25rem] bg-secondary-700 font-semibold text-neutral-50 text-xs",t),children:[(0,s.jsx)(G.s,{className:"icon-2xs"})," HOT"]})},ee=e=>{let{className:t,name:a,value:n,disabled:l,options:r,onChange:o}=e;const{isAuth:d}=(0,m.useAuth)(),u="px-4 grid grid-cols-[1fr_1fr_1fr_minmax(115px,1fr)]";return(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)("div",{className:i()("py-2 bg-primary-50 rounded-lg text-xs",u),children:[K.lockPeriod,K.apr,K.poolSize,K.sqrp].map(((e,t)=>(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:"align-middle",children:e.label}),e.tooltip&&(0,s.jsx)(N.Z,{className:"align-middle",content:e.tooltip})]},t)))}),(0,s.jsx)("div",{className:"flex flex-col",children:r.map((e=>{if(e.hidden)return null;const t=K.lockPeriod.render({stakingType:e,isAuth:d});return(0,s.jsxs)("label",{className:i()("text-sm sm:text-base items-center min-h-[56px] border-b border-primary-100",u,{"cursor-pointer":e.enabled}),children:[(0,s.jsxs)("span",{className:"font-medium break-words flex items-center",children:[(0,s.jsx)("span",{className:"min-w-9",children:t}),e.hot&&(0,s.jsx)(J,{})]}),(0,s.jsx)("span",{className:i()({"text-neutral-400":!e.enabled}),children:K.apr.render({stakingType:e,isAuth:d})}),(0,s.jsx)("span",{className:i()({"text-neutral-400":!e.enabled}),children:K.poolSize.render({stakingType:e,isAuth:d})}),(0,s.jsxs)("span",{className:"flex gap-2.5 items-center",children:[(0,s.jsx)("span",{className:i()("mr-auto",{"text-neutral-400":!e.enabled}),children:K.sqrp.render({stakingType:e,isAuth:d})}),(0,s.jsx)(c.EU,{name:a,value:e.id,disabled:l||!e.enabled,onChange:()=>{null==o||o(e.id)},checked:n===e.id}),(0,s.jsx)("a",{rel:"noreferrer",target:"_blank",className:i()("icon-button button-text-primary",{"text-neutral-400":!e.enabled}),href:e.contractAddress?"https://bscscan.com/address/".concat(e.contractAddress):void 0,children:(0,s.jsx)(W.R,{className:"icon"})})]})]},e.id)}))})]})},te=e=>{let{className:t,disabled:a,value:n,name:l,options:r,onChange:o}=e;const{isAuth:d}=(0,m.useAuth)();return(0,s.jsx)("div",{className:i()("flex flex-col gap-4",t),children:r.map((e=>e.hidden?null:(0,s.jsxs)("label",{className:"flex flex-col p-2 border border-primary-200 rounded-lg",children:[e.hot&&(0,s.jsx)(J,{className:"mb-2.5 self-start"}),(0,s.jsxs)("span",{className:"flex gap-2.5 items-center mb-1",children:[(0,s.jsx)(c.EU,{disabled:!e.enabled||a,name:l,value:e.id,onChange:()=>{null==o||o(e.id)},checked:n===e.id}),(0,s.jsxs)("span",{className:"text-xs flex items-center break-words",children:[K.lockPeriod.render({stakingType:e,isAuth:d})," Days ",K.lockPeriod.label,K.lockPeriod.tooltip&&(0,s.jsx)(N.Z,{content:K.lockPeriod.tooltip})]}),Boolean(e.contractAddress)&&(0,s.jsx)(c.dL,{className:i()("icon-button button-text-primary icon-button-sm p-0 ml-auto",{"text-neutral-400":!e.enabled}),href:e.contractAddress?"https://bscscan.com/address/".concat(e.contractAddress):void 0,children:(0,s.jsx)(W.R,{className:"icon"})})]}),(0,s.jsxs)("span",{className:"pl-7",children:[e.enabled&&(0,s.jsx)("span",{className:"flex flex-wrap gap-x-4 gap-y-2",children:[K.apr,K.poolSize,K.sqrp].map(((t,a)=>(0,s.jsxs)("span",{className:"flex flex-col",children:[(0,s.jsxs)("span",{className:"flex items-center text-xs text-neutral-500",children:[t.label," ",t.tooltip&&(0,s.jsx)(N.Z,{content:t.tooltip})]}),(0,s.jsx)("span",{className:i()("text-sm font-semibold",{"text-neutral-400":!e.enabled}),children:t.render({stakingType:e,isAuth:d})})]},a)))}),!e.enabled&&(0,s.jsx)("span",{className:"text-sm font-semibold text-neutral-400",children:"Coming Soon"})]})]},e.id)))})};var ae=e=>{let{className:t}=e;var a;const{control:n}=le(),{updateReceiveAmount:r,updateSqrpAmount:o}=(0,A.Z)(),d=(0,D.ac)("(min-width: 568px)"),{userEvmWallet:u}=(0,m.useAuth)(),{data:x,isLoading:p,isError:h,refetch:f}=(0,b.Z)(null==u||null===(a=u.attributes)||void 0===a?void 0:a.address),g=p,j=!p&&h,v=!p&&!h&&!!(null==x?void 0:x.length);return(0,s.jsxs)("div",{className:i()("min-h-[8.875rem] flex flex-col",t),children:[g&&(0,s.jsx)(c.$j,{className:"m-auto"}),j&&(0,s.jsxs)("div",{className:"border border-red-600 rounded-lg bg-red-200 px-1 pt-1 pb-6 flex gap-1",children:[(0,s.jsx)(H.y,{className:"icon m-3 text-red-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium mt-3 mb-2",children:"Something went wrong"}),(0,s.jsx)("p",{className:"mb-3",children:"Unfortunately we were unable to download the data"}),(0,s.jsx)("button",{type:"button",onClick:()=>f(),className:"ui-button ui-button-solid-secondary lg:min-w-32 leading-4 px-3",children:"Try Again"})]})]}),v&&(0,s.jsx)(l.Qr,{control:n,name:"stakingType",render:e=>{let{field:t}=e;const a={name:t.name,value:Number(t.value),disabled:t.disabled,onChange:e=>{t.onChange(e),r({stakingSettingId:e}),o({stakingSettingId:e})}};return(0,s.jsxs)(s.Fragment,{children:[d&&(0,s.jsx)(ee,{options:x,...a}),!d&&(0,s.jsx)(te,{options:x,...a})]})}})]})},se=a(57272);var ne=e=>{let{className:t}=e;return(0,s.jsxs)("div",{className:i()("border border-[#FF991F] rounded-lg bg-[#FF991F]/10 p-1 flex gap-1 items-center",t),children:[(0,s.jsx)(H.y,{className:"icon m-3 text-yellow-600"}),(0,s.jsxs)("p",{className:"font-medium [overflow-wrap:anywhere]",children:["Make sure the website is ",(0,s.jsx)("span",{className:"text-secondary-700",children:se._n.href})]})]})};const le=()=>(0,l.Gc)();var re=e=>{let{className:t}=e;const{user:a}=(0,m.useAuth)(),{tagManager:o}=(0,u.F)(),{data:v,isPending:N}=(0,b.Z)(),{data:k,isPending:y}=(0,p.J)(),S=(0,n.useMemo)((()=>null==v?void 0:v.find((e=>!e.hidden&&e.enabled&&!!e.contractAddress))),[v]),A=(0,c._E)(),{isPending:w,error:R,mutateAsync:Z,reset:Q}=(0,f.u)(),F=(0,l.cI)({disabled:w||N||!(null==v?void 0:v.length)||!S||y,defaultValues:{amount:"",receiveAmount:"",sqrpAmount:""}}),{handleSubmit:$,reset:V,formState:Y,watch:E,setValue:I}=F,{data:L,refetch:M}=(0,g.Z)(),O=(0,h.f)(),{userEvmWallet:B}=(0,m.useAuth)(),_=!!R&&(0,j.e)(R)===f.Y,D=!!_||!!L&&0===Number(L.value);(0,n.useEffect)((()=>{S&&I("stakingType",S.id)}),[S,I]),(0,n.useEffect)((()=>{if(!_)return;const e=E((()=>{Q()}));return()=>{e.unsubscribe()}}),[E,_,Q]);const G=$((async e=>{try{const t=null==v?void 0:v.find((t=>t.id===e.stakingType));if(!t)throw new Error("Staking type is not exist");(await Z({amount:e.amount,stakeType:t})).success&&(r.toast.success("You’ve successfully staked ".concat((0,d.w)(e.amount)," SQR")),V({stakingType:t.id}),M(),o.dataLayer({dataLayer:{event:"gtm.stake",userId:null==a?void 0:a.id,stakeId:t.id}}))}catch(e){(0,x.Z)({error:e})}}));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(q.Z,{...A.props}),(0,s.jsx)(l.RV,{...F,children:(0,s.jsxs)("form",{onSubmit:G,className:i()("border border-[#EFEFEF] rounded-lg p-4 flex flex-col",t),children:[(0,s.jsx)("h1",{className:"font-semibold mb-4",children:"Stake $SQR for APR and Launchpad Allocation Points"}),(0,s.jsx)(T,{className:"mb-4"}),(0,s.jsx)(ae,{className:"mb-8"}),(0,s.jsx)(z,{className:"mb-8"}),(0,s.jsx)(C,{className:"mb-8"}),(0,s.jsx)(P,{className:"mb-8"}),(0,s.jsx)(ne,{className:"mb-4"}),(0,s.jsxs)("button",{disabled:w||D||Object.keys(Y.errors).length>0,type:"submit",className:"button button-solid-secondary min-h-12",onClick:e=>{var t;B||(O.login(),e.preventDefault()),(null==k||null===(t=k.meta)||void 0===t?void 0:t.result)||(A.open(),e.preventDefault())},children:[w&&(0,s.jsx)(c.$j,{size:"sm",color:"disabled"}),!w&&D&&"Insufficient SQR balance",!w&&!D&&"Stake"]}),(0,s.jsx)(U,{className:"mt-8"}),(0,s.jsx)("p",{className:"text-secondary-700 mt-8 text-sm font-medium text-center",children:"Important: Staked $SQR cannot be unstaked or claimed until the lock period ends."})]})})]})}},71122:function(e,t,a){var s=a(39804),n=(a(93889),a(97128)),l=a(1337);t.Z=e=>(0,s.jsx)(n.u_,{...e,children:(0,s.jsxs)(n.hz,{className:"flex flex-col items-center p-6 w-full max-w-[490px]",children:[(0,s.jsx)(n.h8,{className:"mb-4",children:"Oops"}),(0,s.jsx)(l.Z,{className:"icon-[64px] text-yellow-600 mb-[18px]"}),(0,s.jsx)("p",{className:"font-medium mb-[18px] text-center",children:"Your IP address indicates that you are attempting to access magic staking platform service from a restricted jurisdiction. As per our Terms of Use, we are unable to provide services to users from restricted jurisdictions."}),(0,s.jsx)("button",{className:"button button-solid-secondary button-lg w-full",onClick:()=>{var t;return null===(t=e.onOpenChange)||void 0===t?void 0:t.call(e,!1)},children:"Ok"})]})})},27657:function(e,t,a){a.d(t,{L:function(){return x},x:function(){return u}});var s=a(39804),n=(a(93889),a(90592)),l=a(84503),r=a(67330),o=a(74999),i=a(57272),c=a(75880),d=a(66041),m=a(85385);const u=()=>{const{data:e}=(0,d.g)(),{data:t}=(0,c.Z)(),{data:a}=(0,n.useBalance)({address:r.YR,token:r.Yv.address,chainId:r.VQ.id});return e&&t&&a?e.totalStaked+t.data.attributes.stakedTotal+(0,o.A)(a.value,a.decimals):null},x=e=>{let{className:t}=e;const a=u(),n=a?a/m.HU:null,r=[{label:"Total $SQR Locked",tooltip:"Total $SQR locked in staking or memberships",content:(0,s.jsxs)(s.Fragment,{children:[a?(c=a,new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:2}).format(c)):"-"," $SQR"]})},{label:"Circulating Supply Locked",tooltip:"Percentage of $SQR staked/locked vs. circulating supply",content:(0,s.jsx)(s.Fragment,{children:n?(o=n,o<.01?">0.01%":new Intl.NumberFormat("en-US",{style:"percent",maximumFractionDigits:2}).format(o)):"-"})}];var o,c;return(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)("ul",{className:"flex flex-col gap-4 mb-8",children:r.map(((e,t)=>{let{label:a,content:n,tooltip:r}=e;return(0,s.jsxs)("li",{className:"bg-primary-50 rounded-lg p-4 flex flex-col gap-1",children:[(0,s.jsxs)("span",{className:"font-medium inline-flex items-center gap-1 text-neutral-500",children:[a,(0,s.jsx)(l.Z,{content:r})]}),(0,s.jsx)("span",{className:"text-[2rem] leading-10 font-semibold md:text-[2.5rem] md:leading-[3rem]",children:n})]},t)}))}),(0,s.jsxs)("p",{className:"font-semibold text-xl",children:["Understanding Staking:",(0,s.jsx)("br",{}),"Access Our Guide"," ",(0,s.jsx)("a",{href:i.Ez,target:"_blank",rel:"noreferrer",className:"text-primary-700",children:"Here."})]})]})}},61912:function(e,t,a){var s=a(35734),n=a(94619),l=a(47806);t.Z=()=>{const{control:e}=(0,l.L)(),{data:t}=(0,n.Z)(),a=(0,s.qo)({control:e,name:"stakingType"});return null==t?void 0:t.find((e=>e.id===a))}},7253:function(e,t,a){var s=a(93889),n=a(40207),l=a(67330),r=a(94619),o=a(85385),i=a(47806);t.Z=()=>{const{setValue:e,getValues:t}=(0,i.L)(),{data:a}=(0,r.Z)();return(0,s.useMemo)((()=>{const s=e=>{const s=null!=e?e:t("stakingType");return null==a?void 0:a.find((e=>e.id===s))};return{updateAmount:t=>{let{receiveAmount:a}=t;if(!a||"."===a)return void e("amount","");const r=s();if(!r)return;const i=(0,o.q7)({receiveAmount:a,stakingType:r}),c=n.formatUnits(i,l.Yv.decimals);return e("amount",c),c},updateReceiveAmount:a=>{let{amount:r,stakingSettingId:i}=a;const c=null!=r?r:t("amount");if(!c||"."===c)return void e("receiveAmount","");const d=s(i);if(!d)return;const m=(0,o.CW)({amount:c,stakingType:d});e("receiveAmount",n.formatUnits(m,l.Yv.decimals))},updateSqrpAmount:a=>{let{amount:r,stakingSettingId:i}=a;const c=null!=r?r:t("amount");if(!c||"."===c)return void e("sqrpAmount","");const d=s(i);if(!d)return;const m=(0,o.eo)({amount:c,stakingType:d});e("sqrpAmount",n.formatUnits(m,l.Yv.decimals))},updateAmountBasedOnSqrp:t=>{let{sqrp:a}=t;if(!a||"."===a)return void e("amount","");const r=s();if(!r)return;const i=(0,o.iA)({sqrp:a,stakingType:r}),c=n.formatUnits(i,l.Yv.decimals);return e("amount",c),c}}}),[e,t,a])}}}]);