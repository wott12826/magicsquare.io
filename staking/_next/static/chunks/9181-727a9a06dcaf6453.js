"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9181],{30074:function(e,t,r){r.d(t,{Q:function(){return h}});var n=r(27083),o=r(36919),s=r(51579),i=r(22018);const u=new o.Logger(s.i);let c=1;function a(e,t){const r="Web3LegacyFetcher";return function(e,o){const s={method:e,params:o,id:c++,jsonrpc:"2.0"};return new Promise(((e,o)=>{this.emit("debug",{action:"request",fetcher:r,request:(0,n.deepCopy)(s),provider:this}),t(s,((t,n)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:s,provider:this}),o(t);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:n,provider:this}),n.error){const e=new Error(n.error.message);return e.code=n.error.code,e.data=n.error.data,o(e)}e(n.result)}))}))}}class h extends i.r{constructor(e,t){null==e&&u.throwArgumentError("missing provider","provider",e);let r=null,o=null,s=null;"function"==typeof e?(r="unknown:",o=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),s=e,e.request?(""===r&&(r="eip-1193:"),o=function(e){return function(t,r){null==r&&(r=[]);const o={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,n.deepCopy)(o),provider:this}),e.request(o).then((e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:o,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:o,error:e,provider:this}),e}))}}(e)):e.sendAsync?o=a(0,e.sendAsync.bind(e)):e.send?o=a(0,e.send.bind(e)):u.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),(0,n.defineReadOnly)(this,"jsonRpcFetchFunc",o),(0,n.defineReadOnly)(this,"provider",s)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}},48307:function(e,t,r){r.d(t,{q:function(){return d}});var n=r(81815),o=r(27083),s=r(22018),i=r(36919),u=r(51579);let c=null;try{if(c=WebSocket,null==c)throw new Error("inject please")}catch(e){const t=new i.Logger(u.i);c=function(){t.throwError("WebSockets not supported in this environment",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var a=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function u(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}c((n=n.apply(e,t||[])).next())}))};const h=new i.Logger(u.i);let l=1;class d extends s.r{constructor(e,t){"any"===t&&h.throwError("WebSocketProvider does not support 'any' network yet",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super("string"==typeof e?e:"_websocket",t),this._pollingInterval=-1,this._wsReady=!1,"string"==typeof e?(0,o.defineReadOnly)(this,"_websocket",new c(this.connection.url)):(0,o.defineReadOnly)(this,"_websocket",e),(0,o.defineReadOnly)(this,"_requests",{}),(0,o.defineReadOnly)(this,"_subs",{}),(0,o.defineReadOnly)(this,"_subIds",{}),(0,o.defineReadOnly)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((e=>{this.websocket.send(this._requests[e].payload)}))},this.websocket.onmessage=e=>{const t=e.data,r=JSON.parse(t);if(null!=r.id){const e=String(r.id),n=this._requests[e];if(delete this._requests[e],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let e=null;r.error?(e=new Error(r.error.message||"unknown error"),(0,o.defineReadOnly)(e,"code",r.error.code||null),(0,o.defineReadOnly)(e,"response",t)):e=new Error("unknown error"),n.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval((()=>{this.emit("poll")}),1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){h.throwError("cannot reset events block on WebSocketProvider",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){h.throwError("cannot set polling interval on WebSocketProvider",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return a(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&h.throwError("cannot set polling on WebSocketProvider",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=l++;return new Promise(((n,o)=>{const s=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(s),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?o(e):n(t)},payload:s},this._wsReady&&this.websocket.send(s)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return a(this,void 0,void 0,(function*(){let n=this._subIds[e];null==n&&(n=Promise.all(t).then((e=>this.send("eth_subscribe",e))),this._subIds[e]=n);const o=yield n;this._subs[o]={tag:e,processFunc:r}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=n.O$.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{e&&this.emit(t,e)}))};t(e),this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>"tx"===e.type)).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter((e=>"tx"===e.type)).length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then((e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))})))}destroy(){return a(this,void 0,void 0,(function*(){this.websocket.readyState===c.CONNECTING&&(yield new Promise((e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}}))),this.websocket.close(1e3)}))}}},88132:function(e,t,r){r.r(t),r.d(t,{randomBytes:function(){return n.O},shuffled:function(){return o.y}});var n=r(6190),o=r(31176)},6190:function(e,t,r){r.d(t,{O:function(){return c}});var n=r(79527),o=r(36919);const s=new o.Logger("random/5.7.0");const i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();let u=i.crypto||i.msCrypto;function c(e){(e<=0||e>1024||e%1||e!=e)&&s.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return u.getRandomValues(t),(0,n.arrayify)(t)}u&&u.getRandomValues||(s.warn("WARNING: Missing strong random number source"),u={getRandomValues:function(e){return s.throwError("no secure random source avaialble",o.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}})},31176:function(e,t,r){function n(e){for(let t=(e=e.slice()).length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}r.d(t,{y:function(){return n}})},98049:function(e,t,r){r.r(t),r.d(t,{decode:function(){return d},encode:function(){return a}});var n=r(79527),o=r(36919);const s=new o.Logger("rlp/5.7.0");function i(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function u(e,t,r){let n=0;for(let o=0;o<r;o++)n=256*n+e[t+o];return n}function c(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(c(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=i(t.length);return r.unshift(247+r.length),r.concat(t)}(0,n.isBytesLike)(e)||s.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call((0,n.arrayify)(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=i(t.length);return r.unshift(183+r.length),r.concat(t)}function a(e){return(0,n.hexlify)(c(e))}function h(e,t,r,n){const i=[];for(;r<t+1+n;){const u=l(e,r);i.push(u.result),(r+=u.consumed)>t+1+n&&s.throwError("child data too short",o.Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function l(e,t){if(0===e.length&&s.throwError("data too short",o.Logger.errors.BUFFER_OVERRUN,{}),e[t]>=248){const r=e[t]-247;t+1+r>e.length&&s.throwError("data short segment too short",o.Logger.errors.BUFFER_OVERRUN,{});const n=u(e,t+1,r);return t+1+r+n>e.length&&s.throwError("data long segment too short",o.Logger.errors.BUFFER_OVERRUN,{}),h(e,t,t+1+r,r+n)}if(e[t]>=192){const r=e[t]-192;return t+1+r>e.length&&s.throwError("data array too short",o.Logger.errors.BUFFER_OVERRUN,{}),h(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;t+1+r>e.length&&s.throwError("data array too short",o.Logger.errors.BUFFER_OVERRUN,{});const i=u(e,t+1,r);t+1+r+i>e.length&&s.throwError("data array too short",o.Logger.errors.BUFFER_OVERRUN,{});return{consumed:1+r+i,result:(0,n.hexlify)(e.slice(t+1+r,t+1+r+i))}}if(e[t]>=128){const r=e[t]-128;t+1+r>e.length&&s.throwError("data too short",o.Logger.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:(0,n.hexlify)(e.slice(t+1,t+1+r))}}return{consumed:1,result:(0,n.hexlify)(e[t])}}function d(e){const t=(0,n.arrayify)(e),r=l(t,0);return r.consumed!==t.length&&s.throwArgumentError("invalid rlp data","data",e),r.result}},52330:function(e,t,r){r.r(t),r.d(t,{SupportedAlgorithm:function(){return o.p},computeHmac:function(){return n.Gy},ripemd160:function(){return n.bP},sha256:function(){return n.JQ},sha512:function(){return n.o}});var n=r(68242),o=r(23658)},68242:function(e,t,r){r.d(t,{Gy:function(){return d},bP:function(){return a},JQ:function(){return h},o:function(){return l}});var n=r(99322),o=r.n(n),s=r(79527),i=r(23658),u=r(36919);const c=new u.Logger("sha2/5.7.0");function a(e){return"0x"+o().ripemd160().update((0,s.arrayify)(e)).digest("hex")}function h(e){return"0x"+o().sha256().update((0,s.arrayify)(e)).digest("hex")}function l(e){return"0x"+o().sha512().update((0,s.arrayify)(e)).digest("hex")}function d(e,t,r){return i.p[e]||c.throwError("unsupported algorithm "+e,u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+o().hmac(o()[e],(0,s.arrayify)(t)).update((0,s.arrayify)(r)).digest("hex")}},23658:function(e,t,r){var n;r.d(t,{p:function(){return n}}),function(e){e.sha256="sha256",e.sha512="sha512"}(n||(n={}))}}]);