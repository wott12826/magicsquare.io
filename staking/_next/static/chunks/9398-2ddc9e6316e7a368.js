"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9398],{12604:function(e,t,n){n.d(t,{R:function(){return c}});var r=n(94708),a=n(13696),i=n(56704),s=n(59540);function o(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}async function c({hash:e,signature:t}){return(0,r.y)(await async function({hash:e,signature:t}){const r=(0,a.v)(e)?e:(0,s.NC)(e),{secp256k1:c}=await Promise.all([n.e(3068),n.e(4186)]).then(n.bind(n,16604));return`0x${(()=>{if("object"==typeof t&&"r"in t&&"s"in t){const{r:e,s:n,v:r,yParity:a}=t,s=o(Number(a??r));return new c.Signature((0,i.y_)(e),(0,i.y_)(n)).addRecoveryBit(s)}const e=(0,a.v)(t)?t:(0,s.NC)(t),n=o((0,i.ly)(`0x${e.slice(130)}`));return c.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(n)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}({hash:e,signature:t}))}},23321:function(e,t,n){n.d(t,{mF:function(){return d}});var r=n(71895),a=n(3785),i=n(89746),s=n(58017),o=n(59540);function c(e){if(e&&0!==e.length)return e.reduce(((e,{slot:t,value:n})=>{if(66!==t.length)throw new a.W_({size:t.length,targetSize:66,type:"hex"});if(66!==n.length)throw new a.W_({size:n.length,targetSize:66,type:"hex"});return e[t]=n,e}),{})}function u(e){const{balance:t,nonce:n,state:r,stateDiff:a,code:s}=e,u={};if(void 0!==s&&(u.code=s),void 0!==t&&(u.balance=(0,o.eC)(t)),void 0!==n&&(u.nonce=(0,o.eC)(n)),void 0!==r&&(u.state=c(r)),void 0!==a){if(u.state)throw new i.Z8;u.stateDiff=c(a)}return u}function d(e){if(!e)return;const t={};for(const{address:n,...a}of e){if(!(0,s.U)(n,{strict:!1}))throw new r.b({address:n});if(t[n])throw new i.Nc({address:n});t[n]=u(a)}return t}},34671:function(e,t,n){n.d(t,{P:function(){return r}});const r=(e,t,n)=>JSON.stringify(e,((e,n)=>{const r="bigint"==typeof n?n.toString():n;return"function"==typeof t?t(e,r):r}),n)},18715:function(e,t,n){n.d(t,{F:function(){return u}});var r=n(93805),a=n(37569),i=n(71895),s=n(59316),o=n(36398),c=n(58017);function u(e){const{account:t,gasPrice:n,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f}=e,m=t?(0,r.T)(t):void 0;if(m&&!(0,c.U)(m.address))throw new i.b({address:m.address});if(f&&!(0,c.U)(f))throw new i.b({address:f});if(void 0!==n&&(void 0!==u||void 0!==d))throw new o.xY;if(u&&u>a.zL)throw new s.Hh({maxFeePerGas:u});if(d&&u&&d>u)throw new s.cs({maxFeePerGas:u,maxPriorityFeePerGas:d})}},4052:function(e,t,n){n.d(t,{l:function(){return a}});var r=n(36398);function a(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new r.j3({transaction:e})}},6203:function(e,t,n){n.d(t,{g:function(){return s}});var r=n(71895),a=n(36398),i=n(58017);function s(e){if(!e||0===e.length)return[];const t=[];for(let n=0;n<e.length;n++){const{address:s,storageKeys:o}=e[n];for(let e=0;e<o.length;e++)if(o[e].length-2!=64)throw new a.JC({storageKey:o[e]});if(!(0,i.U)(s,{strict:!1}))throw new r.b({address:s});t.push([s,o])}return t}},21842:function(e,t,n){n.d(t,{D:function(){return G},d:function(){return F}});var r=n(36398),a=n(18713),i=n(3975),s=n(4083),o=n(48627),c=n(21532),u=n(44007),d=n(59540),f=n(28254),m=n(24027),h=n(48888),y=n(37569),l=n(71895),p=n(73926),x=n(329),g=n(27418),b=n(59316),w=n(58017),P=n(17769),v=n(85380),N=n(56704);function I(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:a}=e;if(t<=0)throw new g.hJ({chainId:t});if(a&&!(0,w.U)(a))throw new l.b({address:a});if(r&&r>y.zL)throw new b.Hh({maxFeePerGas:r});if(n&&r&&n>r)throw new b.cs({maxFeePerGas:r,maxPriorityFeePerGas:n})}var C=n(4052),B=n(6203);function G(e,t){const n=(0,C.l)(e);return"eip1559"===n?function(e,t){const{chainId:n,gas:r,nonce:a,to:i,value:s,maxFeePerGas:o,maxPriorityFeePerGas:u,accessList:m,data:h}=e;I(e);const y=(0,B.g)(m),l=[(0,d.NC)(n),a?(0,d.NC)(a):"0x",u?(0,d.NC)(u):"0x",o?(0,d.NC)(o):"0x",r?(0,d.NC)(r):"0x",i??"0x",s?(0,d.NC)(s):"0x",h??"0x",y,...F(e,t)];return(0,c.SM)(["0x02",(0,f.LV)(l)])}(e,t):"eip2930"===n?function(e,t){const{chainId:n,gas:r,data:a,nonce:i,to:s,value:o,accessList:u,gasPrice:m}=e;!function(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:a,to:i}=e;if(t<=0)throw new g.hJ({chainId:t});if(i&&!(0,w.U)(i))throw new l.b({address:i});if(n||a)throw new p.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>y.zL)throw new b.Hh({maxFeePerGas:r})}(e);const h=(0,B.g)(u),x=[(0,d.NC)(n),i?(0,d.NC)(i):"0x",m?(0,d.NC)(m):"0x",r?(0,d.NC)(r):"0x",s??"0x",o?(0,d.NC)(o):"0x",a??"0x",h,...F(e,t)];return(0,c.SM)(["0x01",(0,f.LV)(x)])}(e,t):"eip4844"===n?function(e,t){const{chainId:n,gas:r,nonce:u,to:m,value:y,maxFeePerBlobGas:l,maxFeePerGas:p,maxPriorityFeePerGas:g,accessList:b,data:w}=e;!function(e){const{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new x.RX;for(const e of t){const t=(0,P.d)(e),n=(0,N.ly)((0,v.tP)(e,0,1));if(32!==t)throw new x.xd({hash:e,size:t});if(n!==h.l)throw new x.cJ({hash:e,version:n})}}I(e)}(e);let C=e.blobVersionedHashes,G=e.sidecars;if(e.blobs&&(void 0===C||void 0===G)){const t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map((e=>(0,d.ci)(e))),n=e.kzg,r=(0,a.P)({blobs:t,kzg:n});if(void 0===C&&(C=(0,s.C)({commitments:r})),void 0===G){const e=(0,i.y)({blobs:t,commitments:r,kzg:n});G=(0,o.j)({blobs:t,commitments:r,proofs:e})}}const L=(0,B.g)(b),S=[(0,d.NC)(n),u?(0,d.NC)(u):"0x",g?(0,d.NC)(g):"0x",p?(0,d.NC)(p):"0x",r?(0,d.NC)(r):"0x",m??"0x",y?(0,d.NC)(y):"0x",w??"0x",L,l?(0,d.NC)(l):"0x",C??[],...F(e,t)],T=[],$=[],z=[];if(G)for(let e=0;e<G.length;e++){const{blob:t,commitment:n,proof:r}=G[e];T.push(t),$.push(n),z.push(r)}return(0,c.SM)(["0x03",G?(0,f.LV)([S,T,$,z]):(0,f.LV)(S)])}(e,t):"eip7702"===n?function(e,t){const{authorizationList:n,chainId:r,gas:a,nonce:i,to:s,value:o,maxFeePerGas:u,maxPriorityFeePerGas:h,accessList:y,data:p}=e;!function(e){const{authorizationList:t}=e;if(t)for(const e of t){const{contractAddress:t,chainId:n}=e;if(!(0,w.U)(t))throw new l.b({address:t});if(n<0)throw new g.hJ({chainId:n})}I(e)}(e);const x=(0,B.g)(y),b=(0,m.W)(n);return(0,c.SM)(["0x04",(0,f.LV)([(0,d.NC)(r),i?(0,d.NC)(i):"0x",h?(0,d.NC)(h):"0x",u?(0,d.NC)(u):"0x",a?(0,d.NC)(a):"0x",s??"0x",o?(0,d.NC)(o):"0x",p??"0x",x,b,...F(e,t)])])}(e,t):function(e,t){const{chainId:n=0,gas:a,data:i,nonce:s,to:o,value:c,gasPrice:m}=e;!function(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:a,to:i}=e;if(i&&!(0,w.U)(i))throw new l.b({address:i});if(void 0!==t&&t<=0)throw new g.hJ({chainId:t});if(n||a)throw new p.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>y.zL)throw new b.Hh({maxFeePerGas:r})}(e);let h=[s?(0,d.NC)(s):"0x",m?(0,d.NC)(m):"0x",a?(0,d.NC)(a):"0x",o??"0x",c?(0,d.NC)(c):"0x",i??"0x"];if(t){const e=(()=>{if(t.v>=35n){return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n)}if(n>0)return BigInt(2*n)+BigInt(35n+t.v-27n);const e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new r.vl({v:t.v});return e})(),a=(0,u.f)(t.r),i=(0,u.f)(t.s);h=[...h,(0,d.NC)(e),"0x00"===a?"0x":a,"0x00"===i?"0x":i]}else n>0&&(h=[...h,(0,d.NC)(n),"0x","0x"]);return(0,f.LV)(h)}(e,t)}function F(e,t){const n=t??e,{v:r,yParity:a}=n;if(void 0===n.r)return[];if(void 0===n.s)return[];if(void 0===r&&void 0===a)return[];const i=(0,u.f)(n.r),s=(0,u.f)(n.s);return["number"==typeof a?a?(0,d.NC)(1):"0x":0n===r?"0x":1n===r?(0,d.NC)(1):27n===r?"0x":(0,d.NC)(1),"0x00"===i?"0x":i,"0x00"===s?"0x":s]}},786:function(e,t,n){n.d(t,{h:function(){return s}});const r=256;let a,i=r;function s(e=11){if(!a||i+e>2*r){a="",i=0;for(let e=0;e<r;e++)a+=(256+256*Math.random()|0).toString(16).substring(1)}return a.substring(i,i+++e)}},14803:function(e,t,n){n.d(t,{d:function(){return i}});var r=n(23971),a=n(95849);function i(e,t="wei"){return(0,a.b)(e,r.ez[t])}},85970:function(e,t,n){n.d(t,{o:function(){return i}});var r=n(23971),a=n(95849);function i(e,t="wei"){return(0,a.b)(e,r.Zn[t])}},95849:function(e,t,n){function r(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[a,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${a||"0"}${i?`.${i}`:""}`}n.d(t,{b:function(){return r}})},34129:function(e,t,n){n.d(t,{v:function(){return a}});var r=n(33824);function a(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new r.C({value:e});let[n,a="0"]=e.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),a=a.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${a}`))&&(n=`${BigInt(n)+1n}`),a="";else if(a.length>t){const[e,r,i]=[a.slice(0,t-1),a.slice(t-1,t),a.slice(t)],s=Math.round(Number(`${r}.${i}`));a=s>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${s}`,a.length>t&&(a=a.slice(1),n=`${BigInt(n)+1n}`),a=a.slice(0,t)}else a=a.padEnd(t,"0");return BigInt(`${i?"-":""}${n}${a}`)}},5925:function(e,t,n){async function r(e){return new Promise((t=>setTimeout(t,e)))}n.d(t,{D:function(){return r}})},10945:function(e,t,n){n.d(t,{i:function(){return T}});var r=n(56704),a=n(97420),i=n(59540),s=n(87929),o=n(61735),c=n(68062),u=n(9811),d=n(12277),f=n(37569);const m=50000n,h=32n*f.rU,y={block:(0,s.G)({format(e){const t=e.transactions?.map((e=>{if("string"==typeof e)return e;const t=y.transaction?.format(e);return"0x71"===t.typeHex?t.type="eip712":"0xff"===t.typeHex&&(t.type="priority"),t}));return{l1BatchNumber:e.l1BatchNumber?(0,r.y_)(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?(0,r.y_)(e.l1BatchTimestamp):null,transactions:t}}}),transaction:(0,c.y_)({format(e){const t={};return"0x71"===e.type?t.type="eip712":"0xff"===e.type&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?(0,r.y_)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,r.y_)(e.l1BatchTxIndex):null}}}),transactionReceipt:(0,u.dI)({format(e){return{l1BatchNumber:e.l1BatchNumber?(0,r.y_)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,r.y_)(e.l1BatchTxIndex):null,logs:e.logs.map((e=>({...(0,o.U)(e),l1BatchNumber:e.l1BatchNumber?(0,r.y_)(e.l1BatchNumber):null,transactionLogIndex:(0,r.ly)(e.transactionLogIndex),logType:e.logType}))),l2ToL1Logs:e.l2ToL1Logs.map((e=>({blockNumber:(0,r.y_)(e.blockHash),blockHash:e.blockHash,l1BatchNumber:(0,r.y_)(e.l1BatchNumber),transactionIndex:(0,r.y_)(e.transactionIndex),shardId:(0,r.y_)(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:(0,r.y_)(e.logIndex)})))}}}),transactionRequest:(0,d.iy)({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:(0,i.NC)(e.gasPerPubdata)}:{gasPerPubdata:(0,i.NC)(m)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from((0,a.nr)(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map((e=>Array.from((0,a.nr)(e))))}:{},...e.customSignature?{customSignature:Array.from((0,a.nr)(e.customSignature))}:{}},type:"0x71"}:{}}})};var l=n(21532),p=n(28254),x=n(21842),g=n(71895),b=n(73926),w=n(27418),P=n(58017);class v extends b.G{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join("\n"),{name:"InvalidEip712TransactionError"})}}function N(e){return"eip712"===e.type||!!("customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&"bigint"==typeof e.gasPerPubdata||"factoryDeps"in e&&e.factoryDeps)}function I(e){const{chainId:t,to:n,from:r,paymaster:a,paymasterInput:i}=e;if(!N(e))throw new v;if(!t||t<=0)throw new w.hJ({chainId:t});if(n&&!(0,P.U)(n))throw new g.b({address:n});if(r&&!(0,P.U)(r))throw new g.b({address:r});if(a&&!(0,P.U)(a))throw new g.b({address:a});if(a&&!i)throw new b.G("`paymasterInput` must be provided when `paymaster` is defined");if(!a&&i)throw new b.G("`paymaster` must be provided when `paymasterInput` is defined")}const C={transaction:function(e,t){return N(e)?function(e){const{chainId:t,gas:n,nonce:r,to:a,from:s,value:o,maxFeePerGas:c,maxPriorityFeePerGas:u,customSignature:d,factoryDeps:f,paymaster:h,paymasterInput:y,gasPerPubdata:x,data:g}=e;I(e);const b=[r?(0,i.NC)(r):"0x",u?(0,i.NC)(u):"0x",c?(0,i.NC)(c):"0x",n?(0,i.NC)(n):"0x",a??"0x",o?(0,i.NC)(o):"0x",g??"0x0",(0,i.NC)(t),(0,i.NC)(""),(0,i.NC)(""),(0,i.NC)(t),s??"0x",x?(0,i.NC)(x):(0,i.NC)(m),f??[],d??"0x",h&&y?[h,y]:[]];return(0,l.SM)(["0x71",(0,p.LV)(b)])}(e):(0,x.D)(e,t)}};var B=n(41417),G=n(22119);class F extends b.G{constructor({givenLength:e,maxBytecodeSize:t}){super(`Bytecode cannot be longer than ${t} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class L extends b.G{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class S extends b.G{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}const T={formatters:y,serializers:C,custom:{getEip712Domain:e=>{I(e);const t=function(e){const{gas:t,nonce:n,to:r,from:s,value:o,maxFeePerGas:c,maxPriorityFeePerGas:u,factoryDeps:d,paymaster:f,paymasterInput:y,gasPerPubdata:l,data:p}=e;return{txType:113n,from:BigInt(s),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:l??m,maxFeePerGas:c??0n,maxPriorityFeePerGas:u??0n,paymaster:f?BigInt(f):0n,nonce:n?BigInt(n):0n,value:o??0n,data:p||"0x0",factoryDeps:d?.map((e=>(0,i.NC)(function(e){const t=(0,a.O0)(e);if(t.length%32!=0)throw new S({givenLength:t.length});if(t.length>h)throw new F({givenLength:t.length,maxBytecodeSize:h});const n=(0,G.J)(t),r=(0,a.O0)(n),i=t.length/32;if(i%2==0)throw new L({givenLengthInWords:i});const s=(0,a.O0)(i),o=(0,B.vk)(s,{size:2}),c=new Uint8Array([1,0]);return r.set(c,0),r.set(o,2),r}(e))))??[],paymasterInput:y||"0x"}}(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}}}}}}]);