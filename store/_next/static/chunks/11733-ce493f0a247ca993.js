"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11733],{990905:function(e,s,a){var t=a(939804),n=a(893889),r=a(347177),l=a.n(r),i=a(390769),o=a(914721),m=a(69464),c=a(9910),d=a(161564),u=a(31123),p=a(246131),b=a(314557),x=a(122125),h=a(993713),f=a(896615),g=a(404671),q=a(414851),N=a(670833),j=a(172889),v=a(249312),C=a(961655),y=a(43416),k=a(754674),I=a(350511),w=a(173234);const Z={launchpad:i.oH.LAUNCHPAD_LINK_CLICK,staking:i.oH.STAKING_LINK_CLICK,otc:i.oH.OTC_LINK_CLICK};s.Z=e=>{let{onLogin:s}=e;const{user:a}=(0,o.j)(),[r,i]=(0,n.useState)(!1),A="flex flex-col focus:outline-0 items-center transition-all justify-center text-center gap-3 rounded-md bg-card-default-default-bg hover:bg-base-bg-secondary focus:bg-base-bg-secondary focus:relative aspect-square text-caption-sm-strong-m md-msq:rounded-lg md-msq:gap-2 md-msq:text-body-md-strong-m",S="size-10",{track:T}=(0,m.K)(),{enableMagicBoostApp:E}=(0,d.N)(),K=(0,n.useMemo)((()=>[{id:"magic-store",label:"Store",Icon:f.T,href:c.Zt.store("/")},{id:"launchpad",label:"Launchpad",Icon:h.G,href:c.Zt.launchpad("/")},{id:"staking",label:"Staking",Icon:g.k,href:c.Zt.staking("/")},{id:"swap",label:"Swap",Icon:q.z,href:"https://magicsquare.io/swap"},{id:"boost",label:"Boost",Icon:x.$,href:c.Zt.store("/magic-boost"),isAuthRequired:!0,isHidden:!E},{id:"otc",label:"OTC",Icon:j.n,href:c.FQ.otc,external:!0},{id:"dao",label:"DAO",Icon:N.N,href:c.FQ.dao,external:!0}].filter((e=>{let{isHidden:s}=e;return!s}))),[E]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(u.fC,{modal:!1,children:[(0,t.jsx)(u.xz,{className:"msq-btn msq-btn-icon-md size-[2.25rem] msq-btn-outline !rounded-full md-msq:msq-btn-icon-lg",children:(0,t.jsx)(b.V,{className:"msq-btn-icon-child-md"})}),(0,t.jsx)(u.Uv,{children:(0,t.jsxs)(u.VY,{align:"end",className:"z-10 msq-sub-menu p-4 mt-1 ml-4 grid grid-cols-3 w-[min(calc(100vw-2rem),20.5rem)] md-msq:w-[20.75rem] max-h-[calc(100vh-4.5rem)] overflow-y-auto data-[state=open]:animate-show-menu data-[state=closed]:animate-hide-menu",children:[(0,t.jsx)("div",{className:l()("p-2 pb-6 col-span-3 shadow-inset-border-bottom shadow-base-border-light mb-4","md-msq:hidden"),children:(0,t.jsx)(u.ck,{onClick:()=>{i(!0)},asChild:!0,children:(0,t.jsx)(C.u,{label:"Buy & Sell SQR",className:"text-caption-sm-strong-m w-full focus:outline-none"})})}),(0,t.jsx)(u.ck,{asChild:!0,children:a?(0,t.jsxs)(I.Z,{className:(0,v.cn)(A,"group"),href:c.Zt.store("/profile/magic-id"),children:[(0,t.jsx)(w.Z,{src:a.data.attributes.icon,membershipTier:a.data.membershipTier.attributes.key,className:(0,v.cn)(S,"msq-avatar-md group-hover:[&>.msq-avatar-img]:bg-base-bg [&>.msq-avatar-img]:transition-colors")}),"Magic ID"]}):(0,t.jsxs)("button",{onClick:()=>null==s?void 0:s(),className:(0,v.cn)(A,"group"),children:[(0,t.jsx)("span",{className:(0,v.cn)(S,"rounded-full overflow-hidden flex items-center justify-center transition-all bg-base-bg-secondary group-hover:bg-base-bg"),children:(0,t.jsx)(p.m,{className:"size-3 md-msq:size-4"})}),"Magic ID"]})}),K.map((e=>{let{id:s,Icon:n,isAuthRequired:r,href:l,external:i,label:o}=e;const m=Z[s];return(0,t.jsx)(u.ck,{asChild:!0,children:(0,t.jsxs)(I.Z,{isAuthRequired:r,href:l,className:A,onClick:()=>m&&(e=>{var s;const t=null==a||null===(s=a.data)||void 0===s?void 0:s.id;t&&T(e,{distinct_id:t})})(m),external:i,children:[(0,t.jsx)(n,{className:S}),o]})},s)}))]})})]}),(0,t.jsx)(y.Z,{items:k.wQ,open:r,onOpenChange:i})]})}},462437:function(e,s,a){a.d(s,{B:function(){return p}});var t=a(939804),n=a(893889),r=a(347177),l=a.n(r),i=a(217169),o=a(855863),m=a(249312),c=a(914721),d=a(669104),u=a(173234);const p=e=>{let{className:s,onLogout:a,onSupport:r,user:p,...b}=e;const{showKyc:x}=(0,c.j)(),[h,f]=(0,n.useState)(!1),g=p.data.attributes.karma,q=!p.data.attributes.kyc.passed,N=x&&q,j=()=>f(!0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:j,className:"msq-btn md-msq:hidden",children:(0,t.jsx)(u.Z,{src:p.data.attributes.icon,membershipTier:p.data.membershipTier.attributes.key,className:"msq-avatar-md size-[2.25rem]"})}),(0,t.jsxs)("button",{onClick:j,"data-qa":"user-profile-button",className:l()("msq-btn msq-btn-outline max-md-msq:hidden msq-btn-md !pl-[0.3125rem] gap-2 md-msq:gap-3 !py-1 pr-3 md-msq:pr-4 !rounded-full md-msq:msq-btn-lg max-md-msq:text-caption-sm-strong-m md-msq:msq-btn-lg",s),...b,children:[(0,t.jsx)(u.Z,{src:p.data.attributes.icon,membershipTier:p.data.membershipTier.attributes.key,className:"msq-avatar-sm md-msq:msq-avatar-md"}),(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 md-msq:gap-1.5",children:[(0,t.jsx)(i.h,{className:"text-base-text-pink size-3 md-msq:size-4"}),(0,m.Du)(g)]}),N&&(0,t.jsx)(o.ln,{className:"size-4 text-base-text-orange"})]}),(0,t.jsx)(d.Zw,{user:p,onLogout:a,open:h,onOpenChange:f,onSupport:r})]})}},669104:function(e,s,a){a.d(s,{Zw:function(){return L},wL:function(){return K},l6:function(){return R},e7:function(){return E},SW:function(){return T}});var t=a(939804),n=a(436166),r=a(893889),l=a(553321),i=a(869009),o=a(333997),m=a(611245),c=a(513049),d=a(662702),u=a(871013),p=a(312650),b=a(218137),x=a(249312);const h={[c.aW.INIT]:"KYC Needed",[c.aW.PENDING]:"KYC in Progress",[c.aW.COMPLETED]:"KYC Verified",[c.aW.DELETED]:"KYC Rejected",[c.aW.REJECTED_RETRY]:"KYC Rejected",[c.aW.REJECTED_FINAL]:"KYC Rejected"},f=e=>{let{isError:s,isNeedVerification:a,isPending:t}=e;return t?"bg-base-bg-secondary":s?"bg-base-bg-secondary-red":a?"bg-base-bg-secondary-orange":""};var g=e=>{let{className:s,user:a,onOpenChange:n}=e;const r=(0,m._E)();var l;const i=(null!==(l=null==a?void 0:a.attributes.kyc.sumSub)&&void 0!==l?l:null==a?void 0:a.attributes.kyc.babt)?c.aW.COMPLETED:c.aW.INIT,o=i?h[i]:h.INIT,g=(0,u.U)(i),{hasVerifiedKyc:q,isError:N,isPending:j}=g;return q?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:(0,x.cn)("flex items-center p-3 rounded-lg gap-2 transition-colors",f(g),s),children:[(0,t.jsxs)("div",{className:"flex gap-1.5 items-center flex-1",children:[j?(0,t.jsx)(b.g,{className:"size-4 animate-loading-spin text-base-text-quaternary"}):(0,t.jsx)(p.l,{className:(0,x.cn)("size-4",{"text-base-text-orange":!N,"text-base-text-red":N})}),(0,t.jsx)("span",{className:"text-caption-sm-strong-m xl-msq:text-caption-sm-strong-d",children:o})]}),(0,t.jsx)("button",{onClick:()=>{r.open()},disabled:j,className:(0,x.cn)("msq-btn msq-btn-sm min-w-[7.5rem] mr-1 xl-msq:mr-2 xl-msq:min-w-[7.25rem]",{"msq-btn-primary":!j,"msq-btn-tertiary":j}),children:N?"Retry":"Verify"})]}),(0,t.jsx)(d.Z,{isDisabledSumSub:N,...r.props,onSuccess:()=>{null==n||n(!1)}})]})},q=a(9910),N=a(932382),j=a(210313),v=a(217169),C=a(696673),y=a(945758),k=a(855863),I=a(914721),w=a(350511),Z=a(173234),A=a(990784);const S=(0,n.default)((()=>a.e(47011).then(a.bind(a,447011))),{loadableGenerated:{webpack:()=>[447011]},ssr:!1}),T={id:"public",items:[{id:"karma-and-rewards",label:"Karma & Rewards",href:q.Zt.store("/profile/karma")},{id:"magic-id",label:"Magic ID",href:q.Zt.store("/profile/magic-id")},{id:"magic-membership",label:"Membership & Balances",href:q.Zt.store("/profile/membership/dashboard")},{id:"invite-friends",label:"Invite Friends",href:q.Zt.store("/refer-a-friend")},{id:"vote-and-earn",label:"Vote & Earn",href:q.Zt.store("/profile/validation-tasks")}]},E={id:"developer",hidden:e=>{let{user:s}=e;return!s.data.attributes.creatorId},items:[{id:"settings",label:"Developer Profile",href:q.Zt.store("/profile/edit-developer-profile")},{id:"my-applications",label:"My Applications",href:q.Zt.store("/profile/developer-dapps")},{id:"campaign-review",label:"Campaign Review",href:q.Zt.store("/profile/developer-campaign")},{id:"score-widget",label:"Score Widget",href:q.Zt.store("/profile/developer-info/widget")}]},K={id:"become-developer",href:q.Zt.store("/profile/edit-developer-profile"),label:"Become Developer",hidden:e=>{let{user:s}=e;return Boolean(s.data.attributes.creatorId)}},D=[T,E,{id:"general",className:"mt-auto",items:[{id:"support",label:"Support"},{id:"docs",label:"Docs",external:!0,href:"https://docs.magicsquare.io"},K]}],R=e=>{let{user:s,userKarma:a}=e;const t=(null==a?void 0:a.totalReward)||0,n=(0,x.v_)(t),r=(null==a?void 0:a.usdt)||0,l="USDT",i=(0,x.v_)(r),o=(null==a?void 0:a.totalSqrp)||0,m="SQRp",c=(0,x.v_)(o),d=(null==s?void 0:s.attributes.karma)||0,u="Karma",p=(0,x.v_)(d);return{sqr:{value:{amount:t,currency:"SQR",formattedAmount:n,formattedAmountWithCurrency:"".concat(n," ").concat("SQR")},icon:{Icon:k.Fh}},usdt:{value:{amount:r,currency:l,formattedAmount:i,formattedAmountWithCurrency:"".concat(i," ").concat(l)},icon:{Icon:k.AA}},sqrp:{value:{amount:o,currency:m,formattedAmount:c,formattedAmountWithCurrency:"".concat(c," ").concat(m)},icon:{colorClassName:"text-base-text-tertiary",Icon:y.F}},karma:{value:{amount:d,currency:u,formattedAmount:p,formattedAmountWithCurrency:"".concat(p," ").concat(u)},icon:{Icon:v.h,colorClassName:"text-base-text-pink"}}}},L=e=>{let{onLogout:s,onSupport:a,user:n,onOpenChange:m,...c}=e;const d=(e=>{let{user:s}=e;const{data:a}=(0,l.GiF)({searchParams:{period:"daily"}},{enabled:Boolean(s)}),t=R({user:s,userKarma:a});return(0,r.useMemo)((()=>s?[{id:"magic-id-balance",label:"Magic ID Balance",className:"col-span-full",content:t.sqr.value.formattedAmountWithCurrency,subContent:t.usdt.value.formattedAmountWithCurrency,icon:t.sqr.icon,subIcon:t.usdt.icon},{id:"sqrp-balance",label:"SQRp Balance",content:t.sqrp.value.formattedAmount,icon:t.sqrp.icon},{id:"karma-balance",label:"Karma Balance",content:t.karma.value.formattedAmount,icon:t.karma.icon}]:[]),[s,a])})({user:n.data}),{showKyc:u}=(0,I.j)(),{showGlobalInlineProfileMiddleBanner:p}=(0,o.aS)(),b=(0,A.XP)(n.data.membershipTier.attributes.key),h=n.data.membershipTier.attributes.key===i.fKh.PREMIUM_PLUS,f=[...d,{id:"membership",label:"Membership Plan",content:(0,A.$j)(n.data.membershipTier.attributes.key),className:"col-span-full",icon:{Icon:C.E,colorClassName:b.text},action:h?void 0:{label:"Upgrade",href:q.Zt.store("/profile/membership/plans"),external:!0}}],v=()=>{null==m||m(!1)},y=n.data.attributes.developerId?D:D.filter((e=>"developer"!==e.id)),T="msq-sub-menu-link msq-sub-menu-link-mobile text-caption-sm-strong-m xl-msq:text-caption-sm-strong-d",E="p-2 flex flex-col gap-1 xl-msq:p-4";return(0,t.jsx)(N.fC,{onOpenChange:m,...c,children:(0,t.jsx)(N.h_,{children:(0,t.jsx)(N.aV,{forceMount:!0,className:"msq-dialog msq-dialog-mobile-menu-m xl-msq:msq-dialog-mobile-menu-d msq-dialog-animate",children:(0,t.jsxs)(N.VY,{forceMount:!0,"aria-describedby":void 0,className:(0,x.cn)("overflow-hidden","z-20 msq-dialog-content sm-msq:msq-dialog-content-sm sm-msq:msq-dialog-content-right xl-msq:max-w-[400px]"),children:[(0,t.jsxs)("div",{className:"msq-dialog-header",children:[(0,t.jsx)(N.Dx,{className:"msq-dialog-title ",children:"Profile"}),(0,t.jsx)(N.x8,{asChild:!0,children:(0,t.jsx)("button",{className:"msq-btn msq-btn-ghost msq-btn-icon-md msq-dialog-icon-button",children:(0,t.jsx)(j.s,{className:"msq-btn msq-btn-icon-child"})})})]}),(0,t.jsxs)("div",{className:"msq-dialog-body flex flex-col p-0",children:[(0,t.jsxs)("div",{className:"p-4 pb-3 xl-msq:px-6 xl-msq:pt-5 xl-msq:pb-1.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 xl-msq:gap-2.5 min-h-10 mb-4 xl-msq:mb-5",children:[(0,t.jsx)(Z.Z,{className:"msq-avatar-md",src:n.data.attributes.icon,membershipTier:n.data.membershipTier.attributes.key}),(0,t.jsxs)("div",{className:"flex flex-col gap-0.5 xl-msq:gap-0 justify-center overflow-hidden",children:[(0,t.jsx)("span",{className:"text-caption-sm-strong-a truncate","data-qa":"profile-displayed-name",children:n.data.attributes.displayedName||"Noname"}),(0,t.jsx)("span",{className:"text-caption-xs-a text-base-text-tertiary truncate","data-qa":"profile-name",children:n.data.attributes.name||"Noname"})]})]}),u&&(0,t.jsx)(g,{className:"mb-5 xl-msq:mb-[1.625rem]",user:n.data,onOpenChange:m}),(0,t.jsx)("ul",{className:"grid grid-cols-2 gap-1 xl-msq:gap-1.5",children:f.map((e=>{let{action:s,content:a,subContent:n,className:r,id:l,label:i,icon:o}=e;const{Icon:m,colorClassName:c}=o;return(0,t.jsxs)("li",{className:(0,x.cn)("rounded-lg flex gap-2 items-center px-3 py-2 bg-base-bg-secondary",r),children:[(0,t.jsxs)("div",{className:(0,x.cn)("flex gap-0.5 xl-msq:gap-1 pt-0.5 flex-col flex-1 overflow-hidden"),children:[(0,t.jsx)("span",{className:"text-caption-xs-m xl-msq:text-caption-xs-d text-base-text-tertiary truncate",children:i}),(0,t.jsxs)("span",{className:"flex gap-1.5 min-h-6 items-center text-caption-sm-strong-m xl-msq:text-caption-sm-strong-d flex-1",children:[(0,t.jsx)("span",{className:"text-base-text-tertiary flex-shrink-0",children:(0,t.jsx)(m,{className:(0,x.cn)("size-[0.875rem] xl-msq:size-4",c)})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("span",{className:"truncate","data-qa":"profile-balance-data",children:a}),n&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(k.AA,{className:"size-[0.875rem] xl-msq:size-4"}),(0,t.jsx)("span",{className:"truncate","data-qa":"profile-usdt",children:n})]})]})]})]}),s&&(0,t.jsx)(w.Z,{onClick:v,href:s.href,external:s.external,className:"msq-btn msq-btn-tertiary msq-btn-sm min-w-[7.5rem] mr-1 xl-msq:mr-2 xl-msq:min-w-[7.25rem]",children:s.label})]},l)}))}),p&&(0,t.jsx)(S,{userId:null==n?void 0:n.data.id})]}),(0,t.jsxs)("nav",{className:"flex-1 flex flex-col [&>*:not(:first-child)]:shadow-inset-border-top [&>*:not(:first-child)]:shadow-base-border-light",children:[y.map((e=>e.hidden&&e.hidden({user:n})?null:(0,t.jsx)("div",{className:(0,x.cn)(E,e.className),children:e.items.map((e=>e.hidden&&e.hidden({user:n})?null:"support"===e.id?(0,t.jsx)("button",{onClick:()=>{v(),null==a||a()},className:T,children:e.label},e.id):(0,t.jsx)(w.Z,{onClick:v,href:e.href,external:e.external,className:T,children:e.label},e.id)))},e.id))),(0,t.jsx)("div",{className:E,children:(0,t.jsx)("button",{onClick:()=>{null==s||s(),v()},className:T,children:"Logout"})})]})]})]})})})})}},740088:function(e,s,a){var t=a(939804),n=(a(893889),a(347177)),r=a.n(n),l=a(350511);s.Z=e=>{let{items:s,isConnected:a,onLogin:n,className:i}=e;return(0,t.jsx)("nav",{className:r()("flex gap-1 md-msq:px-4",i),children:null==s?void 0:s.map((e=>{const s=e.isAuthRequired&&!a;return(0,t.jsx)(l.Z,{className:"msq-btn msq-btn-md px-0 msq-btn-secondary text-caption-sm-strong-m rounded-full flex-1",href:e.href,external:e.external,onClick:e=>{s&&(e.preventDefault(),null==n||n())},children:e.label},e.id)}))})}}}]);
//# sourceMappingURL=11733-ce493f0a247ca993.js.map