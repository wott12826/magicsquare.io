"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[58397],{571747:function(r,e,t){t.d(e,{Uj:function(){return a},te:function(){return c},Uw:function(){return s},U$:function(){return f},uu:function(){return g},Y0:function(){return h},XL:function(){return d},ZN:function(){return p}});var n=t(279527);const o=new(t(636919).Logger)("strings/5.7.0");var a,s;function i(r,e,t,n,o){if(r===s.BAD_PREFIX||r===s.UNEXPECTED_CONTINUE){let r=0;for(let n=e+1;n<t.length&&t[n]>>6==2;n++)r++;return r}return r===s.OVERRUN?t.length-e-1:0}!function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"}(a||(a={})),function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"}(s||(s={}));const c=Object.freeze({error:function(r,e,t,n,a){return o.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)},ignore:i,replace:function(r,e,t,n,o){return r===s.OVERLONG?(n.push(o),0):(n.push(65533),i(r,e,t))}});function u(r,e){null==e&&(e=c.error),r=(0,n.arrayify)(r);const t=[];let o=0;for(;o<r.length;){const n=r[o++];if(!(n>>7)){t.push(n);continue}let a=null,i=null;if(192==(224&n))a=1,i=127;else if(224==(240&n))a=2,i=2047;else{if(240!=(248&n)){o+=e(128==(192&n)?s.UNEXPECTED_CONTINUE:s.BAD_PREFIX,o-1,r,t);continue}a=3,i=65535}if(o-1+a>=r.length){o+=e(s.OVERRUN,o-1,r,t);continue}let c=n&(1<<8-a-1)-1;for(let n=0;n<a;n++){let n=r[o];if(128!=(192&n)){o+=e(s.MISSING_CONTINUE,o,r,t),c=null;break}c=c<<6|63&n,o++}null!==c&&(c>1114111?o+=e(s.OUT_OF_RANGE,o-1-a,r,t,c):c>=55296&&c<=57343?o+=e(s.UTF16_SURROGATE,o-1-a,r,t,c):c<=i?o+=e(s.OVERLONG,o-1-a,r,t,c):t.push(c))}return t}function h(r,e=a.current){e!=a.current&&(o.checkNormalize(),r=r.normalize(e));let t=[];for(let e=0;e<r.length;e++){const n=r.charCodeAt(e);if(n<128)t.push(n);else if(n<2048)t.push(n>>6|192),t.push(63&n|128);else if(55296==(64512&n)){e++;const o=r.charCodeAt(e);if(e>=r.length||56320!=(64512&o))throw new Error("invalid utf-8 string");const a=65536+((1023&n)<<10)+(1023&o);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(63&a|128)}else t.push(n>>12|224),t.push(n>>6&63|128),t.push(63&n|128)}return(0,n.arrayify)(t)}function l(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function f(r,e){return'"'+u(r,e).map((r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?l(r):l(55296+((r-=65536)>>10&1023))+l(56320+(1023&r))})).join("")+'"'}function g(r){return r.map((r=>r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode(55296+(r>>10&1023),56320+(1023&r))))).join("")}function p(r,e){return g(u(r,e))}function d(r,e=a.current){return u(h(r,e))}},697380:function(r,e,t){t.r(e),t.d(e,{TransactionTypes:function(){return g},accessListify:function(){return N},computeAddress:function(){return E},parse:function(){return T},recoverAddress:function(){return v},serialize:function(){return L}});var n=t(450232),o=t(281815),a=t(279527),s=t(206343),i=t(108540),c=t(727083),u=t(798049),h=t(548619),l=t(636919);const f=new l.Logger("transactions/5.7.0");var g;function p(r){return"0x"===r?null:(0,n.getAddress)(r)}function d(r){return"0x"===r?s._Y:o.O$.from(r)}!function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"}(g||(g={}));const m=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],y={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function E(r){const e=(0,h.computePublicKey)(r);return(0,n.getAddress)((0,a.hexDataSlice)((0,i.keccak256)((0,a.hexDataSlice)(e,1)),12))}function v(r,e){return E((0,h.recoverPublicKey)((0,a.arrayify)(r),e))}function x(r,e){const t=(0,a.stripZeros)(o.O$.from(r).toHexString());return t.length>32&&f.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function P(r,e){return{address:(0,n.getAddress)(r),storageKeys:(e||[]).map(((e,t)=>(32!==(0,a.hexDataLength)(e)&&f.throwArgumentError("invalid access list storageKey",`accessList[${r}:${t}]`,e),e.toLowerCase())))}}function N(r){if(Array.isArray(r))return r.map(((r,e)=>Array.isArray(r)?(r.length>2&&f.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,r),P(r[0],r[1])):P(r.address,r.storageKeys)));const e=Object.keys(r).map((e=>{const t=r[e].reduce(((r,e)=>(r[e]=!0,r)),{});return P(e,Object.keys(t).sort())}));return e.sort(((r,e)=>r.address.localeCompare(e.address))),e}function A(r){return N(r).map((r=>[r.address,r.storageKeys]))}function O(r,e){if(null!=r.gasPrice){const e=o.O$.from(r.gasPrice),t=o.O$.from(r.maxFeePerGas||0);e.eq(t)||f.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:t})}const t=[x(r.chainId||0,"chainId"),x(r.nonce||0,"nonce"),x(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),x(r.maxFeePerGas||0,"maxFeePerGas"),x(r.gasLimit||0,"gasLimit"),null!=r.to?(0,n.getAddress)(r.to):"0x",x(r.value||0,"value"),r.data||"0x",A(r.accessList||[])];if(e){const r=(0,a.splitSignature)(e);t.push(x(r.recoveryParam,"recoveryParam")),t.push((0,a.stripZeros)(r.r)),t.push((0,a.stripZeros)(r.s))}return(0,a.hexConcat)(["0x02",u.encode(t)])}function I(r,e){const t=[x(r.chainId||0,"chainId"),x(r.nonce||0,"nonce"),x(r.gasPrice||0,"gasPrice"),x(r.gasLimit||0,"gasLimit"),null!=r.to?(0,n.getAddress)(r.to):"0x",x(r.value||0,"value"),r.data||"0x",A(r.accessList||[])];if(e){const r=(0,a.splitSignature)(e);t.push(x(r.recoveryParam,"recoveryParam")),t.push((0,a.stripZeros)(r.r)),t.push((0,a.stripZeros)(r.s))}return(0,a.hexConcat)(["0x01",u.encode(t)])}function L(r,e){if(null==r.type||0===r.type)return null!=r.accessList&&f.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),function(r,e){(0,c.checkProperties)(r,y);const t=[];m.forEach((function(e){let n=r[e.name]||[];const o={};e.numeric&&(o.hexPad="left"),n=(0,a.arrayify)((0,a.hexlify)(n,o)),e.length&&n.length!==e.length&&n.length>0&&f.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,n),e.maxLength&&(n=(0,a.stripZeros)(n),n.length>e.maxLength&&f.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,n)),t.push((0,a.hexlify)(n))}));let n=0;if(null!=r.chainId?(n=r.chainId,"number"!=typeof n&&f.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!(0,a.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),0!==n&&(t.push((0,a.hexlify)(n)),t.push("0x"),t.push("0x")),!e)return u.encode(t);const o=(0,a.splitSignature)(e);let s=27+o.recoveryParam;return 0!==n?(t.pop(),t.pop(),t.pop(),s+=2*n+8,o.v>28&&o.v!==s&&f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):o.v!==s&&f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push((0,a.hexlify)(s)),t.push((0,a.stripZeros)((0,a.arrayify)(o.r))),t.push((0,a.stripZeros)((0,a.arrayify)(o.s))),u.encode(t)}(r,e);switch(r.type){case 1:return I(r,e);case 2:return O(r,e)}return f.throwError(`unsupported transaction type: ${r.type}`,l.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function w(r,e,t){try{const t=d(e[0]).toNumber();if(0!==t&&1!==t)throw new Error("bad recid");r.v=t}catch(r){f.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=(0,a.hexZeroPad)(e[1],32),r.s=(0,a.hexZeroPad)(e[2],32);try{const e=(0,i.keccak256)(t(r));r.from=v(e,{r:r.r,s:r.s,recoveryParam:r.v})}catch(r){}}function T(r){const e=(0,a.arrayify)(r);if(e[0]>127)return function(r){const e=u.decode(r);9!==e.length&&6!==e.length&&f.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:d(e[0]).toNumber(),gasPrice:d(e[1]),gasLimit:d(e[2]),to:p(e[3]),value:d(e[4]),data:e[5],chainId:0};if(6===e.length)return t;try{t.v=o.O$.from(e[6]).toNumber()}catch(r){return t}if(t.r=(0,a.hexZeroPad)(e[7],32),t.s=(0,a.hexZeroPad)(e[8],32),o.O$.from(t.r).isZero()&&o.O$.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let n=t.v-27;const o=e.slice(0,6);0!==t.chainId&&(o.push((0,a.hexlify)(t.chainId)),o.push("0x"),o.push("0x"),n-=2*t.chainId+8);const s=(0,i.keccak256)(u.encode(o));try{t.from=v(s,{r:(0,a.hexlify)(t.r),s:(0,a.hexlify)(t.s),recoveryParam:n})}catch(r){}t.hash=(0,i.keccak256)(r)}return t.type=null,t}(e);switch(e[0]){case 1:return function(r){const e=u.decode(r.slice(1));8!==e.length&&11!==e.length&&f.throwArgumentError("invalid component count for transaction type: 1","payload",(0,a.hexlify)(r));const t={type:1,chainId:d(e[0]).toNumber(),nonce:d(e[1]).toNumber(),gasPrice:d(e[2]),gasLimit:d(e[3]),to:p(e[4]),value:d(e[5]),data:e[6],accessList:N(e[7])};return 8===e.length||(t.hash=(0,i.keccak256)(r),w(t,e.slice(8),I)),t}(e);case 2:return function(r){const e=u.decode(r.slice(1));9!==e.length&&12!==e.length&&f.throwArgumentError("invalid component count for transaction type: 2","payload",(0,a.hexlify)(r));const t=d(e[2]),n=d(e[3]),o={type:2,chainId:d(e[0]).toNumber(),nonce:d(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:d(e[4]),to:p(e[5]),value:d(e[6]),data:e[7],accessList:N(e[8])};return 9===e.length||(o.hash=(0,i.keccak256)(r),w(o,e.slice(9),O)),o}(e)}return f.throwError(`unsupported transaction type: ${e[0]}`,l.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}}}]);
//# sourceMappingURL=58397-938c29960b88f6e8.js.map