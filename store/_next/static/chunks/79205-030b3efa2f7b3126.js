"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79205],{684681:function(e,t,r){r.r(t),r.d(t,{AlchemyProvider:function(){return i.D},AlchemyWebSocketProvider:function(){return i.V},AnkrProvider:function(){return a.d},BaseProvider:function(){return s.Zk},CloudflareProvider:function(){return c.y},EtherscanProvider:function(){return u.A},FallbackProvider:function(){return d.H},Formatter:function(){return g.Mb},InfuraProvider:function(){return b},InfuraWebSocketProvider:function(){return k},IpcProvider:function(){return l},JsonRpcBatchProvider:function(){return P},JsonRpcProvider:function(){return _.r},JsonRpcSigner:function(){return _.C},NodesmithProvider:function(){return N},PocketProvider:function(){return I},Provider:function(){return n.zt},Resolver:function(){return s.H2},StaticJsonRpcProvider:function(){return w.c},UrlJsonRpcProvider:function(){return w.l},Web3Provider:function(){return S.Q},WebSocketProvider:function(){return p.q},getDefaultProvider:function(){return A},getNetwork:function(){return o.H},isCommunityResourcable:function(){return g.Ed},isCommunityResource:function(){return g.Gp},showThrottleMessage:function(){return g.vh}});var n=r(682878),o=r(623652),s=r(534906),i=r(567127),a=r(221531),c=r(497994),u=r(487326),d=r(293011);const l=null;var h=r(727083),p=r(648307),g=r(825375),f=r(636919),m=r(951579),w=r(209621);const y=new f.Logger(m.i),v="84842078b09946638c03157f83405213";class k extends p.q{constructor(e,t){const r=new b(e,t),n=r.connection;n.password&&y.throwError("INFURA WebSocket project secrets unsupported",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),(0,h.defineReadOnly)(this,"apiKey",r.projectId),(0,h.defineReadOnly)(this,"projectId",r.projectId),(0,h.defineReadOnly)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===v}}class b extends w.l{static getWebSocketProvider(e,t){return new k(e,t)}static getApiKey(e){const t={apiKey:v,projectId:v,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(y.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),y.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;default:y.throwError("unsupported network",f.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===v&&(0,g.vh)(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===v}}var _=r(322018),E=r(320535);class P extends _.r{send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const n={request:r,resolve:null,reject:null},o=new Promise(((e,t)=>{n.resolve=e,n.reject=t}));return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const t=e.map((e=>e.request));return this.emit("debug",{action:"requestBatch",request:(0,h.deepCopy)(t),provider:this}),(0,E.fetchJson)(this.connection,JSON.stringify(t)).then((r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this}),e.forEach(((e,t)=>{const n=r[t];if(n.error){const t=new Error(n.error.message);t.code=n.error.code,t.data=n.error.data,e.reject(t)}else e.resolve(n.result)}))}),(r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this}),e.forEach((e=>{e.reject(r)}))}))}),10)),o}}const R=new f.Logger(m.i);class N extends w.l{static getApiKey(e){return e&&"string"!=typeof e&&R.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){R.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:R.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const T=new f.Logger(m.i),O="62e1ad51b37b8e00394bda3b";class I extends w.l{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=O:"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:T.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:T.throwError("unsupported network",f.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={headers:{},url:`https://${r}/v1/lb/${t.applicationId}`};return null!=t.applicationSecretKey&&(n.user="",n.password=t.applicationSecretKey),n}isCommunityResource(){return this.applicationId===O}}var S=r(30074);const L=new f.Logger(m.i);function A(e,t){if(null==e&&(e="homestead"),"string"==typeof e){const t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1].toLowerCase()){case"http":case"https":return new _.r(e);case"ws":case"wss":return new p.q(e);default:L.throwArgumentError("unsupported URL scheme","network",e)}}const r=(0,o.H)(e);return r&&r._defaultProvider||L.throwError("unsupported getDefaultProvider network",f.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),r._defaultProvider({FallbackProvider:d.H,AlchemyProvider:i.D,AnkrProvider:a.d,CloudflareProvider:c.y,EtherscanProvider:u.A,InfuraProvider:b,JsonRpcProvider:_.r,NodesmithProvider:N,PocketProvider:I,Web3Provider:S.Q,IpcProvider:l},t)}},322018:function(e,t,r){r.d(t,{C:function(){return E},r:function(){return N}});var n=r(1771),o=r(281815),s=r(279527),i=r(916285),a=r(727083),c=r(571747),u=r(697380),d=r(320535),l=r(636919),h=r(951579),p=r(534906),g=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const f=new l.Logger(h.i),m=["call","estimateGas"];function w(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){const r=(0,s.isHexString)(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(const r in e){const n=w(e[r],t);if(n)return n}return null}if("string"==typeof e)try{return w(JSON.parse(e),t)}catch(e){}return null}function y(e,t,r){const n=r.transaction||r.signedTransaction;if("call"===e){const e=w(t,!0);if(e)return e.data;f.throwError("missing revert data in call exception; Transaction reverted without a reason string",l.Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let r=w(t.body,!1);null==r&&(r=w(t,!1)),r&&f.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",l.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}let o=t.message;throw t.code===l.Logger.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?o=t.error.message:"string"==typeof t.body?o=t.body:"string"==typeof t.responseText&&(o=t.responseText),o=(o||"").toLowerCase(),o.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&f.throwError("insufficient funds for intrinsic transaction cost",l.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),o.match(/nonce (is )?too low/i)&&f.throwError("nonce has already been used",l.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),o.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&f.throwError("replacement fee too low",l.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),o.match(/only replay-protected/i)&&f.throwError("legacy pre-eip-155 transactions not supported",l.Logger.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),m.indexOf(e)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&f.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",l.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function v(e){return new Promise((function(t){setTimeout(t,e)}))}function k(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function b(e){return e?e.toLowerCase():e}const _={};class E extends n.E{constructor(e,t,r){if(super(),e!==_)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");(0,a.defineReadOnly)(this,"provider",t),null==r&&(r=0),"string"==typeof r?((0,a.defineReadOnly)(this,"_address",this.provider.formatter.address(r)),(0,a.defineReadOnly)(this,"_index",null)):"number"==typeof r?((0,a.defineReadOnly)(this,"_index",r),(0,a.defineReadOnly)(this,"_address",null)):f.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return f.throwError("cannot alter JSON-RPC Signer connection",l.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new P(_,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((e=>(e.length<=this._index&&f.throwError("unknown account #"+this._index,l.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index]))))}sendUncheckedTransaction(e){e=(0,a.shallowCopy)(e);const t=this.getAddress().then((e=>(e&&(e=e.toLowerCase()),e)));if(null==e.gasLimit){const r=(0,a.shallowCopy)(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((e=>g(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.provider.resolveName(e);return null==t&&f.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))))),(0,a.resolveProperties)({tx:(0,a.resolveProperties)(e),sender:t}).then((({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&f.throwArgumentError("from address mismatch","transaction",e):t.from=r;const n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then((e=>e),(e=>("string"==typeof e.message&&e.message.match(/user denied/i)&&f.throwError("user rejected transaction",l.Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),y("sendTransaction",e,n))))}))}signTransaction(e){return f.throwError("signing transactions is unsupported",l.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return g(this,void 0,void 0,(function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield(0,d.poll)((()=>g(this,void 0,void 0,(function*(){const e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}))),{oncePoll:this.provider})}catch(e){throw e.transactionHash=r,e}}))}signMessage(e){return g(this,void 0,void 0,(function*(){const t="string"==typeof e?(0,c.Y0)(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[(0,s.hexlify)(t),r.toLowerCase()])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&f.throwError("user rejected signing",l.Logger.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),t}}))}_legacySignMessage(e){return g(this,void 0,void 0,(function*(){const t="string"==typeof e?(0,c.Y0)(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),(0,s.hexlify)(t)])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&f.throwError("user rejected signing",l.Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),t}}))}_signTypedData(e,t,r){return g(this,void 0,void 0,(function*(){const n=yield i.E.resolveNames(e,t,r,(e=>this.provider.resolveName(e))),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(i.E.getPayload(n.domain,t,n.value))])}catch(e){throw"string"==typeof e.message&&e.message.match(/user denied/i)&&f.throwError("user rejected signing",l.Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:n.domain,types:t,value:n.value}}),e}}))}unlock(e){return g(this,void 0,void 0,(function*(){const t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])}))}}class P extends E{sendTransaction(e){return this.sendUncheckedTransaction(e).then((e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)})))}}const R={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class N extends p.Zk{constructor(e,t){let r=t;null==r&&(r=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then((t=>{e(t)}),(e=>{t(e)}))}),0)}))),super(r),e||(e=(0,a.getStatic)(this.constructor,"defaultUrl")()),"string"==typeof e?(0,a.defineReadOnly)(this,"connection",Object.freeze({url:e})):(0,a.defineReadOnly)(this,"connection",Object.freeze((0,a.shallowCopy)(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return g(this,void 0,void 0,(function*(){yield v(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){const t=(0,a.getStatic)(this.constructor,"getNetwork");try{return t(o.O$.from(e).toNumber())}catch(t){return f.throwError("could not detect network",l.Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return f.throwError("could not detect network",l.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(e){return new E(_,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((e=>e.map((e=>this.formatter.address(e)))))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,a.deepCopy)(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];const o=(0,d.fetchJson)(this.connection,JSON.stringify(r),k).then((e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e}));return n&&(this._cache[e]=o,setTimeout((()=>{this._cache[e]=null}),0)),o}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[b(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[b(t.address),t.blockTag]];case"getCode":return["eth_getCode",[b(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[b(t.address),(0,s.hexZeroPad)(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[(0,a.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[(0,a.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=b(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return g(this,void 0,void 0,(function*(){if("call"===e||"estimateGas"===e){const e=t.transaction;if(e&&null!=e.type&&o.O$.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=(0,a.shallowCopy)(t)).transaction=(0,a.shallowCopy)(e),delete t.transaction.type)}}const r=this.prepareRequest(e,t);null==r&&f.throwError(e+" not implemented",l.Logger.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(r){return y(e,r,t)}}))}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return v(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch((e=>{}))}(),r})).catch((e=>{}))}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const r=(0,a.shallowCopy)(R);if(t)for(const e in t)t[e]&&(r[e]=!0);(0,a.checkProperties)(e,r);const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null==e[t])return;const r=(0,s.hexValue)(o.O$.from(e[t]));"gasLimit"===t&&(t="gas"),n[t]=r})),["from","to","data"].forEach((function(t){null!=e[t]&&(n[t]=(0,s.hexlify)(e[t]))})),e.accessList&&(n.accessList=(0,u.accessListify)(e.accessList)),n}}},209621:function(e,t,r){r.d(t,{c:function(){return u},l:function(){return d}});var n=r(727083),o=r(636919),s=r(951579),i=r(322018),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const c=new o.Logger(s.i);class u extends i.r{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return a(this,void 0,void 0,(function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||c.throwError("no network detected",o.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,n.defineReadOnly)(this,"_network",t),this.emit("network",t,null))),t}))}}class d extends u{constructor(e,t){c.checkAbstract(new.target,d),e=(0,n.getStatic)(new.target,"getNetwork")(e),t=(0,n.getStatic)(new.target,"getApiKey")(t);super((0,n.getStatic)(new.target,"getUrl")(e,t),e),"string"==typeof t?(0,n.defineReadOnly)(this,"apiKey",t):null!=t&&Object.keys(t).forEach((e=>{(0,n.defineReadOnly)(this,e,t[e])}))}_startPending(){c.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return c.throwError("API provider does not support signing",o.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return c.throwError("not implemented; sub-classes must override getUrl",o.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}},30074:function(e,t,r){r.d(t,{Q:function(){return d}});var n=r(727083),o=r(636919),s=r(951579),i=r(322018);const a=new o.Logger(s.i);let c=1;function u(e,t){const r="Web3LegacyFetcher";return function(e,o){const s={method:e,params:o,id:c++,jsonrpc:"2.0"};return new Promise(((e,o)=>{this.emit("debug",{action:"request",fetcher:r,request:(0,n.deepCopy)(s),provider:this}),t(s,((t,n)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:s,provider:this}),o(t);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:n,provider:this}),n.error){const e=new Error(n.error.message);return e.code=n.error.code,e.data=n.error.data,o(e)}e(n.result)}))}))}}class d extends i.r{constructor(e,t){null==e&&a.throwArgumentError("missing provider","provider",e);let r=null,o=null,s=null;"function"==typeof e?(r="unknown:",o=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),s=e,e.request?(""===r&&(r="eip-1193:"),o=function(e){return function(t,r){null==r&&(r=[]);const o={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,n.deepCopy)(o),provider:this}),e.request(o).then((e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:o,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:o,error:e,provider:this}),e}))}}(e)):e.sendAsync?o=u(0,e.sendAsync.bind(e)):e.send?o=u(0,e.send.bind(e)):a.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),(0,n.defineReadOnly)(this,"jsonRpcFetchFunc",o),(0,n.defineReadOnly)(this,"provider",s)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}},648307:function(e,t,r){r.d(t,{q:function(){return h}});var n=r(281815),o=r(727083),s=r(322018),i=r(636919),a=r(951579);let c=null;try{if(c=WebSocket,null==c)throw new Error("inject please")}catch(e){const t=new i.Logger(a.i);c=function(){t.throwError("WebSockets not supported in this environment",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var u=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};const d=new i.Logger(a.i);let l=1;class h extends s.r{constructor(e,t){"any"===t&&d.throwError("WebSocketProvider does not support 'any' network yet",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super("string"==typeof e?e:"_websocket",t),this._pollingInterval=-1,this._wsReady=!1,"string"==typeof e?(0,o.defineReadOnly)(this,"_websocket",new c(this.connection.url)):(0,o.defineReadOnly)(this,"_websocket",e),(0,o.defineReadOnly)(this,"_requests",{}),(0,o.defineReadOnly)(this,"_subs",{}),(0,o.defineReadOnly)(this,"_subIds",{}),(0,o.defineReadOnly)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((e=>{this.websocket.send(this._requests[e].payload)}))},this.websocket.onmessage=e=>{const t=e.data,r=JSON.parse(t);if(null!=r.id){const e=String(r.id),n=this._requests[e];if(delete this._requests[e],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let e=null;r.error?(e=new Error(r.error.message||"unknown error"),(0,o.defineReadOnly)(e,"code",r.error.code||null),(0,o.defineReadOnly)(e,"response",t)):e=new Error("unknown error"),n.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval((()=>{this.emit("poll")}),1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){d.throwError("cannot reset events block on WebSocketProvider",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){d.throwError("cannot set polling interval on WebSocketProvider",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return u(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&d.throwError("cannot set polling on WebSocketProvider",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=l++;return new Promise(((n,o)=>{const s=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(s),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?o(e):n(t)},payload:s},this._wsReady&&this.websocket.send(s)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return u(this,void 0,void 0,(function*(){let n=this._subIds[e];null==n&&(n=Promise.all(t).then((e=>this.send("eth_subscribe",e))),this._subIds[e]=n);const o=yield n;this._subs[o]={tag:e,processFunc:r}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=n.O$.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{e&&this.emit(t,e)}))};t(e),this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>"tx"===e.type)).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter((e=>"tx"===e.type)).length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then((e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))})))}destroy(){return u(this,void 0,void 0,(function*(){this.websocket.readyState===c.CONNECTING&&(yield new Promise((e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}}))),this.websocket.close(1e3)}))}}},888132:function(e,t,r){r.r(t),r.d(t,{randomBytes:function(){return n.O},shuffled:function(){return o.y}});var n=r(606190),o=r(131176)},606190:function(e,t,r){r.d(t,{O:function(){return c}});var n=r(279527),o=r(636919);const s=new o.Logger("random/5.7.0");const i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();let a=i.crypto||i.msCrypto;function c(e){(e<=0||e>1024||e%1||e!=e)&&s.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return a.getRandomValues(t),(0,n.arrayify)(t)}a&&a.getRandomValues||(s.warn("WARNING: Missing strong random number source"),a={getRandomValues:function(e){return s.throwError("no secure random source avaialble",o.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}})},131176:function(e,t,r){function n(e){for(let t=(e=e.slice()).length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}r.d(t,{y:function(){return n}})},752330:function(e,t,r){r.r(t),r.d(t,{SupportedAlgorithm:function(){return o.p},computeHmac:function(){return n.Gy},ripemd160:function(){return n.bP},sha256:function(){return n.JQ},sha512:function(){return n.o}});var n=r(968242),o=r(923658)},968242:function(e,t,r){r.d(t,{Gy:function(){return h},bP:function(){return u},JQ:function(){return d},o:function(){return l}});var n=r(299322),o=r.n(n),s=r(279527),i=r(923658),a=r(636919);const c=new a.Logger("sha2/5.7.0");function u(e){return"0x"+o().ripemd160().update((0,s.arrayify)(e)).digest("hex")}function d(e){return"0x"+o().sha256().update((0,s.arrayify)(e)).digest("hex")}function l(e){return"0x"+o().sha512().update((0,s.arrayify)(e)).digest("hex")}function h(e,t,r){return i.p[e]||c.throwError("unsupported algorithm "+e,a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+o().hmac(o()[e],(0,s.arrayify)(t)).update((0,s.arrayify)(r)).digest("hex")}},923658:function(e,t,r){var n;r.d(t,{p:function(){return n}}),function(e){e.sha256="sha256",e.sha512="sha512"}(n||(n={}))}}]);
//# sourceMappingURL=79205-030b3efa2f7b3126.js.map