"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15158],{58123:function(e,t,s){s.d(t,{N:function(){return a}});var r=s(452338),l=s(490650);const a=e=>{const{totalReward:t,timesWon:s}=e.reduce(((e,t)=>{const s=t.wonAmount.value;return e.totalReward+=s,s>0&&e.timesWon++,e}),{totalReward:0,timesWon:0}),a=e.length,n=a>0?s/a*100:0;return[{id:"totalReward",label:"My Total Reward",value:"".concat((0,l.ol)((0,r.K$)(t),"USDT",{stableToDollar:!1}))},{id:"timesPlayed",label:"Times Played",value:(0,r.K$)(a)},{id:"timesWon",label:"Times Won",value:(0,r.K$)(s)},{id:"winRate",label:"Win Rate",value:"".concat((0,r.g0)(n,2),"%")}]}},969158:function(e,t,s){s.d(t,{U:function(){return a}});var r=s(939804),l=s(631546);const a=e=>{let{value:t}=e;return(0,r.jsx)(l.ZP,{date:t,renderer:e=>{let{formatted:{minutes:t,seconds:s}}=e;return(0,r.jsx)("span",{style:{fontFeatureSettings:"'tnum' on, 'lnum' on"},className:"font-tnum font-lnum",children:"".concat(t,":").concat(s)})}})}},83354:function(e,t,s){s.d(t,{PredictionMainSection:function(){return j}});var r=s(939804),l=s(893889),a=s(572566),n=s(462541),i=s(686168),o=s(798692),c=s(412522),d=s(9910);const u=()=>{const{onBanxaBuyToken:e}=(0,c.j)();return(0,r.jsxs)("div",{className:"flex flex-col gap-3 w-full",children:[(0,r.jsxs)("div",{className:"text-caption-sm-a",children:["Don’t have enough USDT to Join?",(0,r.jsx)("br",{}),"Swap now or buy with a card to secure your tickets!"]}),(0,r.jsxs)("div",{className:"flex gap-2 justify-center w-full",children:[(0,r.jsx)("button",{className:"msq-btn msq-btn-md msq-btn-secondary w-[118px] max-sm-msq:w-full",children:(0,r.jsx)(o.default,{target:"_blank",href:d.Zt.swap("/"),children:"Swap Tokens"})}),(0,r.jsx)("button",{onClick:e,className:"msq-btn msq-btn-md msq-btn-secondary w-[118px] max-sm-msq:w-full",children:"Get with Card"})]})]})};var x=s(577689),m=s(969158);const b=e=>{let{round:t,isLoading:s}=e;const a=!!t&&(0,i.EA)(t);var n;const o=null!==(n=null==t?void 0:t.closeTimestamp)&&void 0!==n?n:0,c=(0,l.useRef)(1);return(0,r.jsx)(x.Z,{variant:"h1",children:(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:["Next Round in"," ",s?(0,r.jsx)("span",{className:"skeleton-text h-8 max-xl-msq:h-6 w-[60px] max-md-msq:w-[50px]"}):(0,r.jsx)(x.Z,{variant:"h1",color:"pink",children:a?"TBD":(0,r.jsx)(m.U,{value:o},c.current++)})]})})};var h=s(855863);const f=()=>(0,r.jsx)("div",{className:"inline-flex justify-center",children:(0,r.jsx)("span",{className:"bg-base-bg-secondary-blue text-caption-xs-a rounded-xl overflow-hidden px-2 py-1",children:(0,r.jsxs)("span",{className:"text-caption-xs-a text-base-text-primary",children:[(0,r.jsx)("span",{className:"whitespace-nowrap",children:"The price is updated in real time"})," ",(0,r.jsxs)("span",{className:"whitespace-nowrap",children:["based on data from",(0,r.jsx)(h.Xo,{className:"icon-xs mx-1"}),(0,r.jsx)(o.default,{className:"text-base-text-blue",href:"https://docs.chain.link/data-feeds/price-feeds",target:"_blank",children:"ChainLink"})]})]})})}),p=()=>(0,r.jsxs)("button",{className:"msq-btn msq-btn-lg cursor-default bg-base-bg-secondary",children:[(0,r.jsxs)("span",{className:"flex mr-1.5",children:[(0,r.jsx)(h.po,{className:"icon-xs"}),(0,r.jsx)(h.AA,{className:"icon-xs -ml-2"})]}),"BNB / USDT Price"]});var v=s(962367);const j=()=>{const{data:e,isLoading:t}=(0,n.y)(),[s,o]=(0,l.useState)(v.AP.PREDICTION),c=(0,i.pd)({rounds:e,state:i.sn.LOCKED}),d=v.ll[s];return(0,r.jsxs)("div",{className:"w-full max-w-full flex flex-col gap-6 items-center",children:[(0,r.jsx)(b,{round:c,isLoading:t}),(0,r.jsxs)("div",{className:"flex gap-2 max-md-msq:flex-col max-sm-msq:w-full",children:[(0,r.jsx)(p,{}),(0,r.jsx)(v.ap,{selectedTab:s,onChange:o})]}),(0,r.jsx)(a.H,{children:(0,r.jsx)(d,{})}),(0,r.jsx)(u,{}),(0,r.jsx)(f,{})]})}},301983:function(e,t,s){s.d(t,{$:function(){return ie}});var r=s(939804),l=s(396762),a=s(593570),n=s(462541),i=s(536494),o=s(577689),c=s(686168),d=s(969158),u=s(943519),x=s(692489),m=s(893889),b=s(11793),h=s(323359),f=s(735734),p=s(347177),v=s.n(p),j=s(908074),g=s(95761),N=s(537806),w=s(432959),C=s(584618),y=s(775368),D=s(214627),k=s(249312),P=s(436511),L=s(325957);const A={[h.L.UP]:{Icon:L.W,states:{default:{titleColor:"green",subtitleColor:"primary",borderColor:"border-base-border-medium",borderWidth:1},selected:{titleColor:"green",subtitleColor:"primary",borderColor:"border-base-border-green",borderWidth:2},ended:{titleColor:"green",subtitleColor:"primary",borderColor:"",borderWidth:0,bgColor:"secondary-green"},disabled:{titleColor:"tertiary",subtitleColor:"tertiary",borderColor:"border-base-border-medium",borderWidth:1}}},[h.L.DOWN]:{Icon:P.z,states:{default:{titleColor:"red",subtitleColor:"primary",borderColor:"border-base-border-medium",borderWidth:1},selected:{titleColor:"red",subtitleColor:"primary",borderColor:"border-base-border-red",borderWidth:2},ended:{titleColor:"red",subtitleColor:"primary",borderColor:"",borderWidth:0,bgColor:"secondary-red"},disabled:{titleColor:"tertiary",subtitleColor:"tertiary",borderColor:"border-base-border-medium",borderWidth:1}}}},E=e=>{let{direction:t,state:s,value:l,onClick:a}=e;const{Icon:n,states:i}=A[t],c=i[s],d="disabled"===s;return(0,r.jsxs)("div",{onClick:()=>{a&&!d&&(null==a||a(t))},className:(0,k.cn)("flex flex-col justify-center items-center w-full gap-0.5 h-16 rounded-xl ","".concat(c.borderColor),"border".concat(1===c.borderWidth?"":"-".concat(c.borderWidth)),"".concat(c.bgColor?"bg-base-bg-".concat(c.bgColor):""),a&&!d?"cursor-pointer":""),children:[(0,r.jsxs)("div",{className:"flex items-center pl-1",children:[(0,r.jsx)(o.Z,{color:c.titleColor,variant:"caption-s-strong",children:(0,r.jsx)("div",{children:t})}),(0,r.jsx)(n,{className:"icon-xs text-base-text-".concat(c.titleColor)})]}),(0,r.jsx)(o.Z,{variant:"caption-xs-strong",color:c.subtitleColor,children:l})]})};var W=s(798692),I=s(412522),T=s(9910);const S=e=>{let{walletBalance:t,isDisabled:s}=e;const{onBanxaBuyToken:l}=(0,I.j)(),{data:a}=(0,w.g)();var n;const i=null!==(n=null==a?void 0:a.value)&&void 0!==n?n:0;return(0,r.jsx)(b.C_,{children:(0,r.jsx)(g.IH,{children:t<i?(0,r.jsxs)("div",{className:"flex flex-col gap-2 justify-center w-full max-w-full",children:[(0,r.jsx)("button",{className:"msq-btn msq-btn-lg msq-btn-secondary",type:"button",children:(0,r.jsx)(W.default,{target:"_blank",href:T.Zt.swap("/"),children:"Get USDT with Swap"})}),(0,r.jsx)("button",{onClick:l,className:"msq-btn msq-btn-lg msq-btn-secondary",type:"button",children:"Get USDT with Card"})]}):(0,r.jsx)(b.Qd,{type:"submit",isDisabled:s,variant:s?"secondary":"primary",children:s?"Enter Amount":"Confirm"})})})},q=[h.L.UP,h.L.DOWN],O=e=>{let{defaultDirection:t,round:s,onSubmit:l,participation:a}=e;const[n]=(0,m.useState)((()=>({amount:"0",direction:t}))),{data:i,isPending:o}=(0,g.ex)({tokenName:"USDT"});var c;const d=null!==(c=null==i?void 0:i.value)&&void 0!==c?c:0,{data:u}=(0,w.g)();var x;const b=null!==(x=null==u?void 0:u.value)&&void 0!==x?x:0,p=null==u?void 0:u.formatted,P=(0,m.useMemo)((()=>j.z.object({amount:j.z.string().refine((e=>parseFloat(e)>=b),{message:0===b?"Something went wrong. Try again later.":"Amount must be at least ".concat(p)}),direction:j.z.enum(q)})),[p,b]),L=(0,f.cI)({resolver:(0,N.F)(P),defaultValues:n}),{handleSubmit:A,control:W,watch:I,formState:T,trigger:O}=L,U=I("amount"),R=I("direction"),{isDirty:K,errors:z,isSubmitting:Z}=T,V=Object.keys(z).length>0,B=!K||V||Z||!U||o||0===b,Q=!o&&i?+i.value.toFixed(2):0,{betPrediction:_}=(0,C.H)(),F=A((async()=>{await _({amount:Number(U),direction:R})&&l()}));var M;return(0,m.useEffect)((()=>{!o&&d<b&&O("amount")}),[o,b,O,d]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{onSubmit:F,className:v()("flex flex-col pt-6 max-md-msq:pt-4"),children:[(0,r.jsxs)("div",{className:"flex flex-col gap-6 max-md-msq:gap-4",children:[(0,r.jsx)(D.N,{label:"Your Prediction",children:(0,r.jsx)(f.Qr,{control:W,name:"direction",render:e=>{let{field:{onChange:t,value:l}}=e;return(0,r.jsx)("div",{className:"flex gap-2",children:q.map((e=>{const n=a.isParticipated&&e!==a.direction?"disabled":l===e?"selected":"default";return(0,r.jsx)(E,{onClick:t,direction:e,value:e===h.L.UP?s.bullAmount.formatted:s.bearAmount.formatted,state:n},e)}))})}})}),(0,r.jsx)(y.w,{name:"amount",label:"USDT Amount",control:W,min:0,max:Q,showPlusMinus:!1,decimals:2,placeholder:null!==(M=String(b))&&void 0!==M?M:"",presets:{values:[10,25,50,75],variant:"percents"},renderHintMessage:e=>((e,t,s)=>(0,r.jsxs)("div",{children:[Boolean(s)&&(0,r.jsx)("div",{children:s}),0!==t&&(0,r.jsxs)(g.IH,{placeholder:"Connect Wallet",children:["Wallet Balance: ",(0,k.v_)(null!=e?e:0)," USDT"]})]}))(null==i?void 0:i.value,b,e)})]}),(0,r.jsx)(S,{isDisabled:B,walletBalance:d})]})})},U=e=>{let{closeModal:t,defaultDirection:s,round:l,participation:a,...n}=e;return(0,r.jsx)(b.QA,{...n,title:"Your Prediction",titleIsLeftAligned:!0,size:"sm",children:(0,r.jsx)(O,{round:l,onSubmit:()=>{t()},defaultDirection:s,participation:a})})};var R=s(63338),K=s(311226);const z={[c.sn.CLOSED]:e=>{let{participation:t,round:s}=e;var l;return t.isParticipated?(0,c.LV)(s)===R.I.DRAW?(0,r.jsx)(b.Qd,{variant:"secondary",isDisabled:!0,children:"Your entry has been refunded"}):t.wonAmount.value<=0?(0,r.jsxs)(b.Qd,{variant:"secondary",isDisabled:!0,children:["You bet on ",t.directionTitle," • No reward"]}):(0,r.jsx)("button",{className:"msq-btn msq-btn-lg bg-base-bg-secondary-orange rounded-xl",disabled:!0,children:(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)(K.E,{className:"icon-xs text-base-text-orange"}),(0,r.jsxs)("div",{children:["You Won ",null===(l=t.wonAmount)||void 0===l?void 0:l.formatted,"!"]})]})}):(0,r.jsx)(b.Qd,{variant:"secondary",isDisabled:!0,children:"You didn't bet in this round"})},[c.sn.LOCKED]:e=>{let{participation:t}=e;return(0,r.jsxs)(b.Qd,{variant:"secondary",isDisabled:!0,children:[t.isParticipated&&(0,r.jsxs)(r.Fragment,{children:["You bet on ",t.direction," • "]}),"Price locked"]})},[c.sn.ACTIVE]:e=>{let{round:t,participation:s}=e;const[l,a]=(0,m.useState)(h.L.UP),[n,i]=(0,m.useState)(!1),o=e=>{a(e),i(!0)};return(0,r.jsxs)(r.Fragment,{children:[n&&(0,r.jsx)(U,{defaultDirection:l,open:n,closeModal:()=>i(!1),round:t,onOpenChange:i,participation:s}),s.isParticipated?(0,r.jsxs)(b.Qd,{onClick:()=>o(s.direction),children:["More on ",s.direction]}):(0,r.jsxs)("div",{className:"flex w-full gap-2",children:[(0,r.jsx)(b.Qd,{onClick:()=>o(h.L.UP),children:"Enter UP"}),(0,r.jsx)(b.Qd,{onClick:()=>o(h.L.DOWN),children:"Enter Down"})]})]})}},Z=e=>{let{round:t}=e;const{userEvmWallet:s}=(0,u.useAuth)(),l=(0,x.I)({round:t,wallet:null==s?void 0:s.attributes.address}),a=z[t.state];return(0,r.jsx)(a,{round:t,participation:l})};var V=s(934559);const B=e=>{let{isLocked:t,children:s}=e;return t?(0,r.jsxs)("div",{className:" w-full h-full rounded-3xl border-2 border-base-border-pink-medium card-boxshadow-default relative overflow-hidden ",style:{background:"linear-gradient(rgb(var(--colors-base-bg-tertiary-pink)), rgb(var(--colors-card-default-default-bg)))",zIndex:1},children:[(0,r.jsx)(V.m,{className:"absolute h-[176px] -translate-x-[50%] left-[50%]",style:{color:"rgb(var(--colors-base-border-pink-medium))",zIndex:"-1"}}),s]}):(0,r.jsx)("div",{className:"w-full h-full rounded-3xl border-[1px] border-base-border-medium bg-card-default-default-bg relative",style:{zIndex:1},children:s})};var Q=s(745980),_=s(260440),F=s(321713);const M=e=>{let{round:t}=e;const s=(0,c.LV)(t),l={[R.I.UP]:{variant:Q.u1.GREEN,icon:L.W,text:"UP Won!"},[R.I.DOWN]:{variant:Q.u1.RED,icon:P.z,text:"DOWN Won!"},[R.I.DRAW]:{variant:t.state===c.sn.CLOSED?Q.u1.DEFAULT:Q.u1.PINK,icon:_.Z,text:"Draw"}},{variant:a,icon:n,text:i}=l[s];return t.state===c.sn.CLOSED?(0,r.jsx)(Q.Af,{size:Q.TK.LARGE,icon:n,variant:a,text:i}):t.state===c.sn.ACTIVE?(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-base-bg-secondary-orange flex justify-center items-center m-auto",children:(0,r.jsx)(F.G,{className:"icon-xs text-base-text-orange"})}):(0,r.jsx)(Q.Af,{isReversed:s!==R.I.DRAW,icon:n,size:Q.TK.LARGE,variant:a,text:t.priceChange.formatted})},Y=e=>{let{round:t}=e;const s={[c.sn.CLOSED]:{priceKey:"closePrice",title:"Closed Price",color:"primary"},[c.sn.LOCKED]:{priceKey:"closePrice",title:"Current Price",color:t.priceChange.value>0?"green":"red"},[c.sn.ACTIVE]:{priceKey:"totalAmount",title:"Prize Pool",color:"primary"}},{priceKey:l,title:a,color:n}=s[t.state];return(0,r.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,r.jsx)(o.Z,{variant:"caption-s",color:"tertiary",textAlign:"center",children:a}),(0,r.jsx)(o.Z,{variant:"display",color:n,textAlign:"center",children:t[l].formatted})]})},G=[h.L.UP,h.L.DOWN],H=e=>{let{round:t}=e;const{userEvmWallet:s}=(0,u.useAuth)(),l=(e=>{let{round:t,wallet:s}=e;const r=(0,x.I)({round:t,wallet:s}),l=(0,c.LV)(t);switch(t.state){case c.sn.CLOSED:return{UP:l===R.I.UP?"ended":"disabled",DOWN:l===R.I.DOWN?"ended":"disabled"};case c.sn.LOCKED:case c.sn.ACTIVE:return{UP:r.isParticipated&&r.direction===h.L.UP?"selected":"default",DOWN:r.isParticipated&&r.direction===h.L.DOWN?"selected":"default"}}})({round:t,wallet:null==s?void 0:s.attributes.address});return(0,r.jsx)("div",{className:"flex gap-2",children:G.map((e=>(0,r.jsx)(E,{direction:e,value:e===h.L.UP?t.bullAmount.formatted:t.bearAmount.formatted,state:l[e]},e)))})};var $=s(787907),J=s(920155),X=s(964127),ee=s(752836),te=s(48693);const se={[c.sn.CLOSED]:{title:"Previous",titleColor:"tertiary",variant:"secondary",progress:"progress",Icon:X.q,iconColor:"tertiary"},[c.sn.LOCKED]:{title:"Ongoing",titleColor:"primary",variant:"primary",progress:"over",Icon:ee.e,iconColor:"pink"},[c.sn.ACTIVE]:{title:"Upcoming",titleColor:"tertiary",variant:"secondary",progress:"progress",Icon:te.B,iconColor:"tertiary"}},re=e=>{let{round:t}=e;const[s,l]=(0,m.useState)($.H),{startTimestamp:a,closeTimestamp:n}=t;(0,m.useEffect)((()=>{const e=setInterval((()=>{const t=(0,$.H)();t>=n?(clearInterval(e),l(n)):l(t)}),1e3);return()=>clearInterval(e)}),[a,n]);const i=t.state===c.sn.CLOSED,d=se[t.state],u=d.Icon;return(0,r.jsx)(J.k,{title:(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)(o.Z,{variant:"caption-s-strong",color:d.iconColor,children:(0,r.jsx)(u,{className:"icon-xs"})}),(0,r.jsx)(o.Z,{variant:"caption-s-strong",color:d.titleColor,children:d.title})]}),subtitle:t.id,value:i?0:s,size:"s",min:a,max:n,variant:d.variant,progress:d.progress})},le=e=>{let{round:t}=e;const s=t.state===c.sn.LOCKED,l=t.state===c.sn.ACTIVE;return(0,r.jsx)(B,{isLocked:s,children:(0,r.jsxs)("div",{className:"p-4 pt-3 w-full h-full flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"h-full flex flex-col gap-1.5",children:[(0,r.jsx)(re,{round:t}),(0,r.jsx)("div",{className:"h-4 w-full flex",children:(s||l)&&(0,r.jsxs)(o.Z,{color:"tertiary",variant:"caption-xs-strong",textAlign:"left",children:[l?"Price locks in ":"Result in ",(0,r.jsx)(d.U,{value:t.closeTimestamp})]})}),(0,r.jsxs)("div",{className:"flex flex-col justify-between h-full gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col h-full justify-center",children:[(0,r.jsx)("div",{className:"h-12 mb-4 flex items-center justify-center",children:(0,r.jsx)(M,{round:t})}),(0,r.jsx)(Y,{round:t}),(0,r.jsx)("div",{children:(0,r.jsx)(o.Z,{variant:"caption-m",color:"tertiary",textAlign:"center",children:t.state===c.sn.ACTIVE?"Current Price: ".concat(t.closePrice.formatted):"Locked Price: ".concat(t.lockPrice.formatted)})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("div",{className:t.state===c.sn.ACTIVE?"invisible":void 0,children:(0,r.jsx)(i.Y,{items:[{description:"Prize Pool",value:t.totalAmount.formatted}]})}),(0,r.jsx)(H,{round:t})]})]})]}),(0,r.jsx)(Z,{round:t})]})})},ae=()=>(0,r.jsx)(B,{children:(0,r.jsx)("div",{className:"p-4 pt-3 w-full h-full",children:(0,r.jsxs)("div",{className:"h-full flex flex-col justify-between",children:[(0,r.jsxs)("div",{className:"h-full flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("div",{className:"w-20 h-4 skeleton-text"}),(0,r.jsx)("div",{className:"w-20 h-4 skeleton-text"})]}),(0,r.jsxs)("div",{className:"h-full flex flex-col items-center justify-center mb-12",children:[(0,r.jsx)("div",{className:"flex h-12 items-center mb-4",children:(0,r.jsx)("div",{className:"skeleton-block rounded-full h-8 w-20"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"h-5 flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-20 h-4 skeleton-text"})}),(0,r.jsx)("div",{className:"h-10 flex items-center",children:(0,r.jsx)("div",{className:"w-40 h-9 skeleton-text"})})]}),(0,r.jsx)("div",{className:"w-20 h-4 skeleton-text"})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("div",{className:"skeleton-block w-full h-16"}),(0,r.jsx)("div",{className:"skeleton-block w-full h-16"})]}),(0,r.jsx)("div",{className:"skeleton-block w-full h-10"})]})]})})}),ne="\n    select-none\n    aspect-[3/4]\n    max-w-full\n    w-[342px] max-xl-msq:w-[330px] max-md-msq:w-[364px] max-xs-msq:w-full\n    px-2 max-md-msq:px-1\n    first:pl-0 last:pr-0\n    min-h-[390px]\n",ie=()=>{const{data:e,isLoading:t}=(0,n.y)();return(0,r.jsx)(a.tq,{className:"line-swiper-pagination max-sm-msq:w-full -mx-4 max-md:px-4 md:-mx-2","data-qa":"prediction_card",modules:[l.tl],pagination:{enabled:!0,clickable:!0},watchOverflow:!0,slidesPerView:"auto",children:(null==e?void 0:e.length)&&!t?e.map((e=>e&&(0,r.jsx)(a.o5,{className:ne,children:(0,r.jsx)(le,{round:e})},e.id))):[1,2,3].map((e=>(0,r.jsx)(a.o5,{className:ne,children:(0,r.jsx)(ae,{})},e)))})}}}]);
//# sourceMappingURL=page-ccff1a51-ce80286d85198f6f.js.map