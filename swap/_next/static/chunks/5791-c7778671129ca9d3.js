"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5791],{37796:function(e,n,t){t.d(n,{Pk:function(){return p},c:function(){return h},k0:function(){return f},tf:function(){return u}});var s=t(17806),r=t.n(s),a=t(69560),o=t.n(a),i=t(16563),l=t.n(i),c=t(79400);class d extends Error{constructor(e,n,t,s,r){super(e),this.message=e,this.code=n,this.type=t,this.data=s,this.raw=r,this.name="ApiError"}}const u=async e=>{let n={type:"UNKNOWN_TYPE",code:e.response.status,message:e.message};try{const t=await e.response.json();n=(null==t?void 0:t.errors)&&Array.isArray(null==t?void 0:t.errors)&&(null==t?void 0:t.errors[0])?{...n,...t.errors[0],message:t.errors[0].message||t.errors[0].title||""}:{...n,...t}}catch(e){}return new d(n.message,n.code,n.type,n.data,n)},f=e=>o()(e)&&"message"in e&&"code"in e&&"type"in e,p=(e,n)=>void 0===e?{...n}:Array.isArray(e)?[...e,...r()(n)]:e instanceof Headers?(r()(n).forEach((n=>{let[t,s]=n;return e.set(t,s)})),e):l()({},e,n),h=e=>async n=>{let{headers:t,...s}=n;const r=await(0,c.pL)({});return e({...s,headers:p(t,{Nonce:r})})}},94934:function(e,n,t){t.d(n,{O_:function(){return i},zG:function(){return c}});var s=t(11768),r=t(900);const a=["/v2/store/page","/v2/store/application","/v1/main/store/app","/v2/hot-offers/how-to-get/:offerId","/v1/main/store/see-all","/v2/store/creator"],o=(0,r.Z)(),i=e=>{if(404!==e.response.status)return!1;const n=new URL(o).pathname,t=new URL(e.response.url).pathname.replace(n,"");return a.some((e=>(0,s.ss)(e,t)))},l=()=>null,c=async(e,n)=>{(e=>{let{code:n,message:t}=e;var s,r;return![401].includes(n)&&"INVALID_TOKEN"!==t||"function"!=typeof(null===(s=window)||void 0===s?void 0:s.__logoutClient)?l:null===(r=window)||void 0===r?void 0:r.__logoutClient})(n)(e,n)}},42373:function(e,n,t){t.d(n,{B1:function(){return i},UC:function(){return a}});var s=t(67781),r=t(78037);const a="turnstile-container",o=async e=>{const n=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unnamed_action";const n="#".concat(a);return new Promise(((t,s)=>(window.turnstile||s(new Error("Turnstile is not initialized. Please contact support.")),window.turnstile.ready((()=>{window.turnstile.render(n,{action:e,sitekey:"0x4AAAAAAAJXm3gxYL4NABDV",callback(e){e?t(e):s(new Error("No token received after Turnstile execution."))}})})))))}(e);return{headerName:"x-cf-token",token:n}},i=(e,n,t)=>async a=>{const i=a||{};if(!t)return e(i);const l=(0,r.R)("isDev"),c=(0,r.R)("isLocalEnv");if(l&&s.Z.get("cf-skip-cap")||c)return i.headers={...i.headers,"cf-skip-turnstile":"rusik-TRUSIK.lol.captcha-DISABLER-23423423"},e(i);const{headerName:d,token:u}=await o(n);return u?(i.headers={...i.headers,[d]:u},e(i)):Promise.reject(new Error("Captcha challenge failed. Try again or contact site admin for help."))}},61238:function(e,n,t){t.d(n,{S:function(){return a}});var s=t(6843);const r=t(18741).T1.DEFAULT,a=e=>{let n;if("string"==typeof e?n=e:"object"==typeof e&&null!==e&&("message"in e?n=e.message:"shortMessage"in e&&(n=e.shortMessage)),n)try{const e=JSON.parse(n);(null==e?void 0:e.message)&&(n=e.message)}catch(e){}return n||(n=r),new Error(n)};n.Z=e=>{let n,{error:t,replaceErrorMessageCallback:o,justReturnHandledMessage:i}=e,l={};const{message:c}=a(t);if(o){const{newMessage:e,toastOptions:t}=o(c);n=e,t&&(l=t)}else n=c.includes(r)?c:"".concat(r," ").concat(c);return i||s.Am.error(n,{toastId:c,...l}),n}},35276:function(e,n,t){t.d(n,{z:function(){return i}});var s=t(39804),r=t(18741),a=t(37796),o=t(61238);const i={UNPAID_GAS_FEES:"UNPAID_GAS_FEES",SIGN_MESSAGE_REQUEST:"SIGN_MESSAGE_REQUEST"};n.Z=e=>{let{error:n,justReturnHandledMessage:t,unknownExceptionReplaceMessage:l,details:c}=e;return(0,o.Z)({error:n,replaceErrorMessageCallback:e=>{var t,o,d;if(e.includes("null is not an object (evaluating"))return{newMessage:"Browser probably blocked opening that link.\nPlease allow pop-ups in your browser's settings"};if(e===r.T1.REFLECT_GET_CALLED_ON_NON_OBJECT)return(null==c?void 0:c.walletType)?{newMessage:(o=c.walletType,d?(0,s.jsxs)("span",{children:["To run ",(0,s.jsx)("b",{children:o}),", please turn off ",(0,s.jsx)("b",{children:d})," extension"]}):(0,s.jsxs)("span",{children:["Please install the ",(0,s.jsx)("b",{children:o})," extension!"]}))}:{newMessage:"Unsuccessful text replacement: ".concat(e)};if(e===r.T1.RESOURCE_UNAVAILABLE||e.includes(r.T1.RESOURCE_UNAVAILABLE2))return{newMessage:"Failed to reach your wallet provider/extension. \n Please check it out manually and try again."};if(e===r.dT.PLEASE_CONNECT_TO_PROCEED)return{newMessage:e,toastOptions:{type:"info"}};if(e===r.T1.AN_INTERNAL_ERROR_HAS_OCCURRED)return{newMessage:"Looks like you don't have wallets installed in your browser, download any EVM wallet"};if(e===r.dT.INVALID_TOKEN_DATA)return{newMessage:"Wallet connection failed"};if(e.toLowerCase().includes("insufficient funds"))return{newMessage:"You do not have enough native tokens to cover the gas fees for this transaction. Please add funds to your wallet and try again."};if(/user rejected the request|user rejected request/i.test(e))return(null==c?void 0:c.scope)===i.SIGN_MESSAGE_REQUEST?{newMessage:"You declined the sign message request. Please start the process again"}:(null==c?void 0:c.scope)===i.UNPAID_GAS_FEES?{newMessage:"Transaction failed due to unpaid gas fees. Please try again"}:{newMessage:"User rejected the request"};if(e.includes("user rejected transaction"))return{newMessage:"User rejected the transaction"};if((0,a.k0)(n)&&"HAS_GITCOIN_SCORE"===(null===(t=n.data)||void 0===t?void 0:t.type))return{newMessage:r.T1.WALLET_HAS_GITCOIN_SCORE};if(e.includes("transaction underpriced"))return{newMessage:"This transaction cannot be processed because the fee is too low. To fix this, either try again later, possibly when the network is less busy, or increase the gas fee manually in the transaction settings.",toastOptions:{autoClose:3e4}};if(e.includes("invalid address or ENS name"))return{newMessage:"Invalid address or ENS name"};for(const n of(null==c?void 0:c.customReplaceMessageSet)||[]){const[t,s]=Object.entries(n)[0];if(null==e?void 0:e.toLowerCase().includes(null==t?void 0:t.toLowerCase()))return{newMessage:s}}return l?(console.debug({error:n}),{newMessage:l}):{newMessage:e}},justReturnHandledMessage:t})}},900:function(e,n,t){var s=t(1323);n.Z=()=>{var e,n,t;return void 0!==s&&(null===(n=s)||void 0===s?void 0:null!==(e=n.env)&&void 0!==e||void 0)?"https://magicsquare.io/api":(null===(t={})||void 0===t?void 0:t.env.VITE_API_URL)?(void 0).VITE_API_URL:""}},82969:function(e,n,t){var s=t(30672),r=t(66436);const a=new s.ZP({baseUrl:"https://images.magicsquare.io",key:"e29101b99bab789d80771a9b394d6eea6a39463f5874dd44324981ad1af7d0d76fe28dfc5f36c7b0f52e5ad52689834858bf3618e02a76f3848ae9cb55bb5a79",salt:"48d937d60a1ded847e74ad86082bda0c41ff906f86e5d9449879fb27e0685b9422493d69bc2696f49d8b6d91256dd0056c035ce385392e25364966cb7c0c259d",encode:!0}),o=new s.ZP({baseUrl:"",key:"",salt:"",encode:!0}),i="",l=e=>{let{url:n,width:t,height:s,resizeType:l,dpr:c=1,quality:d,format:u,isClient:f}=e;if(!n)return"";if(n.startsWith("http"))return n;const p=f?i:"s3://prod-magic-store-images/";return(f?o:a).builder().resize(l,t,s,!1).dpr(c).gravity(r.GravityType.center).format(u).quality(d).generateUrl("".concat(p).concat(n))};n.Z=l},18325:function(e,n,t){t.d(n,{v:function(){return d}});t(423);var s=t(7901),r=t.n(s);const a=(e,n)=>{let{id:t,type:s,...r}=e;return{...r,...n.find((e=>e.id===t&&e.type===s))}},o=(e,n,t)=>{if(e[n]=[],e.relationships){for(const s of e.relationships[n].data)e[n].push(a(s,t));delete e.relationships[n]}},i=(e,n,t)=>{e[n]={},e[n]=a(e.relationships[n].data,t),delete e.relationships[n]},l=e=>Array.isArray(e)?e.some((e=>(null==e?void 0:e.relationships)&&Object.keys(null==e?void 0:e.relationships).length>0)):(null==e?void 0:e.constructor)===Object&&((null==e?void 0:e.relationships)&&Object.keys(null==e?void 0:e.relationships).length>0),c=(e,n)=>{const{relationships:t}=e;for(const a in t){var s;if(Array.isArray(t[a].data)){if(o(e,a,n),l(e[a]))if(Array.isArray(e[a]))for(const t of e[a])c(t,n);else(null===(s=e[a])||void 0===s?void 0:s.constructor)===Object&&c(e[a],n)}else if(t[a].data){var r;if(i(e,a,n),l(e[a]))if(l(e[a]))if(Array.isArray(e[a]))for(const t of e[a])c(t,n);else(null===(r=e[a])||void 0===r?void 0:r.constructor)===Object&&c(e[a],n)}}delete e.relationships},d=(e,n)=>{var t;const s=JSON.parse(JSON.stringify(e));r()(s.data)&&(e=>{for(const t of e.data){var n;(null==t?void 0:t.relationships)&&Object.keys(null==t?void 0:t.relationships).length>0&&c(t,null!==(n=e.included)&&void 0!==n?n:[])}})(s),(null==s?void 0:s.included)&&!r()(s.data)&&(null===(t=s.data)||void 0===t?void 0:t.relationships)&&c(s.data,s.included);let a=s.meta?{...s.data,meta:JSON.parse(JSON.stringify(s.meta))}:s.data;return n&&(a={...a,included:s.included}),a}},11768:function(e,n,t){t.d(n,{O8:function(){return r},ss:function(){return s}});const s=(e,n)=>{const t=e.split("/"),s=n.split("/");return t.length===s.length&&t.every(((e,n)=>{if(e.startsWith(":"))return!0;return e===s[n]}))},r=()=>window.location.href}}]);
//# sourceMappingURL=5791-c7778671129ca9d3.js.map