"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1339],{90905:function(e,s,a){var t=a(39804),n=a(93889),r=a(47177),l=a.n(r),i=a(90769),o=a(14721),m=a(33501),c=a(9910),d=a(61564),u=a(31123),p=a(46131),b=a(14557),x=a(22125),h=a(93713),g=a(96615),f=a(4671),q=a(14851),N=a(70833),j=a(72889),v=a(49312),C=a(61655),y=a(43416),k=a(54674),I=a(50511),w=a(73234);const Z={launchpad:i.oH.LAUNCHPAD_LINK_CLICK,staking:i.oH.STAKING_LINK_CLICK,otc:i.oH.OTC_LINK_CLICK};s.Z=e=>{let{onLogin:s}=e;const{user:a}=(0,o.j)(),[r,i]=(0,n.useState)(!1),A="flex flex-col focus:outline-0 items-center transition-all justify-center text-center gap-3 rounded-md bg-card-default-default-bg hover:bg-base-bg-secondary focus:bg-base-bg-secondary focus:relative aspect-square text-caption-sm-strong-m md-msq:rounded-lg md-msq:gap-2 md-msq:text-body-md-strong-m",S="size-10",{track:T}=(0,m.K)(),{enableMagicBoostApp:E}=(0,d.N)(),K=(0,n.useMemo)((()=>[{id:"magic-store",label:"Store",Icon:g.T,href:c.Zt.store("/")},{id:"launchpad",label:"Launchpad",Icon:h.G,href:c.Zt.launchpad("/")},{id:"staking",label:"Staking",Icon:f.k,href:c.Zt.staking("/")},{id:"swap",label:"Swap",Icon:q.z,href:"https://magicsquare.io/swap"},{id:"boost",label:"Boost",Icon:x.$,href:c.Zt.store("/magic-boost"),isAuthRequired:!0,isHidden:!E},{id:"otc",label:"OTC",Icon:j.n,href:c.FQ.otc,external:!0},{id:"dao",label:"DAO",Icon:N.N,href:c.FQ.dao,external:!0}].filter((e=>{let{isHidden:s}=e;return!s}))),[E]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(u.fC,{modal:!1,children:[(0,t.jsx)(u.xz,{className:"msq-btn msq-btn-icon-md size-[2.25rem] msq-btn-outline !rounded-full md-msq:msq-btn-icon-lg",children:(0,t.jsx)(b.V,{className:"msq-btn-icon-child-md"})}),(0,t.jsx)(u.Uv,{children:(0,t.jsxs)(u.VY,{align:"end",className:"z-10 msq-sub-menu p-4 mt-1 ml-4 grid grid-cols-3 w-[min(calc(100vw-2rem),20.5rem)] md-msq:w-[20.75rem] max-h-[calc(100vh-4.5rem)] overflow-y-auto data-[state=open]:animate-show-menu data-[state=closed]:animate-hide-menu",children:[(0,t.jsx)("div",{className:l()("p-2 pb-6 col-span-3 shadow-inset-border-bottom shadow-base-border-light mb-4","md-msq:hidden"),children:(0,t.jsx)(u.ck,{onClick:()=>{i(!0)},asChild:!0,children:(0,t.jsx)(C.u,{label:"Buy & Sell SQR",className:"text-caption-sm-strong-m w-full focus:outline-none"})})}),(0,t.jsx)(u.ck,{asChild:!0,children:a?(0,t.jsxs)(I.Z,{className:(0,v.cn)(A,"group"),href:c.Zt.store("/profile/magic-id"),children:[(0,t.jsx)(w.Z,{src:a.data.attributes.icon,membershipTier:a.data.membershipTier.attributes.key,className:(0,v.cn)(S,"msq-avatar-md group-hover:[&>.msq-avatar-img]:bg-base-bg [&>.msq-avatar-img]:transition-colors")}),"Magic ID"]}):(0,t.jsxs)("button",{onClick:()=>null==s?void 0:s(),className:(0,v.cn)(A,"group"),children:[(0,t.jsx)("span",{className:(0,v.cn)(S,"rounded-full overflow-hidden flex items-center justify-center transition-all bg-base-bg-secondary group-hover:bg-base-bg"),children:(0,t.jsx)(p.m,{className:"size-3 md-msq:size-4"})}),"Magic ID"]})}),K.map((e=>{let{id:s,Icon:n,isAuthRequired:r,href:l,external:i,label:o}=e;const m=Z[s];return(0,t.jsx)(u.ck,{asChild:!0,children:(0,t.jsxs)(I.Z,{isAuthRequired:r,href:l,className:A,onClick:()=>m&&(e=>{var s;const t=null==a||null===(s=a.data)||void 0===s?void 0:s.id;t&&T(e,{distinct_id:t})})(m),external:i,children:[(0,t.jsx)(n,{className:S}),o]})},s)}))]})})]}),(0,t.jsx)(y.Z,{items:k.wQ,open:r,onOpenChange:i})]})}},54100:function(e,s,a){a.d(s,{B:function(){return _}});var t=a(39804),n=a(93889),r=a(47177),l=a.n(r),i=a(17169),o=a(42448),m=a(49312),c=a(14721),d=a(36166),u=a(53321),p=a(69009),b=a(33997),x=a(11245),h=a(13049),g=a(84546),f=a(71013),q=a(12650),N=a(18137);const j={[h.aW.INIT]:"KYC Needed",[h.aW.PENDING]:"KYC in Progress",[h.aW.COMPLETED]:"KYC Verified",[h.aW.DELETED]:"KYC Rejected",[h.aW.REJECTED_RETRY]:"KYC Rejected",[h.aW.REJECTED_FINAL]:"KYC Rejected"},v=e=>{let{isError:s,isNeedVerification:a,isPending:t}=e;return t?"bg-base-bg-secondary":s?"bg-base-bg-secondary-red":a?"bg-base-bg-secondary-orange":""};var C=e=>{let{className:s,user:a,onOpenChange:n}=e;const r=(0,x._E)();var l;const i=(null!==(l=null==a?void 0:a.attributes.kyc.sumSub)&&void 0!==l?l:null==a?void 0:a.attributes.kyc.babt)?h.aW.COMPLETED:h.aW.INIT,o=i?j[i]:j.INIT,c=(0,f.U)(i),{hasVerifiedKyc:d,isError:u,isPending:p}=c;return d?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:(0,m.cn)("flex items-center p-3 rounded-lg gap-2 transition-colors",v(c),s),children:[(0,t.jsxs)("div",{className:"flex gap-1.5 items-center flex-1",children:[p?(0,t.jsx)(N.g,{className:"size-4 animate-loading-spin text-base-text-quaternary"}):(0,t.jsx)(q.l,{className:(0,m.cn)("size-4",{"text-base-text-orange":!u,"text-base-text-red":u})}),(0,t.jsx)("span",{className:"text-caption-sm-strong-m xl-msq:text-caption-sm-strong-d",children:o})]}),(0,t.jsx)("button",{onClick:()=>{r.open()},disabled:p,className:(0,m.cn)("msq-btn msq-btn-sm min-w-[7.5rem] mr-1 xl-msq:mr-2 xl-msq:min-w-[7.25rem]",{"msq-btn-primary":!p,"msq-btn-tertiary":p}),children:u?"Retry":"Verify"})]}),(0,t.jsx)(g.Z,{isDisabledSumSub:u,...r.props,onSuccess:()=>{null==n||n(!1)}})]})},y=a(9910),k=a(33925),I=a(10313),w=a(96673),Z=a(45758),A=a(50511),S=a(73234),T=a(90784);const E=(0,d.default)((()=>a.e(7011).then(a.bind(a,47011))),{loadableGenerated:{webpack:()=>[47011]},ssr:!1}),K=[{id:"public",items:[{id:"karma-and-rewards",label:"Karma & Rewards",href:y.Zt.store("/profile/karma")},{id:"magic-id",label:"Magic ID",href:y.Zt.store("/profile/magic-id")},{id:"magic-membership",label:"Membership & Balances",href:y.Zt.store("/profile/membership/dashboard")},{id:"invite-friends",label:"Invite Friends",href:y.Zt.store("/refer-a-friend")},{id:"vote-and-earn",label:"Vote & Earn",href:y.Zt.store("/profile/validation-tasks")}]},{id:"developer",hidden:e=>{let{user:s}=e;return!s.data.attributes.creatorId},items:[{id:"settings",label:"Developer Profile",href:y.Zt.store("/profile/edit-developer-profile")},{id:"my-applications",label:"My Applications",href:y.Zt.store("/profile/developer-dapps")},{id:"campaign-review",label:"Campaign Review",href:y.Zt.store("/profile/developer-campaign")},{id:"score-widget",label:"Score Widget",href:y.Zt.store("/profile/developer-info/widget")}]},{id:"general",className:"mt-auto",items:[{id:"support",label:"Support"},{id:"docs",label:"Docs",external:!0,href:"https://docs.magicsquare.io"},{id:"become-developer",href:y.Zt.store("/profile/edit-developer-profile"),label:"Become Developer",hidden:e=>{let{user:s}=e;return Boolean(s.data.attributes.creatorId)}}]}],D=e=>{let{user:s}=e;const{data:a}=(0,u.GiF)({searchParams:{period:"daily"}},{enabled:Boolean(s)}),t=(e=>{let{user:s,userKarma:a}=e;const t=(null==a?void 0:a.totalReward)||0,n=(0,m.v_)(t),r=(null==a?void 0:a.usdt)||0,l="USDT",c=(0,m.v_)(r),d=(null==a?void 0:a.totalSqrp)||0,u="SQRp",p=(0,m.v_)(d),b=(null==s?void 0:s.attributes.karma)||0,x="Karma",h=(0,m.v_)(b);return{sqr:{value:{amount:t,currency:"SQR",formattedAmount:n,formattedAmountWithCurrency:"".concat(n," ").concat("SQR")},icon:{Icon:o.Fh}},usdt:{value:{amount:r,currency:l,formattedAmount:c,formattedAmountWithCurrency:"".concat(c," ").concat(l)},icon:{Icon:o.AA}},sqrp:{value:{amount:d,currency:u,formattedAmount:p,formattedAmountWithCurrency:"".concat(p," ").concat(u)},icon:{colorClassName:"text-base-text-tertiary",Icon:Z.F}},karma:{value:{amount:b,currency:x,formattedAmount:h,formattedAmountWithCurrency:"".concat(h," ").concat(x)},icon:{Icon:i.h,colorClassName:"text-base-text-pink"}}}})({user:s,userKarma:a});return(0,n.useMemo)((()=>s?[{id:"magic-id-balance",label:"Magic ID Balance",className:"col-span-full",content:t.sqr.value.formattedAmountWithCurrency,subContent:t.usdt.value.formattedAmountWithCurrency,icon:t.sqr.icon,subIcon:t.usdt.icon},{id:"sqrp-balance",label:"SQRp Balance",content:t.sqrp.value.formattedAmount,icon:t.sqrp.icon},{id:"karma-balance",label:"Karma Balance",content:t.karma.value.formattedAmount,icon:t.karma.icon}]:[]),[s,a])},R=e=>{let{onLogout:s,onSupport:a,user:n,onOpenChange:r,...l}=e;const i=D({user:n.data}),{showKyc:d}=(0,c.j)(),{showGlobalInlineProfileMiddleBanner:u}=(0,b.aS)(),x=(0,T.XP)(n.data.membershipTier.attributes.key),h=n.data.membershipTier.attributes.key===p.fKh.PREMIUM_PLUS,g=[...i,{id:"membership",label:"Membership Plan",content:(0,T.$j)(n.data.membershipTier.attributes.key),className:"col-span-full",icon:{Icon:w.E,colorClassName:x.text},action:h?void 0:{label:"Upgrade",href:y.Zt.store("/profile/membership/plans"),external:!0}}],f=()=>{null==r||r(!1)},q=n.data.attributes.developerId?K:K.filter((e=>"developer"!==e.id)),N="msq-sub-menu-link msq-sub-menu-link-mobile text-caption-sm-strong-m xl-msq:text-caption-sm-strong-d",j="p-2 flex flex-col gap-1 xl-msq:p-4";return(0,t.jsx)(k.fC,{onOpenChange:r,...l,children:(0,t.jsx)(k.h_,{children:(0,t.jsx)(k.aV,{forceMount:!0,className:"msq-dialog msq-dialog-mobile-menu-m xl-msq:msq-dialog-mobile-menu-d msq-dialog-animate",children:(0,t.jsxs)(k.VY,{forceMount:!0,"aria-describedby":void 0,className:(0,m.cn)("overflow-hidden","z-20 msq-dialog-content sm-msq:msq-dialog-content-sm sm-msq:msq-dialog-content-right xl-msq:max-w-[400px]"),children:[(0,t.jsxs)("div",{className:"msq-dialog-header",children:[(0,t.jsx)(k.Dx,{className:"msq-dialog-title ",children:"Profile"}),(0,t.jsx)(k.x8,{asChild:!0,children:(0,t.jsx)("button",{className:"msq-btn msq-btn-ghost msq-btn-icon-md msq-dialog-icon-button",children:(0,t.jsx)(I.s,{className:"msq-btn msq-btn-icon-child"})})})]}),(0,t.jsxs)("div",{className:"msq-dialog-body flex flex-col p-0",children:[(0,t.jsxs)("div",{className:"p-4 pb-3 xl-msq:px-6 xl-msq:pt-5 xl-msq:pb-1.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 xl-msq:gap-2.5 min-h-10 mb-4 xl-msq:mb-5",children:[(0,t.jsx)(S.Z,{className:"msq-avatar-md",src:n.data.attributes.icon,membershipTier:n.data.membershipTier.attributes.key}),(0,t.jsxs)("div",{className:"flex flex-col gap-0.5 xl-msq:gap-0 justify-center overflow-hidden",children:[(0,t.jsx)("span",{className:"text-caption-sm-strong-a truncate","data-qa":"profile-displayed-name",children:n.data.attributes.displayedName||"Noname"}),(0,t.jsx)("span",{className:"text-caption-xs-a text-base-text-tertiary truncate","data-qa":"profile-name",children:n.data.attributes.name||"Noname"})]})]}),d&&(0,t.jsx)(C,{className:"mb-5 xl-msq:mb-[1.625rem]",user:n.data,onOpenChange:r}),(0,t.jsx)("ul",{className:"grid grid-cols-2 gap-1 xl-msq:gap-1.5",children:g.map((e=>{let{action:s,content:a,subContent:n,className:r,id:l,label:i,icon:c}=e;const{Icon:d,colorClassName:u}=c;return(0,t.jsxs)("li",{className:(0,m.cn)("rounded-lg flex gap-2 items-center px-3 py-2 bg-base-bg-secondary",r),children:[(0,t.jsxs)("div",{className:(0,m.cn)("flex gap-0.5 xl-msq:gap-1 pt-0.5 flex-col flex-1 overflow-hidden"),children:[(0,t.jsx)("span",{className:"text-caption-xs-m xl-msq:text-caption-xs-d text-base-text-tertiary truncate",children:i}),(0,t.jsxs)("span",{className:"flex gap-1.5 min-h-6 items-center text-caption-sm-strong-m xl-msq:text-caption-sm-strong-d flex-1",children:[(0,t.jsx)("span",{className:"text-base-text-tertiary flex-shrink-0",children:(0,t.jsx)(d,{className:(0,m.cn)("size-[0.875rem] xl-msq:size-4",u)})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("span",{className:"truncate","data-qa":"profile-balance-data",children:a}),n&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(o.AA,{className:"size-[0.875rem] xl-msq:size-4"}),(0,t.jsx)("span",{className:"truncate","data-qa":"profile-usdt",children:n})]})]})]})]}),s&&(0,t.jsx)(A.Z,{onClick:f,href:s.href,external:s.external,className:"msq-btn msq-btn-tertiary msq-btn-sm min-w-[7.5rem] mr-1 xl-msq:mr-2 xl-msq:min-w-[7.25rem]",children:s.label})]},l)}))}),u&&(0,t.jsx)(E,{userId:null==n?void 0:n.data.id})]}),(0,t.jsxs)("nav",{className:"flex-1 flex flex-col [&>*:not(:first-child)]:shadow-inset-border-top [&>*:not(:first-child)]:shadow-base-border-light",children:[q.map((e=>e.hidden&&e.hidden({user:n})?null:(0,t.jsx)("div",{className:(0,m.cn)(j,e.className),children:e.items.map((e=>e.hidden&&e.hidden({user:n})?null:"support"===e.id?(0,t.jsx)("button",{onClick:()=>{f(),null==a||a()},className:N,children:e.label},e.id):(0,t.jsx)(A.Z,{onClick:f,href:e.href,external:e.external,className:N,children:e.label},e.id)))},e.id))),(0,t.jsx)("div",{className:j,children:(0,t.jsx)("button",{onClick:()=>{null==s||s(),f()},className:N,children:"Logout"})})]})]})]})})})})},_=e=>{let{className:s,onLogout:a,onSupport:r,user:d,...u}=e;const{showKyc:p}=(0,c.j)(),[b,x]=(0,n.useState)(!1),h=d.data.attributes.karma,g=!d.data.attributes.kyc.passed,f=p&&g,q=()=>x(!0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:q,className:"msq-btn md-msq:hidden",children:(0,t.jsx)(S.Z,{src:d.data.attributes.icon,membershipTier:d.data.membershipTier.attributes.key,className:"msq-avatar-md size-[2.25rem]"})}),(0,t.jsxs)("button",{onClick:q,"data-qa":"user-profile-button",className:l()("msq-btn msq-btn-outline max-md-msq:hidden msq-btn-md !pl-[0.3125rem] gap-2 md-msq:gap-3 !py-1 pr-3 md-msq:pr-4 !rounded-full md-msq:msq-btn-lg max-md-msq:text-caption-sm-strong-m md-msq:msq-btn-lg",s),...u,children:[(0,t.jsx)(S.Z,{src:d.data.attributes.icon,membershipTier:d.data.membershipTier.attributes.key,className:"msq-avatar-sm md-msq:msq-avatar-md"}),(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 md-msq:gap-1.5",children:[(0,t.jsx)(i.h,{className:"text-base-text-pink size-3 md-msq:size-4"}),(0,m.Du)(h)]}),f&&(0,t.jsx)(o.ln,{className:"size-4 text-base-text-orange"})]}),(0,t.jsx)(R,{user:d,onLogout:a,open:b,onOpenChange:x,onSupport:r})]})}},40088:function(e,s,a){var t=a(39804),n=(a(93889),a(47177)),r=a.n(n),l=a(50511);s.Z=e=>{let{items:s,isConnected:a,onLogin:n,className:i}=e;return(0,t.jsx)("nav",{className:r()("flex gap-1 md-msq:px-4",i),children:null==s?void 0:s.map((e=>{const s=e.isAuthRequired&&!a;return(0,t.jsx)(l.Z,{className:"msq-btn msq-btn-md px-0 msq-btn-secondary text-caption-sm-strong-m rounded-full flex-1",href:e.href,external:e.external,onClick:e=>{s&&(e.preventDefault(),null==n||n())},children:e.label},e.id)}))})}}}]);
//# sourceMappingURL=layout-87eca7dd-92803d15c0cb4420.js.map