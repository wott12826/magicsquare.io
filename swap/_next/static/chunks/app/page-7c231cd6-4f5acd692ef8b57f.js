"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1860],{18951:function(e,t,n){n.d(t,{j:function(){return d}});var l=n(39804),s=n(93889),a=n(11245),o=n(64521),r=n(25759),i=n(60055);const d=()=>{const e=(0,r.E)(),t=(0,a._E)();return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(i.Z,{modalController:t,maxSlippagePercent:50}),(0,l.jsxs)("button",{className:"button button-ghost gap-1 p-0 border-0 items-center font-normal min-h-0 inline-flex",onClick:t.open,children:[(0,l.jsxs)("span",{className:"leading-none",children:[e.slippagePercent,"%"]}),(0,l.jsx)(o.C,{className:"icon-xs text-secondary"})]})]})}},57570:function(e,t,n){n.d(t,{h:function(){return T}});var l=n(39804),s=n(93889),a=n(42103),o=n(47177),r=n.n(o),i=n(80256),d=n.n(i),c=n(15725),u=n(4373),x=n(56919),m=n(61777),p=n(47476),v=n(52124),f=n(49139),h=n(11016),b=n(72753),g=n(48209),k=n(9073),j=n.n(k),N=n(41803),w=n(25091),C=n(20102),y=n(53423),S=n(12308),E=n(46770),I=n(85172),z=n(96038);const A=e=>{let{url:t}=e;return t?(0,l.jsx)("div",{className:"size-[32px] bg-contain bg-no-repeat bg-center",style:{backgroundImage:'url("'.concat(t,'")')}}):null},F=e=>{let{tokens:t}=e;const n=(0,s.useMemo)((()=>t.filter((e=>{let{attributes:t}=e;return t.favorite}))),[t]);return(0,l.jsx)("div",{className:"flex gap-[8px] flex-wrap my-4",children:n.map((e=>(0,l.jsx)(w.k,{hideName:!0,selectedView:!0,token:e,className:"px-[8px] py-[4px] text-[14px] text-neutral-600 rounded-[8px] border border-1 border-base-border-medium cursor-pointer hover:bg-primary-100 hover:border-base-border-dark transition-colors",onClick:e.handleSelect},e.id)))})},_=e=>{let{tokens:t}=e;return(0,l.jsxs)("div",{className:"relative min-h-0",children:[(0,l.jsx)("div",{className:"h-full overflow-y-scroll",children:(0,l.jsx)("div",{className:"my-[16px]",children:t.map((e=>{let{id:t,attributes:{logoURI:n,name:s,symbol:a},handleSelect:o}=e;return(0,l.jsxs)("div",{onClick:o,className:"group flex flex-row items-center justify-between py-[8px] border-t border-primary-100 first:border-none cursor-pointer",children:[(0,l.jsx)(y.W,{icon:n,ticker:a,note:s,appearance:{caption:"text-neutral-600"}}),(0,l.jsx)(I.o,{className:"icon-xs mr-[8px] text-neutral-600 opacity-0 group-hover:opacity-100 translate-x-[-4px] group-hover:translate-x-0 transition-all"})]},t)}))})}),(0,l.jsx)("div",{className:"absolute top-0 w-full h-[16px] bg-gradient-to-b from-[#FFF] to-transparent"}),(0,l.jsx)("div",{className:"absolute bottom-0 w-full h-[16px] bg-gradient-to-t from-[#FFF] to-transparent"})]})},M=e=>{let{value:t,networks:n=[],isDisabled:a,onValueChange:o}=e;const r=(0,s.useMemo)((()=>n.filter((e=>!!e.attributes.name))),[n]),i=(0,s.useCallback)((e=>{const t=Number.parseFloat(e);null==o||o(t)}),[o]);return(0,l.jsx)(C.P,{value:null==t?void 0:t.toString(),disabled:a,onValueChange:i,children:r.map((e=>{let{id:t,attributes:{name:n,logoUrl:s}}=e;return(0,l.jsx)(C.$,{value:t.toString(),Icon:(0,l.jsx)(A,{url:s}),className:"flex flex-row gap-[8px] z-30",children:n},t)}))})},P=e=>{let{networkId:t,onSelect:n}=e;const{data:a=[],isFetching:o}=(0,p.S2)({networkId:t,options:{placeholderData:e=>e}}),i=(0,s.useMemo)((()=>j()(a,(e=>{let{attributes:{name:t}}=e;return t}))),[a]),[d,c]=(0,s.useState)(""),u=(0,s.useCallback)((e=>{c(e.target.value)}),[]),x=(0,s.useMemo)((()=>i.map((e=>{let{id:t,...l}=e;return{id:t,...l,handleSelect:()=>{null==n||n(t)}}}))),[i,n]),m=(0,s.useMemo)((()=>{const e=new RegExp(d,"i");return d?x.filter((t=>e.test(t.attributes.name)||e.test(t.attributes.symbol))):x}),[x,d]);return(0,l.jsxs)("div",{className:"relative flex flex-col gap-[16px] min-h-0 grow",children:[(0,l.jsxs)("div",{className:r()("transition-opacity flex flex-col gap-[16px] h-full",{"opacity-50":o}),children:[(0,l.jsx)("input",{name:"search-tokens",type:"search",value:d,onChange:u,className:"msq-input msq-search-input pl-[2.25rem] peer w-full hover:border-base-border-dark focus-within:border-base-border-dark",placeholder:"Search tokens..."}),(0,l.jsx)(F,{tokens:m}),(0,l.jsx)(_,{tokens:m})]}),(0,l.jsxs)("div",{className:r()("absolute size-full flex flex-col items-center justify-center content-center",{hidden:!o}),children:[(0,l.jsx)(N.Z,{size:"sm",color:"primary"}),(0,l.jsx)("p",{className:"text-neutral-400 font-bold",children:"Loading tokens..."})]})]})},R=e=>{let{network:t,header:n,onComplete:a}=e;const{data:o=[],isPending:r}=(0,p.zm)(),[i,d]=(0,s.useState)(null==t?void 0:t.id),{data:c=[]}=(0,p.S2)({networkId:i,options:{enabled:!1}}),u=(0,s.useCallback)((e=>{if(console.log("SwapTokenSelectorPrompt::handleSelect"),a){console.log("networks",o);const t=o.find((e=>{let{id:t}=e;return t===i}));if(!t)return void console.warn("Network id ".concat(i," not found."));const n=e.toLowerCase(),l=c.find((e=>{let{id:t}=e;return t.toLowerCase()===n}));if(!l)return void console.warn("Token with address ".concat(e," not found."));a({network:t,token:l})}}),[o,i,c,a]),x=(0,s.useCallback)((()=>{null==a||a()}),[a]);return(0,l.jsx)("div",{className:"bg-neutral-50",children:(0,l.jsx)("div",{className:"p-[32px] w-full h-full",children:(0,l.jsxs)("div",{className:"flex flex-col gap-[32px] h-full overflow-y-hidden",children:[(0,l.jsxs)("div",{className:"flex flex-row gap-[6px] items-center font-[600] text-[28px]",children:[(0,l.jsx)(E.X,{className:"size-[32px] cursor-pointer",onClick:x}),n]}),(0,l.jsxs)("div",{className:"flex flex-col gap-[16px] w-full h-full min-h-0",children:[(0,l.jsx)(M,{value:i,isDisabled:r,networks:o,onValueChange:d}),i&&(0,l.jsx)(P,{networkId:i,onSelect:u})]})]})})})},O=e=>{let{network:t,token:n,label:a,className:o,onChange:i}=e;const{overlayContainer:d}=(0,z.Q)(),[c,u]=(0,s.useState)(!1),x=(0,s.useCallback)((()=>{d?u(!0):console.warn("Wizard context seems to be unavailable.")}),[d]),m=(0,s.useCallback)((e=>{console.log("SwapTokenSelector::handleOverlayComplete"),null==i||i(e),u(!1)}),[i,u]);return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsxs)("div",{className:r()("flex flex-row items-center gap-[4px] cursor-pointer",o),onClick:x,children:[(0,l.jsx)(y.W,{icon:(null==n?void 0:n.attributes.logoURI)||(0,l.jsx)("div",{className:"skeleton-block skeleton-pulse size-[32px] rounded-[50%]"}),ticker:(null==n?void 0:n.attributes.symbol)||"Select a token",note:null==t?void 0:t.attributes.name}),(0,l.jsx)(S.K,{className:"text-neutral-600 size-[16px]"})]}),c&&d&&(0,g.createPortal)((0,l.jsx)(R,{header:a,network:t,onComplete:m}),d)]})},V=/^(0|[1-9]\d*)(\.\d{0,5})?$|^\.\d{0,5}$/,D=e=>{let{value:t,isReadOnly:n,isValueStale:o,onChange:i}=e;const[c,u]=(0,s.useState)(""),x=(0,s.useMemo)((()=>d()((e=>{null==i||i(e)}),500)),[i]),m=(0,s.useCallback)(((e,t)=>{if(console.log("SwapAmountControl::handleValueChange"),"prop"===t.source)return;let n=""!==e.value?Number.parseFloat(e.value):0;n>Number.MAX_SAFE_INTEGER&&(n=Number.MAX_SAFE_INTEGER),u(n?n.toString():""),x(n)}),[x]);return(0,s.useEffect)((()=>{u(t?(0,h.g)(t,5).toString():"")}),[t]),(0,l.jsx)(a.h3,{className:r()("w-full border-0 bg-transparent color-neutral-600 text-right text-[24px] font-[600] text-neutral-600 focus:outline-none",{"animate-pulse-4x":o}),allowNegative:!1,thousandSeparator:!0,value:c,max:Number.MAX_SAFE_INTEGER,readOnly:n,isAllowed:e=>""===e.value||V.test(e.value),onValueChange:n?void 0:m,placeholder:"0.00"})},T=e=>{let{label:t,data:n,onChange:a,isReadOnly:o,isDataStale:i,headerControls:d,error:g}=e;var k,j,N,w,C,y;const S=(0,c.O_)(),{address:E}=(0,u.useAccount)();var I;const{data:z,isPending:A}=(0,b.m)({address:E,chainId:null==n||null===(k=n.network)||void 0===k?void 0:k.id,token:null!==(I=null==n?void 0:n.token)&&void 0!==I?I:void 0}),F=(0,s.useMemo)((()=>z&&(null==n?void 0:n.token)?(0,h.g)((0,m.An)(z,n.token.attributes.decimal),5).toString():"0.00"),[z,null==n?void 0:n.token]),{data:_}=(0,p.AU)({networkId:null==n||null===(j=n.network)||void 0===j?void 0:j.id,tokenAddress:null==n||null===(N=n.token)||void 0===N?void 0:N.id}),M=(0,s.useMemo)((()=>{if(n&&n.token)return _?(0,m.An)(n.amount||0,n.token.attributes.decimal)*_.attributes.price:void 0}),[n,_]),P=(0,s.useMemo)((()=>void 0===M?void 0:(0===M?"":"≈")+"$"+M.toFixed(2)),[M]),R=(0,s.useCallback)((e=>{var t;null==a||a({amount:(0,m.o0)(e,null==n||null===(t=n.token)||void 0===t?void 0:t.attributes.decimal).toBigInt()})}),[null==n||null===(w=n.token)||void 0===w?void 0:w.attributes.decimal,a]);var V;return(0,l.jsx)("div",{className:r()("rounded-[16px] p-[16px] bg-primary-50 border-2 border-primary-50 transition-colors transition-1000",{"border-red-600":!!g}),children:(0,l.jsxs)("div",{className:"flex flex-col gap-[12px] text-neutral-400",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-[8px] text-[14px]",children:[(0,l.jsx)("div",{className:"self-center",children:t}),(0,l.jsx)("div",{className:"flex flex-row justify-end font-bold",children:(0,l.jsxs)("div",{className:"inline-flex flex-row gap-[16px] items-center content-end",children:[S&&E&&(0,l.jsxs)("div",{className:"flex flex-row gap-[4px] items-center",children:[(0,l.jsx)(x.Z,{className:"icon-[24px]"}),(0,l.jsx)("span",{children:A?(0,l.jsx)(v.Z,{size:"sm",className:"m-auto"}):F})]}),d]})})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-[16px] [&>*]:grow [&>*]:justify-between sm:[&>*]:justify-none sm:[&>*]:w-full",children:[(0,l.jsx)(O,{label:t,network:null==n?void 0:n.network,token:null!==(V=null==n?void 0:n.token)&&void 0!==V?V:void 0,onChange:a}),(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)(D,{value:(null==n?void 0:n.amount)?(0,m.An)(null==n?void 0:n.amount,null==n||null===(C=n.token)||void 0===C?void 0:C.attributes.decimal):void 0,isReadOnly:o,isValueStale:i,onChange:R}),(0,l.jsxs)("div",{className:r()("flex flex-row items-center gap-[4px] text-red-600 transition-opacity transition-1000 min-w-0 w-full",g?"opacity-100":"opacity-0"),children:[(0,l.jsx)("div",{className:r()("truncate text-right text-[12px] min-w-0 grow"),title:null==g?void 0:g.message,children:(null==g?void 0:g.message)||"—"}),(null==g?void 0:g.tooltip)&&(0,l.jsx)(f.b,{message:g.tooltip})]})]})]}),(0,l.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,l.jsx)("div",{children:null==n||null===(y=n.token)||void 0===y?void 0:y.attributes.name}),(0,l.jsx)("span",{className:r()({"animate-pulse-4x":i}),children:void 0!==P?P:(0,l.jsx)(v.Z,{size:"sm",className:"m-auto"})})]})]})})}},64942:function(e,t,n){n.d(t,{Ez:function(){return l},H2:function(){return r},Nc:function(){return s}});var l,s,a=n(8074);!function(e){e.SingleChain="SINGLE_CHAIN",e.CrossChain="CROSS_CHAIN"}(l||(l={})),function(e){e.Pending="PENDING",e.Completed="COMPLETED",e.Failed="FAILED",e.Unknown="UNKNOWN"}(s||(s={}));const o=a.z.object({network:a.z.any().refine((e=>!0)),token:a.z.any().refine((e=>!0)).nullable(),amount:a.z.bigint()}),r=a.z.object({source:o,destination:o,slippagePercent:a.z.number()})}}]);
//# sourceMappingURL=page-7c231cd6-4f5acd692ef8b57f.js.map